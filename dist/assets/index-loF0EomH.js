(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function lb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jm={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function KC(){if(rT)return ru;rT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return ru.Fragment=t,ru.jsx=e,ru.jsxs=e,ru}var sT;function $C(){return sT||(sT=1,Jm.exports=KC()),Jm.exports}var z=$C(),tp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function QC(){if(aT)return It;aT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,N={};function P(M,K,at){this.props=M,this.context=K,this.refs=N,this.updater=at||b}P.prototype.isReactComponent={},P.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function U(){}U.prototype=P.prototype;function $(M,K,at){this.props=M,this.context=K,this.refs=N,this.updater=at||b}var q=$.prototype=new U;q.constructor=$,x(q,P.prototype),q.isPureReactComponent=!0;var nt=Array.isArray,Z={H:null,A:null,T:null,S:null},ut=Object.prototype.hasOwnProperty;function O(M,K,at,lt,ct,At){return at=At.ref,{$$typeof:n,type:M,key:K,ref:at!==void 0?at:null,props:At}}function C(M,K){return O(M.type,K,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function I(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return K[at]})}var k=/\/+/g;function F(M,K){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):K.toString(36)}function V(){}function Wt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(V,V):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ht(M,K,at,lt,ct){var At=typeof M;(At==="undefined"||At==="boolean")&&(M=null);var bt=!1;if(M===null)bt=!0;else switch(At){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(M.$$typeof){case n:case t:bt=!0;break;case v:return bt=M._init,ht(bt(M._payload),K,at,lt,ct)}}if(bt)return ct=ct(M),bt=lt===""?"."+F(M,0):lt,nt(ct)?(at="",bt!=null&&(at=bt.replace(k,"$&/")+"/"),ht(ct,K,at,"",function(ue){return ue})):ct!=null&&(R(ct)&&(ct=C(ct,at+(ct.key==null||M&&M.key===ct.key?"":(""+ct.key).replace(k,"$&/")+"/")+bt)),K.push(ct)),1;bt=0;var _e=lt===""?".":lt+":";if(nt(M))for(var Ft=0;Ft<M.length;Ft++)lt=M[Ft],At=_e+F(lt,Ft),bt+=ht(lt,K,at,At,ct);else if(Ft=S(M),typeof Ft=="function")for(M=Ft.call(M),Ft=0;!(lt=M.next()).done;)lt=lt.value,At=_e+F(lt,Ft++),bt+=ht(lt,K,at,At,ct);else if(At==="object"){if(typeof M.then=="function")return ht(Wt(M),K,at,lt,ct);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return bt}function st(M,K,at){if(M==null)return M;var lt=[],ct=0;return ht(M,lt,"","",function(At){return K.call(at,At,ct++)}),lt}function ft(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var dt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Vt(){}return It.Children={map:st,forEach:function(M,K,at){st(M,function(){K.apply(this,arguments)},at)},count:function(M){var K=0;return st(M,function(){K++}),K},toArray:function(M){return st(M,function(K){return K})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},It.Component=P,It.Fragment=e,It.Profiler=a,It.PureComponent=$,It.StrictMode=r,It.Suspense=m,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,It.act=function(){throw Error("act(...) is not supported in production builds of React.")},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cloneElement=function(M,K,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=x({},M.props),ct=M.key,At=void 0;if(K!=null)for(bt in K.ref!==void 0&&(At=void 0),K.key!==void 0&&(ct=""+K.key),K)!ut.call(K,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&K.ref===void 0||(lt[bt]=K[bt]);var bt=arguments.length-2;if(bt===1)lt.children=at;else if(1<bt){for(var _e=Array(bt),Ft=0;Ft<bt;Ft++)_e[Ft]=arguments[Ft+2];lt.children=_e}return O(M.type,ct,void 0,void 0,At,lt)},It.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},It.createElement=function(M,K,at){var lt,ct={},At=null;if(K!=null)for(lt in K.key!==void 0&&(At=""+K.key),K)ut.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ct[lt]=K[lt]);var bt=arguments.length-2;if(bt===1)ct.children=at;else if(1<bt){for(var _e=Array(bt),Ft=0;Ft<bt;Ft++)_e[Ft]=arguments[Ft+2];ct.children=_e}if(M&&M.defaultProps)for(lt in bt=M.defaultProps,bt)ct[lt]===void 0&&(ct[lt]=bt[lt]);return O(M,At,void 0,void 0,null,ct)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:d,render:M}},It.isValidElement=R,It.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ft}},It.memo=function(M,K){return{$$typeof:p,type:M,compare:K===void 0?null:K}},It.startTransition=function(M){var K=Z.T,at={};Z.T=at;try{var lt=M(),ct=Z.S;ct!==null&&ct(at,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Vt,dt)}catch(At){dt(At)}finally{Z.T=K}},It.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},It.use=function(M){return Z.H.use(M)},It.useActionState=function(M,K,at){return Z.H.useActionState(M,K,at)},It.useCallback=function(M,K){return Z.H.useCallback(M,K)},It.useContext=function(M){return Z.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,K){return Z.H.useDeferredValue(M,K)},It.useEffect=function(M,K){return Z.H.useEffect(M,K)},It.useId=function(){return Z.H.useId()},It.useImperativeHandle=function(M,K,at){return Z.H.useImperativeHandle(M,K,at)},It.useInsertionEffect=function(M,K){return Z.H.useInsertionEffect(M,K)},It.useLayoutEffect=function(M,K){return Z.H.useLayoutEffect(M,K)},It.useMemo=function(M,K){return Z.H.useMemo(M,K)},It.useOptimistic=function(M,K){return Z.H.useOptimistic(M,K)},It.useReducer=function(M,K,at){return Z.H.useReducer(M,K,at)},It.useRef=function(M){return Z.H.useRef(M)},It.useState=function(M){return Z.H.useState(M)},It.useSyncExternalStore=function(M,K,at){return Z.H.useSyncExternalStore(M,K,at)},It.useTransition=function(){return Z.H.useTransition()},It.version="19.0.0",It}var oT;function Tg(){return oT||(oT=1,tp.exports=QC()),tp.exports}var L=Tg();const ls=lb(L);var ep={exports:{}},su={},np={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function YC(){return lT||(lT=1,function(n){function t(st,ft){var dt=st.length;st.push(ft);t:for(;0<dt;){var Vt=dt-1>>>1,M=st[Vt];if(0<a(M,ft))st[Vt]=ft,st[dt]=M,dt=Vt;else break t}}function e(st){return st.length===0?null:st[0]}function r(st){if(st.length===0)return null;var ft=st[0],dt=st.pop();if(dt!==ft){st[0]=dt;t:for(var Vt=0,M=st.length,K=M>>>1;Vt<K;){var at=2*(Vt+1)-1,lt=st[at],ct=at+1,At=st[ct];if(0>a(lt,dt))ct<M&&0>a(At,lt)?(st[Vt]=At,st[ct]=dt,Vt=ct):(st[Vt]=lt,st[at]=dt,Vt=at);else if(ct<M&&0>a(At,dt))st[Vt]=At,st[ct]=dt,Vt=ct;else break t}}return ft}function a(st,ft){var dt=st.sortIndex-ft.sortIndex;return dt!==0?dt:st.id-ft.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,T=null,S=3,b=!1,x=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function q(st){for(var ft=e(p);ft!==null;){if(ft.callback===null)r(p);else if(ft.startTime<=st)r(p),ft.sortIndex=ft.expirationTime,t(m,ft);else break;ft=e(p)}}function nt(st){if(N=!1,q(st),!x)if(e(m)!==null)x=!0,Wt();else{var ft=e(p);ft!==null&&ht(nt,ft.startTime-st)}}var Z=!1,ut=-1,O=5,C=-1;function R(){return!(n.unstable_now()-C<O)}function I(){if(Z){var st=n.unstable_now();C=st;var ft=!0;try{t:{x=!1,N&&(N=!1,U(ut),ut=-1),b=!0;var dt=S;try{e:{for(q(st),T=e(m);T!==null&&!(T.expirationTime>st&&R());){var Vt=T.callback;if(typeof Vt=="function"){T.callback=null,S=T.priorityLevel;var M=Vt(T.expirationTime<=st);if(st=n.unstable_now(),typeof M=="function"){T.callback=M,q(st),ft=!0;break e}T===e(m)&&r(m),q(st)}else r(m);T=e(m)}if(T!==null)ft=!0;else{var K=e(p);K!==null&&ht(nt,K.startTime-st),ft=!1}}break t}finally{T=null,S=dt,b=!1}ft=void 0}}finally{ft?k():Z=!1}}}var k;if(typeof $=="function")k=function(){$(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=I,k=function(){V.postMessage(null)}}else k=function(){P(I,0)};function Wt(){Z||(Z=!0,k())}function ht(st,ft){ut=P(function(){st(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(st){st.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,Wt())},n.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<st?Math.floor(1e3/st):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return e(m)},n.unstable_next=function(st){switch(S){case 1:case 2:case 3:var ft=3;break;default:ft=S}var dt=S;S=ft;try{return st()}finally{S=dt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(st,ft){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var dt=S;S=st;try{return ft()}finally{S=dt}},n.unstable_scheduleCallback=function(st,ft,dt){var Vt=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Vt+dt:Vt):dt=Vt,st){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=dt+M,st={id:v++,callback:ft,priorityLevel:st,startTime:dt,expirationTime:M,sortIndex:-1},dt>Vt?(st.sortIndex=dt,t(p,st),e(m)===null&&st===e(p)&&(N?(U(ut),ut=-1):N=!0,ht(nt,dt-Vt))):(st.sortIndex=M,t(m,st),x||b||(x=!0,Wt())),st},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(st){var ft=S;return function(){var dt=S;S=ft;try{return st.apply(this,arguments)}finally{S=dt}}}}(ip)),ip}var uT;function XC(){return uT||(uT=1,np.exports=YC()),np.exports}var rp={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function WC(){if(cT)return Ze;cT=1;var n=Tg();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ze.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,v)},Ze.flushSync=function(m){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=v,r.d.f()}},Ze.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Ze.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ze.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:b}):v==="script"&&r.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ze.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Ze.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin);r.d.L(m,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ze.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Ze.requestFormReset=function(m){r.d.r(m)},Ze.unstable_batchedUpdates=function(m,p){return m(p)},Ze.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.0.0",Ze}var hT;function ZC(){if(hT)return rp.exports;hT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),rp.exports=WC(),rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function JC(){if(fT)return su;fT=1;var n=XC(),t=Tg(),e=ZC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),b=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),nt=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ut(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case m:return"Fragment";case d:return"Portal";case v:return"Profiler";case p:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Provider";case S:return(i._context.displayName||"Context")+".Consumer";case x:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return s=i.displayName||null,s!==null?s:C(i.type)||"Memo";case $:s=i._payload,i=i._init;try{return C(i(s))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,k,F;function V(i){if(k===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+i+F}var Wt=!1;function ht(i,s){if(!i||Wt)return"";Wt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(W){var Y=W}Reflect.construct(i,[],rt)}else{try{rt.call()}catch(W){Y=W}i.call(rt.prototype)}}else{try{throw Error()}catch(W){Y=W}(rt=i())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var D=E.split(`
`),B=w.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===B.length)for(u=D.length-1,f=B.length-1;1<=u&&0<=f&&D[u]!==B[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==B[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==B[f]){var J=`
`+D[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=f);break}}}finally{Wt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?V(o):""}function st(i){switch(i.tag){case 26:case 27:case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return i=ht(i.type,!1),i;case 11:return i=ht(i.type.render,!1),i;case 1:return i=ht(i.type,!0),i;default:return""}}function ft(i){try{var s="";do s+=st(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function dt(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function Vt(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function M(i){if(dt(i)!==i)throw Error(r(188))}function K(i){var s=i.alternate;if(!s){if(s=dt(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return M(f),i;if(g===u)return M(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=g;break}if(w===u){E=!0,u=f,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,u=f;break}if(w===u){E=!0,u=g,o=f;break}w=w.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function at(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=at(i),s!==null)return s;i=i.sibling}return null}var lt=Array.isArray,ct=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},bt=[],_e=-1;function Ft(i){return{current:i}}function ue(i){0>_e||(i.current=bt[_e],bt[_e]=null,_e--)}function Qt(i,s){_e++,bt[_e]=i.current,i.current=s}var an=Ft(null),Di=Ft(null),In=Ft(null),yr=Ft(null);function vr(i,s){switch(Qt(In,s),Qt(Di,i),Qt(an,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?N0(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=N0(i),s=O0(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ue(an),Qt(an,s)}function Vi(){ue(an),ue(Di),ue(In)}function Jo(i){i.memoizedState!==null&&Qt(yr,i);var s=an.current,o=O0(s,i.type);s!==o&&(Qt(Di,i),Qt(an,o))}function wa(i){Di.current===i&&(ue(an),ue(Di)),yr.current===i&&(ue(yr),Jl._currentValue=At)}var Aa=Object.prototype.hasOwnProperty,Ds=n.unstable_scheduleCallback,Ra=n.unstable_cancelCallback,ed=n.unstable_shouldYield,tl=n.unstable_requestPaint,dn=n.unstable_now,rc=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,Ne=n.unstable_UserBlockingPriority,Pi=n.unstable_NormalPriority,sc=n.unstable_LowPriority,el=n.unstable_IdlePriority,nd=n.log,Vs=n.unstable_setDisableYieldValue,_r=null,Xe=null;function nl(i){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(_r,i,void 0,(i.current.flags&128)===128)}catch{}}function si(i){if(typeof nd=="function"&&Vs(i),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(_r,i)}catch{}}var on=Math.clz32?Math.clz32:oc,il=Math.log,ac=Math.LN2;function oc(i){return i>>>=0,i===0?32:31-(il(i)/ac|0)|0}var ai=128,Tr=4194304;function Qn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Dn(i,s){var o=i.pendingLanes;if(o===0)return 0;var u=0,f=i.suspendedLanes,g=i.pingedLanes,E=i.warmLanes;i=i.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~f,o!==0?u=Qn(o):(g&=w,g!==0?u=Qn(g):i||(E=w&~E,E!==0&&(u=Qn(E))))):(w=o&~f,w!==0?u=Qn(w):g!==0?u=Qn(g):i||(E=o&~E,E!==0&&(u=Qn(E)))),u===0?0:s!==0&&s!==u&&!(s&f)&&(f=u&-u,E=s&-s,f>=E||f===32&&(E&4194176)!==0)?s:u}function Er(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ca(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rl(){var i=ai;return ai<<=1,!(ai&4194176)&&(ai=128),i}function Sr(){var i=Tr;return Tr<<=1,!(Tr&62914560)&&(Tr=4194304),i}function xa(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function pe(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function lc(i,s,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,D=i.expirationTimes,B=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-on(o),rt=1<<J;w[J]=0,D[J]=-1;var Y=B[J];if(Y!==null)for(B[J]=null,J=0;J<Y.length;J++){var W=Y[J];W!==null&&(W.lane&=-536870913)}o&=~rt}u!==0&&br(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function br(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-on(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function wr(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-on(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function uc(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function cc(){var i=ct.p;return i!==0?i:(i=window.event,i===void 0?32:Z0(i.type))}function Ar(i,s){var o=ct.p;try{return ct.p=i,s()}finally{ct.p=o}}var oi=Math.random().toString(36).slice(2),Oe="__reactFiber$"+oi,Ce="__reactProps$"+oi,Ni="__reactContainer$"+oi,Ps="__reactEvents$"+oi,Ia="__reactListeners$"+oi,li="__reactHandles$"+oi,sl="__reactResources$"+oi,Rr="__reactMarker$"+oi;function Ns(i){delete i[Oe],delete i[Ce],delete i[Ps],delete i[Ia],delete i[li]}function Yn(i){var s=i[Oe];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ni]||o[Oe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=k0(i);i!==null;){if(o=i[Oe])return o;i=k0(i)}return s}i=o,o=i.parentNode}return null}function Oi(i){if(i=i[Oe]||i[Ni]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Cr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function xr(i){var s=i[sl];return s||(s=i[sl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ie(i){i[Rr]=!0}var al=new Set,Da={};function vn(i,s){mn(i,s),mn(i+"Capture",s)}function mn(i,s){for(Da[i]=s,i=0;i<s.length;i++)al.add(s[i])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),id=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ll={};function hc(i){return Aa.call(ll,i)?!0:Aa.call(ol,i)?!1:id.test(i)?ll[i]=!0:(ol[i]=!0,!1)}function Ir(i,s,o){if(hc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Dr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Vn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fc(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rd(i){var s=fc(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Os(i){i._valueTracker||(i._valueTracker=rd(i))}function ul(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=fc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Va(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Mi=/[\n"\\]/g;function ce(i){return i.replace(Mi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vr(i,s,o,u,f,g,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+ln(s)):i.value!==""+ln(s)&&(i.value=""+ln(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Pa(i,E,ln(s)):o!=null?Pa(i,E,ln(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+ln(w):i.removeAttribute("name")}function Ms(i,s,o,u,f,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Pa(i,s,o){s==="number"&&Va(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ht(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Ls(i,s,o){if(s!=null&&(s=""+ln(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+ln(o):""}function Pr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(lt(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=ln(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Pn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var sd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||sd.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function dc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&cl(i,f,u)}else for(var g in s)s.hasOwnProperty(g)&&cl(i,g,s[g])}function hl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),od=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ui(i){return od.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Nn=null;function Na(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Li=null,ki=null;function Ui(i){var s=Oi(i);if(s&&(i=s.stateNode)){var o=i[Ce]||null;t:switch(i=s.stateNode,s.type){case"input":if(Vr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ce(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[Ce]||null;if(!f)throw Error(r(90));Vr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&ul(u)}break t;case"textarea":Ls(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Ht(i,!!o.multiple,s,!1)}}}var fl=!1;function mc(i,s,o){if(fl)return i(s,o);fl=!0;try{var u=i(s);return u}finally{if(fl=!1,(Li!==null||ki!==null)&&(sh(),Li&&(s=Li,i=ki,ki=Li=null,Ui(s),i)))for(s=0;s<i.length;s++)Ui(i[s])}}function ks(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ce]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var On=!1;if(_n)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){On=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{On=!1}var ci=null,Nr=null,ji=null;function dl(){if(ji)return ji;var i,s=Nr,o=s.length,u,f="value"in ci?ci.value:ci.textContent,g=f.length;for(i=0;i<o&&s[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return ji=f.slice(i,1<u?1-u:void 0)}function hi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function fi(){return!0}function ml(){return!1}function Me(i){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?fi:ml,this.isPropagationStopped=ml,this}return I(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),s}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Me(Kt),js=I({},Kt,{view:0,detail:0}),pc=Me(js),Ma,La,di,Bs=I({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(Ma=i.screenX-di.screenX,La=i.screenY-di.screenY):La=Ma=0,di=i),Ma)},movementY:function(i){return"movementY"in i?i.movementY:La}}),Mn=Me(Bs),gc=I({},Bs,{dataTransfer:0}),ld=Me(gc),zs=I({},js,{relatedTarget:0}),ka=Me(zs),pl=I({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Me(pl),yc=I({},Kt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ja=Me(yc),ud=I({},Kt,{data:0}),gl=Me(ud),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=_c[i])?!!s[i]:!1}function Hs(){return yl}var Tc=I({},js,{key:function(i){if(i.key){var s=Fs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(i){return i.type==="keypress"?hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ba=Me(Tc),Ec=I({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vl=Me(Ec),Bi=I({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),Sc=Me(Bi),bc=I({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wc=Me(bc),Ac=I({},Bs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),za=Me(Ac),un=I({},Kt,{newState:0,oldState:0}),Rc=Me(un),Cc=[9,13,27,32],mi=_n&&"CompositionEvent"in window,h=null;_n&&"documentMode"in document&&(h=document.documentMode);var y=_n&&"TextEvent"in window&&!h,_=_n&&(!mi||h&&8<h&&11>=h),A=" ",G=!1;function X(i,s){switch(i){case"keyup":return Cc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ut=!1;function xe(i,s){switch(i){case"compositionend":return ot(s);case"keypress":return s.which!==32?null:(G=!0,A);case"textInput":return i=s.data,i===A&&G?null:i;default:return null}}function jt(i,s){if(Ut)return i==="compositionend"||!mi&&X(i,s)?(i=dl(),ji=Nr=ci=null,Ut=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Le[i.type]:s==="textarea"}function zi(i,s,o,u){Li?ki?ki.push(u):ki=[u]:Li=u,s=ch(s,"onChange"),0<s.length&&(o=new Oa("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var ze=null,pi=null;function _l(i){x0(i,0)}function xc(i){var s=Cr(i);if(ul(s))return i}function iv(i,s){if(i==="change")return s}var rv=!1;if(_n){var cd;if(_n){var hd="oninput"in document;if(!hd){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),hd=typeof sv.oninput=="function"}cd=hd}else cd=!1;rv=cd&&(!document.documentMode||9<document.documentMode)}function av(){ze&&(ze.detachEvent("onpropertychange",ov),pi=ze=null)}function ov(i){if(i.propertyName==="value"&&xc(pi)){var s=[];zi(s,pi,i,Na(i)),mc(_l,s)}}function S1(i,s,o){i==="focusin"?(av(),ze=s,pi=o,ze.attachEvent("onpropertychange",ov)):i==="focusout"&&av()}function b1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xc(pi)}function w1(i,s){if(i==="click")return xc(s)}function A1(i,s){if(i==="input"||i==="change")return xc(s)}function R1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Tn=typeof Object.is=="function"?Object.is:R1;function Tl(i,s){if(Tn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Aa.call(s,f)||!Tn(i[f],s[f]))return!1}return!0}function lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uv(i,s){var o=lv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=lv(o)}}function cv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?cv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function hv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Va(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Va(i.document)}return s}function fd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function C1(i,s){var o=hv(s);s=i.focusedElem;var u=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&cv(s.ownerDocument.documentElement,s)){if(u!==null&&fd(s)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var f=s.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!o.extend&&g>u&&(f=u,u=g,g=f),f=uv(s,g);var E=uv(s,u);f&&E&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),o.removeAllRanges(),g>u?(o.addRange(i),o.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var x1=_n&&"documentMode"in document&&11>=document.documentMode,Fa=null,dd=null,El=null,md=!1;function fv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;md||Fa==null||Fa!==Va(u)||(u=Fa,"selectionStart"in u&&fd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),El&&Tl(El,u)||(El=u,u=ch(dd,"onSelect"),0<u.length&&(s=new Oa("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Fa)))}function qs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ha={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},pd={},dv={};_n&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Gs(i){if(pd[i])return pd[i];if(!Ha[i])return i;var s=Ha[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in dv)return pd[i]=s[o];return i}var mv=Gs("animationend"),pv=Gs("animationiteration"),gv=Gs("animationstart"),I1=Gs("transitionrun"),D1=Gs("transitionstart"),V1=Gs("transitioncancel"),yv=Gs("transitionend"),vv=new Map,_v="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xn(i,s){vv.set(i,s),vn(s,[i])}var Ln=[],qa=0,gd=0;function Ic(){for(var i=qa,s=gd=qa=0;s<i;){var o=Ln[s];Ln[s++]=null;var u=Ln[s];Ln[s++]=null;var f=Ln[s];Ln[s++]=null;var g=Ln[s];if(Ln[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Tv(o,f,g)}}function Dc(i,s,o,u){Ln[qa++]=i,Ln[qa++]=s,Ln[qa++]=o,Ln[qa++]=u,gd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function yd(i,s,o,u){return Dc(i,s,o,u),Vc(i)}function Or(i,s){return Dc(i,null,null,s),Vc(i)}function Tv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;f&&s!==null&&i.tag===3&&(g=i.stateNode,f=31-on(o),g=g.hiddenUpdates,i=g[f],i===null?g[f]=[s]:i.push(s),s.lane=o|536870912)}function Vc(i){if(50<Kl)throw Kl=0,bm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ga={},Ev=new WeakMap;function kn(i,s){if(typeof i=="object"&&i!==null){var o=Ev.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ft(s)},Ev.set(i,s),s)}return{value:i,source:s,stack:ft(s)}}var Ka=[],$a=0,Pc=null,Nc=0,Un=[],jn=0,Ks=null,Fi=1,Hi="";function $s(i,s){Ka[$a++]=Nc,Ka[$a++]=Pc,Pc=i,Nc=s}function Sv(i,s,o){Un[jn++]=Fi,Un[jn++]=Hi,Un[jn++]=Ks,Ks=i;var u=Fi;i=Hi;var f=32-on(u)-1;u&=~(1<<f),o+=1;var g=32-on(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Fi=1<<32-on(s)+f|o<<f|u,Hi=g+i}else Fi=1<<g|o<<f|u,Hi=i}function vd(i){i.return!==null&&($s(i,1),Sv(i,1,0))}function _d(i){for(;i===Pc;)Pc=Ka[--$a],Ka[$a]=null,Nc=Ka[--$a],Ka[$a]=null;for(;i===Ks;)Ks=Un[--jn],Un[jn]=null,Hi=Un[--jn],Un[jn]=null,Fi=Un[--jn],Un[jn]=null}var cn=null,Fe=null,qt=!1,Wn=null,gi=!1,Td=Error(r(519));function Qs(i){var s=Error(r(418,""));throw wl(kn(s,i)),Td}function bv(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Oe]=i,s[Ce]=u,o){case"dialog":Lt("cancel",s),Lt("close",s);break;case"iframe":case"object":case"embed":Lt("load",s);break;case"video":case"audio":for(o=0;o<Ql.length;o++)Lt(Ql[o],s);break;case"source":Lt("error",s);break;case"img":case"image":case"link":Lt("error",s),Lt("load",s);break;case"details":Lt("toggle",s);break;case"input":Lt("invalid",s),Ms(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Os(s);break;case"select":Lt("invalid",s);break;case"textarea":Lt("invalid",s),Pr(s,u.value,u.defaultValue,u.children),Os(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||P0(s.textContent,o)?(u.popover!=null&&(Lt("beforetoggle",s),Lt("toggle",s)),u.onScroll!=null&&Lt("scroll",s),u.onScrollEnd!=null&&Lt("scrollend",s),u.onClick!=null&&(s.onclick=hh),s=!0):s=!1,s||Qs(i)}function wv(i){for(cn=i.return;cn;)switch(cn.tag){case 3:case 27:gi=!0;return;case 5:case 13:gi=!1;return;default:cn=cn.return}}function Sl(i){if(i!==cn)return!1;if(!qt)return wv(i),qt=!0,!1;var s=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Bm(i.type,i.memoizedProps)),o=!o),o&&(s=!0),s&&Fe&&Qs(i),wv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Fe=Jn(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Fe=null}}else Fe=cn?Jn(i.stateNode.nextSibling):null;return!0}function bl(){Fe=cn=null,qt=!1}function wl(i){Wn===null?Wn=[i]:Wn.push(i)}var Al=Error(r(460)),Av=Error(r(474)),Ed={then:function(){}};function Rv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Oc(){}function Cv(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Oc,Oc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Al?Error(r(483)):i;default:if(typeof s.status=="string")s.then(Oc,Oc);else{if(i=Jt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Al?Error(r(483)):i}throw Rl=s,Al}}var Rl=null;function xv(){if(Rl===null)throw Error(r(459));var i=Rl;return Rl=null,i}var Qa=null,Cl=0;function Mc(i){var s=Cl;return Cl+=1,Qa===null&&(Qa=[]),Cv(Qa,i,s)}function xl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Lc(i,s){throw s.$$typeof===l?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Iv(i){var s=i._init;return s(i._payload)}function Dv(i){function s(H,j){if(i){var Q=H.deletions;Q===null?(H.deletions=[j],H.flags|=16):Q.push(j)}}function o(H,j){if(!i)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function u(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function f(H,j){return H=Kr(H,j),H.index=0,H.sibling=null,H}function g(H,j,Q){return H.index=Q,i?(Q=H.alternate,Q!==null?(Q=Q.index,Q<j?(H.flags|=33554434,j):Q):(H.flags|=33554434,j)):(H.flags|=1048576,j)}function E(H){return i&&H.alternate===null&&(H.flags|=33554434),H}function w(H,j,Q,tt){return j===null||j.tag!==6?(j=pm(Q,H.mode,tt),j.return=H,j):(j=f(j,Q),j.return=H,j)}function D(H,j,Q,tt){var pt=Q.type;return pt===m?J(H,j,Q.props.children,tt,Q.key):j!==null&&(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===$&&Iv(pt)===j.type)?(j=f(j,Q.props),xl(j,Q),j.return=H,j):(j=th(Q.type,Q.key,Q.props,null,H.mode,tt),xl(j,Q),j.return=H,j)}function B(H,j,Q,tt){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=gm(Q,H.mode,tt),j.return=H,j):(j=f(j,Q.children||[]),j.return=H,j)}function J(H,j,Q,tt,pt){return j===null||j.tag!==7?(j=ra(Q,H.mode,tt,pt),j.return=H,j):(j=f(j,Q),j.return=H,j)}function rt(H,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=pm(""+j,H.mode,Q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return Q=th(j.type,j.key,j.props,null,H.mode,Q),xl(Q,j),Q.return=H,Q;case d:return j=gm(j,H.mode,Q),j.return=H,j;case $:var tt=j._init;return j=tt(j._payload),rt(H,j,Q)}if(lt(j)||ut(j))return j=ra(j,H.mode,Q,null),j.return=H,j;if(typeof j.then=="function")return rt(H,Mc(j),Q);if(j.$$typeof===b)return rt(H,Wc(H,j),Q);Lc(H,j)}return null}function Y(H,j,Q,tt){var pt=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return pt!==null?null:w(H,j,""+Q,tt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return Q.key===pt?D(H,j,Q,tt):null;case d:return Q.key===pt?B(H,j,Q,tt):null;case $:return pt=Q._init,Q=pt(Q._payload),Y(H,j,Q,tt)}if(lt(Q)||ut(Q))return pt!==null?null:J(H,j,Q,tt,null);if(typeof Q.then=="function")return Y(H,j,Mc(Q),tt);if(Q.$$typeof===b)return Y(H,j,Wc(H,Q),tt);Lc(H,Q)}return null}function W(H,j,Q,tt,pt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return H=H.get(Q)||null,w(j,H,""+tt,pt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case c:return H=H.get(tt.key===null?Q:tt.key)||null,D(j,H,tt,pt);case d:return H=H.get(tt.key===null?Q:tt.key)||null,B(j,H,tt,pt);case $:var Pt=tt._init;return tt=Pt(tt._payload),W(H,j,Q,tt,pt)}if(lt(tt)||ut(tt))return H=H.get(Q)||null,J(j,H,tt,pt,null);if(typeof tt.then=="function")return W(H,j,Q,Mc(tt),pt);if(tt.$$typeof===b)return W(H,j,Q,Wc(j,tt),pt);Lc(j,tt)}return null}function yt(H,j,Q,tt){for(var pt=null,Pt=null,vt=j,Tt=j=0,je=null;vt!==null&&Tt<Q.length;Tt++){vt.index>Tt?(je=vt,vt=null):je=vt.sibling;var Gt=Y(H,vt,Q[Tt],tt);if(Gt===null){vt===null&&(vt=je);break}i&&vt&&Gt.alternate===null&&s(H,vt),j=g(Gt,j,Tt),Pt===null?pt=Gt:Pt.sibling=Gt,Pt=Gt,vt=je}if(Tt===Q.length)return o(H,vt),qt&&$s(H,Tt),pt;if(vt===null){for(;Tt<Q.length;Tt++)vt=rt(H,Q[Tt],tt),vt!==null&&(j=g(vt,j,Tt),Pt===null?pt=vt:Pt.sibling=vt,Pt=vt);return qt&&$s(H,Tt),pt}for(vt=u(vt);Tt<Q.length;Tt++)je=W(vt,H,Tt,Q[Tt],tt),je!==null&&(i&&je.alternate!==null&&vt.delete(je.key===null?Tt:je.key),j=g(je,j,Tt),Pt===null?pt=je:Pt.sibling=je,Pt=je);return i&&vt.forEach(function(Jr){return s(H,Jr)}),qt&&$s(H,Tt),pt}function Ct(H,j,Q,tt){if(Q==null)throw Error(r(151));for(var pt=null,Pt=null,vt=j,Tt=j=0,je=null,Gt=Q.next();vt!==null&&!Gt.done;Tt++,Gt=Q.next()){vt.index>Tt?(je=vt,vt=null):je=vt.sibling;var Jr=Y(H,vt,Gt.value,tt);if(Jr===null){vt===null&&(vt=je);break}i&&vt&&Jr.alternate===null&&s(H,vt),j=g(Jr,j,Tt),Pt===null?pt=Jr:Pt.sibling=Jr,Pt=Jr,vt=je}if(Gt.done)return o(H,vt),qt&&$s(H,Tt),pt;if(vt===null){for(;!Gt.done;Tt++,Gt=Q.next())Gt=rt(H,Gt.value,tt),Gt!==null&&(j=g(Gt,j,Tt),Pt===null?pt=Gt:Pt.sibling=Gt,Pt=Gt);return qt&&$s(H,Tt),pt}for(vt=u(vt);!Gt.done;Tt++,Gt=Q.next())Gt=W(vt,H,Tt,Gt.value,tt),Gt!==null&&(i&&Gt.alternate!==null&&vt.delete(Gt.key===null?Tt:Gt.key),j=g(Gt,j,Tt),Pt===null?pt=Gt:Pt.sibling=Gt,Pt=Gt);return i&&vt.forEach(function(GC){return s(H,GC)}),qt&&$s(H,Tt),pt}function de(H,j,Q,tt){if(typeof Q=="object"&&Q!==null&&Q.type===m&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:t:{for(var pt=Q.key;j!==null;){if(j.key===pt){if(pt=Q.type,pt===m){if(j.tag===7){o(H,j.sibling),tt=f(j,Q.props.children),tt.return=H,H=tt;break t}}else if(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===$&&Iv(pt)===j.type){o(H,j.sibling),tt=f(j,Q.props),xl(tt,Q),tt.return=H,H=tt;break t}o(H,j);break}else s(H,j);j=j.sibling}Q.type===m?(tt=ra(Q.props.children,H.mode,tt,Q.key),tt.return=H,H=tt):(tt=th(Q.type,Q.key,Q.props,null,H.mode,tt),xl(tt,Q),tt.return=H,H=tt)}return E(H);case d:t:{for(pt=Q.key;j!==null;){if(j.key===pt)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){o(H,j.sibling),tt=f(j,Q.children||[]),tt.return=H,H=tt;break t}else{o(H,j);break}else s(H,j);j=j.sibling}tt=gm(Q,H.mode,tt),tt.return=H,H=tt}return E(H);case $:return pt=Q._init,Q=pt(Q._payload),de(H,j,Q,tt)}if(lt(Q))return yt(H,j,Q,tt);if(ut(Q)){if(pt=ut(Q),typeof pt!="function")throw Error(r(150));return Q=pt.call(Q),Ct(H,j,Q,tt)}if(typeof Q.then=="function")return de(H,j,Mc(Q),tt);if(Q.$$typeof===b)return de(H,j,Wc(H,Q),tt);Lc(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(o(H,j.sibling),tt=f(j,Q),tt.return=H,H=tt):(o(H,j),tt=pm(Q,H.mode,tt),tt.return=H,H=tt),E(H)):o(H,j)}return function(H,j,Q,tt){try{Cl=0;var pt=de(H,j,Q,tt);return Qa=null,pt}catch(vt){if(vt===Al)throw vt;var Pt=Hn(29,vt,null,H.mode);return Pt.lanes=tt,Pt.return=H,Pt}finally{}}}var Ys=Dv(!0),Vv=Dv(!1),Ya=Ft(null),kc=Ft(0);function Pv(i,s){i=tr,Qt(kc,i),Qt(Ya,s),tr=i|s.baseLanes}function Sd(){Qt(kc,tr),Qt(Ya,Ya.current)}function bd(){tr=kc.current,ue(Ya),ue(kc)}var Bn=Ft(null),yi=null;function Mr(i){var s=i.alternate;Qt(De,De.current&1),Qt(Bn,i),yi===null&&(s===null||Ya.current!==null||s.memoizedState!==null)&&(yi=i)}function Nv(i){if(i.tag===22){if(Qt(De,De.current),Qt(Bn,i),yi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(yi=i)}}else Lr()}function Lr(){Qt(De,De.current),Qt(Bn,Bn.current)}function qi(i){ue(Bn),yi===i&&(yi=null),ue(De)}var De=Ft(0);function Uc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var P1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},N1=n.unstable_scheduleCallback,O1=n.unstable_NormalPriority,Ve={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new P1,data:new Map,refCount:0}}function Il(i){i.refCount--,i.refCount===0&&N1(O1,function(){i.controller.abort()})}var Dl=null,Ad=0,Xa=0,Wa=null;function M1(i,s){if(Dl===null){var o=Dl=[];Ad=0,Xa=Vm(),Wa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ad++,s.then(Ov,Ov),s}function Ov(){if(--Ad===0&&Dl!==null){Wa!==null&&(Wa.status="fulfilled");var i=Dl;Dl=null,Xa=0,Wa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function L1(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Mv=R.S;R.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&M1(i,s),Mv!==null&&Mv(i,s)};var Xs=Ft(null);function Rd(){var i=Xs.current;return i!==null?i:Jt.pooledCache}function jc(i,s){s===null?Qt(Xs,Xs.current):Qt(Xs,s.pool)}function Lv(){var i=Rd();return i===null?null:{parent:Ve._currentValue,pool:i}}var kr=0,Dt=null,Yt=null,Te=null,Bc=!1,Za=!1,Ws=!1,zc=0,Vl=0,Ja=null,k1=0;function ge(){throw Error(r(321))}function Cd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Tn(i[o],s[o]))return!1;return!0}function xd(i,s,o,u,f,g){return kr=g,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=i===null||i.memoizedState===null?Zs:Ur,Ws=!1,g=o(u,f),Ws=!1,Za&&(g=Uv(s,o,u,f)),kv(i),g}function kv(i){R.H=vi;var s=Yt!==null&&Yt.next!==null;if(kr=0,Te=Yt=Dt=null,Bc=!1,Vl=0,Ja=null,s)throw Error(r(300));i===null||ke||(i=i.dependencies,i!==null&&Xc(i)&&(ke=!0))}function Uv(i,s,o,u){Dt=i;var f=0;do{if(Za&&(Ja=null),Vl=0,Za=!1,25<=f)throw Error(r(301));if(f+=1,Te=Yt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=Js,g=s(o,u)}while(Za);return g}function U1(){var i=R.H,s=i.useState()[0];return s=typeof s.then=="function"?Pl(s):s,i=i.useState()[0],(Yt!==null?Yt.memoizedState:null)!==i&&(Dt.flags|=1024),s}function Id(){var i=zc!==0;return zc=0,i}function Dd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Vd(i){if(Bc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Bc=!1}kr=0,Te=Yt=Dt=null,Za=!1,Vl=zc=0,Ja=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Dt.memoizedState=Te=i:Te=Te.next=i,Te}function Ee(){if(Yt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Yt.next;var s=Te===null?Dt.memoizedState:Te.next;if(s!==null)Te=s,Yt=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Yt=i,i={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Dt.memoizedState=Te=i:Te=Te.next=i}return Te}var Fc;Fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Pl(i){var s=Vl;return Vl+=1,Ja===null&&(Ja=[]),i=Cv(Ja,i,s),s=Dt,(Te===null?s.memoizedState:Te.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Zs:Ur),i}function Hc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Pl(i);if(i.$$typeof===b)return We(i)}throw Error(r(438,String(i)))}function Pd(i){var s=null,o=Dt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Fc(),Dt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=nt;return s.index++,o}function Gi(i,s){return typeof s=="function"?s(i):s}function qc(i){var s=Ee();return Nd(s,Yt,i)}function Nd(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{s=f.next;var w=E=null,D=null,B=s,J=!1;do{var rt=B.lane&-536870913;if(rt!==B.lane?(Bt&rt)===rt:(kr&rt)===rt){var Y=B.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),rt===Xa&&(J=!0);else if((kr&Y)===Y){B=B.next,Y===Xa&&(J=!0);continue}else rt={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=rt,E=g):D=D.next=rt,Dt.lanes|=Y,$r|=Y;rt=B.action,Ws&&o(g,rt),g=B.hasEagerState?B.eagerState:o(g,rt)}else Y={lane:rt,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(w=D=Y,E=g):D=D.next=Y,Dt.lanes|=rt,$r|=rt;B=B.next}while(B!==null&&B!==s);if(D===null?E=g:D.next=w,!Tn(g,i.memoizedState)&&(ke=!0,J&&(o=Wa,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=D,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Od(i){var s=Ee(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);Tn(g,s.memoizedState)||(ke=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function jv(i,s,o){var u=Dt,f=Ee(),g=qt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Tn((Yt||f).memoizedState,o);if(E&&(f.memoizedState=o,ke=!0),f=f.queue,kd(Fv.bind(null,u,f,i),[i]),f.getSnapshot!==s||E||Te!==null&&Te.memoizedState.tag&1){if(u.flags|=2048,to(9,zv.bind(null,u,f,o,s),{destroy:void 0},null),Jt===null)throw Error(r(349));g||kr&60||Bv(u,s,o)}return o}function Bv(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Dt.updateQueue,s===null?(s=Fc(),Dt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function zv(i,s,o,u){s.value=o,s.getSnapshot=u,Hv(s)&&qv(i)}function Fv(i,s,o){return o(function(){Hv(s)&&qv(i)})}function Hv(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Tn(i,o)}catch{return!0}}function qv(i){var s=Or(i,2);s!==null&&hn(s,i,2)}function Md(i){var s=pn();if(typeof i=="function"){var o=i;if(i=o(),Ws){si(!0);try{o()}finally{si(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:i},s}function Gv(i,s,o,u){return i.baseState=o,Nd(i,Yt,typeof u=="function"?u:Gi)}function j1(i,s,o,u,f){if($c(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};R.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Kv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Kv(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var g=R.T,E={};R.T=E;try{var w=o(f,u),D=R.S;D!==null&&D(E,w),$v(i,s,w)}catch(B){Ld(i,s,B)}finally{R.T=g}}else try{g=o(f,u),$v(i,s,g)}catch(B){Ld(i,s,B)}}function $v(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Qv(i,s,u)},function(u){return Ld(i,s,u)}):Qv(i,s,o)}function Qv(i,s,o){s.status="fulfilled",s.value=o,Yv(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Kv(i,o)))}function Ld(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Yv(s),s=s.next;while(s!==u)}i.action=null}function Yv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Xv(i,s){return s}function Wv(i,s){if(qt){var o=Jt.formState;if(o!==null){t:{var u=Dt;if(qt){if(Fe){e:{for(var f=Fe,g=gi;f.nodeType!==8;){if(!g){f=null;break e}if(f=Jn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Fe=Jn(f.nextSibling),u=f.data==="F!";break t}}Qs(u)}u=!1}u&&(s=o[0])}}return o=pn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:s},o.queue=u,o=p_.bind(null,Dt,u),u.dispatch=o,u=Md(!1),g=Fd.bind(null,Dt,!1,u.queue),u=pn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=j1.bind(null,Dt,f,g,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function Zv(i){var s=Ee();return Jv(s,Yt,i)}function Jv(i,s,o){s=Nd(i,s,Xv)[0],i=qc(Gi)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Pl(s):s;var u=Ee(),f=u.queue,g=f.dispatch;return o!==u.memoizedState&&(Dt.flags|=2048,to(9,B1.bind(null,f,o),{destroy:void 0},null)),[s,g,i]}function B1(i,s){i.action=s}function t_(i){var s=Ee(),o=Yt;if(o!==null)return Jv(s,o,i);Ee(),s=s.memoizedState,o=Ee();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function to(i,s,o,u){return i={tag:i,create:s,inst:o,deps:u,next:null},s=Dt.updateQueue,s===null&&(s=Fc(),Dt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function e_(){return Ee().memoizedState}function Gc(i,s,o,u){var f=pn();Dt.flags|=i,f.memoizedState=to(1|s,o,{destroy:void 0},u===void 0?null:u)}function Kc(i,s,o,u){var f=Ee();u=u===void 0?null:u;var g=f.memoizedState.inst;Yt!==null&&u!==null&&Cd(u,Yt.memoizedState.deps)?f.memoizedState=to(s,o,g,u):(Dt.flags|=i,f.memoizedState=to(1|s,o,g,u))}function n_(i,s){Gc(8390656,8,i,s)}function kd(i,s){Kc(2048,8,i,s)}function i_(i,s){return Kc(4,2,i,s)}function r_(i,s){return Kc(4,4,i,s)}function s_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function a_(i,s,o){o=o!=null?o.concat([i]):null,Kc(4,4,s_.bind(null,s,i),o)}function Ud(){}function o_(i,s){var o=Ee();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Cd(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function l_(i,s){var o=Ee();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Cd(s,u[1]))return u[0];if(u=i(),Ws){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[u,s],u}function jd(i,s,o){return o===void 0||kr&1073741824?i.memoizedState=s:(i.memoizedState=o,i=c0(),Dt.lanes|=i,$r|=i,o)}function u_(i,s,o,u){return Tn(o,s)?o:Ya.current!==null?(i=jd(i,o,u),Tn(i,s)||(ke=!0),i):kr&42?(i=c0(),Dt.lanes|=i,$r|=i,s):(ke=!0,i.memoizedState=o)}function c_(i,s,o,u,f){var g=ct.p;ct.p=g!==0&&8>g?g:8;var E=R.T,w={};R.T=w,Fd(i,!1,s,o);try{var D=f(),B=R.S;if(B!==null&&B(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=L1(D,u);Nl(i,s,J,wn(i))}else Nl(i,s,u,wn(i))}catch(rt){Nl(i,s,{then:function(){},status:"rejected",reason:rt},wn())}finally{ct.p=g,R.T=E}}function z1(){}function Bd(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=h_(i).queue;c_(i,f,s,At,o===null?z1:function(){return f_(i),o(u)})}function h_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:At},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function f_(i){var s=h_(i).next.queue;Nl(i,s,{},wn())}function zd(){return We(Jl)}function d_(){return Ee().memoizedState}function m_(){return Ee().memoizedState}function F1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=wn();i=zr(o);var u=Fr(s,i,o);u!==null&&(hn(u,s,o),Ll(u,s,o)),s={cache:wd()},i.payload=s;return}s=s.return}}function H1(i,s,o){var u=wn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},$c(i)?g_(s,o):(o=yd(i,s,o,u),o!==null&&(hn(o,i,u),y_(o,s,u)))}function p_(i,s,o){var u=wn();Nl(i,s,o,u)}function Nl(i,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if($c(i))g_(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,w=g(E,o);if(f.hasEagerState=!0,f.eagerState=w,Tn(w,E))return Dc(i,s,f,0),Jt===null&&Ic(),!1}catch{}finally{}if(o=yd(i,s,f,u),o!==null)return hn(o,i,u),y_(o,s,u),!0}return!1}function Fd(i,s,o,u){if(u={lane:2,revertLane:Vm(),action:u,hasEagerState:!1,eagerState:null,next:null},$c(i)){if(s)throw Error(r(479))}else s=yd(i,o,u,2),s!==null&&hn(s,i,2)}function $c(i){var s=i.alternate;return i===Dt||s!==null&&s===Dt}function g_(i,s){Za=Bc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function y_(i,s,o){if(o&4194176){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,wr(i,o)}}var vi={readContext:We,use:Hc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge};vi.useCacheRefresh=ge,vi.useMemoCache=ge,vi.useHostTransitionStatus=ge,vi.useFormState=ge,vi.useActionState=ge,vi.useOptimistic=ge;var Zs={readContext:We,use:Hc,useCallback:function(i,s){return pn().memoizedState=[i,s===void 0?null:s],i},useContext:We,useEffect:n_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Gc(4194308,4,s_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Gc(4194308,4,i,s)},useInsertionEffect:function(i,s){Gc(4,2,i,s)},useMemo:function(i,s){var o=pn();s=s===void 0?null:s;var u=i();if(Ws){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=pn();if(o!==void 0){var f=o(s);if(Ws){si(!0);try{o(s)}finally{si(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=H1.bind(null,Dt,i),[u.memoizedState,i]},useRef:function(i){var s=pn();return i={current:i},s.memoizedState=i},useState:function(i){i=Md(i);var s=i.queue,o=p_.bind(null,Dt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Ud,useDeferredValue:function(i,s){var o=pn();return jd(o,i,s)},useTransition:function(){var i=Md(!1);return i=c_.bind(null,Dt,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Dt,f=pn();if(qt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Jt===null)throw Error(r(349));Bt&60||Bv(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,n_(Fv.bind(null,u,g,i),[i]),u.flags|=2048,to(9,zv.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var i=pn(),s=Jt.identifierPrefix;if(qt){var o=Hi,u=Fi;o=(u&~(1<<32-on(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=zc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=k1++,s=":"+s+"r"+o.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return pn().memoizedState=F1.bind(null,Dt)}};Zs.useMemoCache=Pd,Zs.useHostTransitionStatus=zd,Zs.useFormState=Wv,Zs.useActionState=Wv,Zs.useOptimistic=function(i){var s=pn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Fd.bind(null,Dt,!0,o),o.dispatch=s,[i,s]};var Ur={readContext:We,use:Hc,useCallback:o_,useContext:We,useEffect:kd,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:r_,useMemo:l_,useReducer:qc,useRef:e_,useState:function(){return qc(Gi)},useDebugValue:Ud,useDeferredValue:function(i,s){var o=Ee();return u_(o,Yt.memoizedState,i,s)},useTransition:function(){var i=qc(Gi)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:Pl(i),s]},useSyncExternalStore:jv,useId:d_};Ur.useCacheRefresh=m_,Ur.useMemoCache=Pd,Ur.useHostTransitionStatus=zd,Ur.useFormState=Zv,Ur.useActionState=Zv,Ur.useOptimistic=function(i,s){var o=Ee();return Gv(o,Yt,i,s)};var Js={readContext:We,use:Hc,useCallback:o_,useContext:We,useEffect:kd,useImperativeHandle:a_,useInsertionEffect:i_,useLayoutEffect:r_,useMemo:l_,useReducer:Od,useRef:e_,useState:function(){return Od(Gi)},useDebugValue:Ud,useDeferredValue:function(i,s){var o=Ee();return Yt===null?jd(o,i,s):u_(o,Yt.memoizedState,i,s)},useTransition:function(){var i=Od(Gi)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:Pl(i),s]},useSyncExternalStore:jv,useId:d_};Js.useCacheRefresh=m_,Js.useMemoCache=Pd,Js.useHostTransitionStatus=zd,Js.useFormState=t_,Js.useActionState=t_,Js.useOptimistic=function(i,s){var o=Ee();return Yt!==null?Gv(o,Yt,i,s):(o.baseState=i,[i,o.queue.dispatch])};function Hd(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:I({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var qd={isMounted:function(i){return(i=i._reactInternals)?dt(i)===i:!1},enqueueSetState:function(i,s,o){i=i._reactInternals;var u=wn(),f=zr(u);f.payload=s,o!=null&&(f.callback=o),s=Fr(i,f,u),s!==null&&(hn(s,i,u),Ll(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=wn(),f=zr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Fr(i,f,u),s!==null&&(hn(s,i,u),Ll(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=wn(),u=zr(o);u.tag=2,s!=null&&(u.callback=s),s=Fr(i,u,o),s!==null&&(hn(s,i,o),Ll(s,i,o))}};function v_(i,s,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Tl(o,u)||!Tl(f,g):!0}function __(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&qd.enqueueReplaceState(s,s.state,null)}function ta(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=I({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Qc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function T_(i){Qc(i)}function E_(i){console.error(i)}function S_(i){Qc(i)}function Yc(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function b_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gd(i,s,o){return o=zr(o),o.tag=3,o.payload={element:null},o.callback=function(){Yc(i,s)},o}function w_(i){return i=zr(i),i.tag=3,i}function A_(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){b_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){b_(s,o,u),typeof f!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function q1(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ml(s,o,f,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return yi===null?Rm():o.alternate===null&&fe===0&&(fe=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Ed?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),xm(i,u,f)),!1;case 22:return o.flags|=65536,u===Ed?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),xm(i,u,f)),!1}throw Error(r(435,o.tag))}return xm(i,u,f),Rm(),!1}if(qt)return s=Bn.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Td&&(i=Error(r(422),{cause:u}),wl(kn(i,o)))):(u!==Td&&(s=Error(r(423),{cause:u}),wl(kn(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=kn(u,o),f=Gd(i.stateNode,u,f),am(i,f),fe!==4&&(fe=2)),!1;var g=Error(r(520),{cause:u});if(g=kn(g,o),ql===null?ql=[g]:ql.push(g),fe!==4&&(fe=2),s===null)return!0;u=kn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Gd(o.stateNode,u,i),am(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qr===null||!Qr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=w_(f),A_(f,i,o,u),am(o,f),!1}o=o.return}while(o!==null);return!1}var R_=Error(r(461)),ke=!1;function He(i,s,o,u){s.child=i===null?Vv(s,null,o,u):Ys(s,i.child,o,u)}function C_(i,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return na(s),u=xd(i,s,o,E,g,f),w=Id(),i!==null&&!ke?(Dd(i,s,f),Ki(i,s,f)):(qt&&w&&vd(s),s.flags|=1,He(i,s,u,f),s.child)}function x_(i,s,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!mm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,I_(i,s,g,u,f)):(i=th(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!tm(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Tl,o(E,u)&&i.ref===s.ref)return Ki(i,s,f)}return s.flags|=1,i=Kr(g,u),i.ref=s.ref,i.return=s,s.child=i}function I_(i,s,o,u,f){if(i!==null){var g=i.memoizedProps;if(Tl(g,u)&&i.ref===s.ref)if(ke=!1,s.pendingProps=u=g,tm(i,f))i.flags&131072&&(ke=!0);else return s.lanes=i.lanes,Ki(i,s,f)}return Kd(i,s,o,u,f)}function D_(i,s,o){var u=s.pendingProps,f=u.children,g=(s.stateNode._pendingVisibility&2)!==0,E=i!==null?i.memoizedState:null;if(Ol(i,s),u.mode==="hidden"||g){if(s.flags&128){if(u=E!==null?E.baseLanes|o:o,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return V_(i,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&jc(s,E!==null?E.cachePool:null),E!==null?Pv(s,E):Sd(),Nv(s);else return s.lanes=s.childLanes=536870912,V_(i,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(jc(s,E.cachePool),Pv(s,E),Lr(),s.memoizedState=null):(i!==null&&jc(s,null),Sd(),Lr());return He(i,s,f,o),s.child}function V_(i,s,o,u){var f=Rd();return f=f===null?null:{parent:Ve._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},i!==null&&jc(s,null),Sd(),Nv(s),i!==null&&Ml(i,s,u,!0),null}function Ol(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=2097664)}}function Kd(i,s,o,u,f){return na(s),o=xd(i,s,o,u,void 0,f),u=Id(),i!==null&&!ke?(Dd(i,s,f),Ki(i,s,f)):(qt&&u&&vd(s),s.flags|=1,He(i,s,o,f),s.child)}function P_(i,s,o,u,f,g){return na(s),s.updateQueue=null,o=Uv(s,u,o,f),kv(i),u=Id(),i!==null&&!ke?(Dd(i,s,g),Ki(i,s,g)):(qt&&u&&vd(s),s.flags|=1,He(i,s,o,g),s.child)}function N_(i,s,o,u,f){if(na(s),s.stateNode===null){var g=Ga,E=o.contextType;typeof E=="object"&&E!==null&&(g=We(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},rm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?We(E):Ga,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Hd(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&qd.enqueueReplaceState(g,g.state,null),Ul(s,u,g,f),kl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,D=ta(o,w);g.props=D;var B=g.context,J=o.contextType;E=Ga,typeof J=="object"&&J!==null&&(E=We(J));var rt=o.getDerivedStateFromProps;J=typeof rt=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||B!==E)&&__(s,g,u,E),Br=!1;var Y=s.memoizedState;g.state=Y,Ul(s,u,g,f),kl(),B=s.memoizedState,w||Y!==B||Br?(typeof rt=="function"&&(Hd(s,o,rt,u),B=s.memoizedState),(D=Br||v_(s,o,D,u,Y,B,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=B),g.props=u,g.state=B,g.context=E,u=D):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,sm(i,s),E=s.memoizedProps,J=ta(o,E),g.props=J,rt=s.pendingProps,Y=g.context,B=o.contextType,D=Ga,typeof B=="object"&&B!==null&&(D=We(B)),w=o.getDerivedStateFromProps,(B=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==rt||Y!==D)&&__(s,g,u,D),Br=!1,Y=s.memoizedState,g.state=Y,Ul(s,u,g,f),kl();var W=s.memoizedState;E!==rt||Y!==W||Br||i!==null&&i.dependencies!==null&&Xc(i.dependencies)?(typeof w=="function"&&(Hd(s,o,w,u),W=s.memoizedState),(J=Br||v_(s,o,J,u,Y,W,D)||i!==null&&i.dependencies!==null&&Xc(i.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,D)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=D,u=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ol(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=Ys(s,i.child,null,f),s.child=Ys(s,null,o,f)):He(i,s,o,f),s.memoizedState=g.state,i=s.child):i=Ki(i,s,f),i}function O_(i,s,o,u){return bl(),s.flags|=256,He(i,s,o,u),s.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Qd(i){return{baseLanes:i,cachePool:Lv()}}function Yd(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=qn),i}function M_(i,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(qt){if(f?Mr(s):Lr(),qt){var w=Fe,D;if(D=w){t:{for(D=w,w=gi;D.nodeType!==8;){if(!w){w=null;break t}if(D=Jn(D.nextSibling),D===null){w=null;break t}}w=D}w!==null?(s.memoizedState={dehydrated:w,treeContext:Ks!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912},D=Hn(18,null,null,0),D.stateNode=w,D.return=s,s.child=D,cn=s,Fe=null,D=!0):D=!1}D||Qs(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;qi(s)}return w=u.children,u=u.fallback,f?(Lr(),f=s.mode,w=Wd({mode:"hidden",children:w},f),u=ra(u,f,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,f=s.child,f.memoizedState=Qd(o),f.childLanes=Yd(i,E,o),s.memoizedState=$d,u):(Mr(s),Xd(s,w))}if(D=i.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(g)s.flags&256?(Mr(s),s.flags&=-257,s=Zd(i,s,o)):s.memoizedState!==null?(Lr(),s.child=i.child,s.flags|=128,s=null):(Lr(),f=u.fallback,w=s.mode,u=Wd({mode:"visible",children:u.children},w),f=ra(f,w,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Ys(s,i.child,null,o),u=s.child,u.memoizedState=Qd(o),u.childLanes=Yd(i,E,o),s.memoizedState=$d,s=f);else if(Mr(s),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var B=E.dgst;E=B,u=Error(r(419)),u.stack="",u.digest=E,wl({value:u,source:null,stack:null}),s=Zd(i,s,o)}else if(ke||Ml(i,s,o,!1),E=(o&i.childLanes)!==0,ke||E){if(E=Jt,E!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(E.suspendedLanes|o)?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,Or(i,u),hn(E,i,u),R_}w.data==="$?"||Rm(),s=Zd(i,s,o)}else w.data==="$?"?(s.flags|=128,s.child=i.child,s=sC.bind(null,i),w._reactRetry=s,s=null):(i=D.treeContext,Fe=Jn(w.nextSibling),cn=s,qt=!0,Wn=null,gi=!1,i!==null&&(Un[jn++]=Fi,Un[jn++]=Hi,Un[jn++]=Ks,Fi=i.id,Hi=i.overflow,Ks=s),s=Xd(s,u.children),s.flags|=4096);return s}return f?(Lr(),f=u.fallback,w=s.mode,D=i.child,B=D.sibling,u=Kr(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,B!==null?f=Kr(B,f):(f=ra(f,w,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,w=i.child.memoizedState,w===null?w=Qd(o):(D=w.cachePool,D!==null?(B=Ve._currentValue,D=D.parent!==B?{parent:B,pool:B}:D):D=Lv(),w={baseLanes:w.baseLanes|o,cachePool:D}),f.memoizedState=w,f.childLanes=Yd(i,E,o),s.memoizedState=$d,u):(Mr(s),o=i.child,i=o.sibling,o=Kr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function Xd(i,s){return s=Wd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Wd(i,s){return o0(i,s,0,null)}function Zd(i,s,o){return Ys(s,i.child,null,o),i=Xd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function L_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),nm(i.return,s,o)}function Jd(i,s,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function k_(i,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(He(i,s,u.children,o),u=De.current,u&2)u=u&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L_(i,o,s);else if(i.tag===19)L_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Qt(De,u),f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&Uc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Jd(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Uc(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Jd(s,!0,o,null,g);break;case"together":Jd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ki(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),$r|=s.lanes,!(o&s.childLanes))if(i!==null){if(Ml(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Kr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Kr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function tm(i,s){return i.lanes&s?!0:(i=i.dependencies,!!(i!==null&&Xc(i)))}function G1(i,s,o){switch(s.tag){case 3:vr(s,s.stateNode.containerInfo),jr(s,Ve,i.memoizedState.cache),bl();break;case 27:case 5:Jo(s);break;case 4:vr(s,s.stateNode.containerInfo);break;case 10:jr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Mr(s),s.flags|=128,null):o&s.child.childLanes?M_(i,s,o):(Mr(s),i=Ki(i,s,o),i!==null?i.sibling:null);Mr(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ml(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return k_(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qt(De,De.current),u)break;return null;case 22:case 23:return s.lanes=0,D_(i,s,o);case 24:jr(s,Ve,i.memoizedState.cache)}return Ki(i,s,o)}function U_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)ke=!0;else{if(!tm(i,o)&&!(s.flags&128))return ke=!1,G1(i,s,o);ke=!!(i.flags&131072)}else ke=!1,qt&&s.flags&1048576&&Sv(s,Nc,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")mm(u)?(i=ta(u,i),s.tag=1,s=N_(null,s,u,i,o)):(s.tag=0,s=Kd(null,s,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===x){s.tag=11,s=C_(null,s,u,i,o);break t}else if(f===U){s.tag=14,s=x_(null,s,u,i,o);break t}}throw s=C(u)||u,Error(r(306,s,""))}}return s;case 0:return Kd(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ta(u,s.pendingProps),N_(i,s,u,f,o);case 3:t:{if(vr(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var g=s.pendingProps;f=s.memoizedState,u=f.element,sm(i,s),Ul(s,g,null,o);var E=s.memoizedState;if(g=E.cache,jr(s,Ve,g),g!==f.cache&&im(s,[Ve],o,!0),kl(),g=E.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=O_(i,s,g,o);break t}else if(g!==u){u=kn(Error(r(424)),s),wl(u),s=O_(i,s,g,o);break t}else for(Fe=Jn(s.stateNode.containerInfo.firstChild),cn=s,qt=!0,Wn=null,gi=!0,o=Vv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(bl(),g===u){s=Ki(i,s,o);break t}He(i,s,g,o)}s=s.child}return s;case 26:return Ol(i,s),i===null?(o=z0(s.type,null,s.pendingProps,null))?s.memoizedState=o:qt||(o=s.type,i=s.pendingProps,u=fh(In.current).createElement(o),u[Oe]=s,u[Ce]=i,qe(u,o,i),ie(u),s.stateNode=u):s.memoizedState=z0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Jo(s),i===null&&qt&&(u=s.stateNode=U0(s.type,s.pendingProps,In.current),cn=s,gi=!0,Fe=Jn(u.firstChild)),u=s.pendingProps.children,i!==null||qt?He(i,s,u,o):s.child=Ys(s,null,u,o),Ol(i,s),s.child;case 5:return i===null&&qt&&((f=u=Fe)&&(u=EC(u,s.type,s.pendingProps,gi),u!==null?(s.stateNode=u,cn=s,Fe=Jn(u.firstChild),gi=!1,f=!0):f=!1),f||Qs(s)),Jo(s),f=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,Bm(f,g)?u=null:E!==null&&Bm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=xd(i,s,U1,null,null,o),Jl._currentValue=f),Ol(i,s),He(i,s,u,o),s.child;case 6:return i===null&&qt&&((i=o=Fe)&&(o=SC(o,s.pendingProps,gi),o!==null?(s.stateNode=o,cn=s,Fe=null,i=!0):i=!1),i||Qs(s)),null;case 13:return M_(i,s,o);case 4:return vr(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Ys(s,null,u,o):He(i,s,u,o),s.child;case 11:return C_(i,s,s.type,s.pendingProps,o);case 7:return He(i,s,s.pendingProps,o),s.child;case 8:return He(i,s,s.pendingProps.children,o),s.child;case 12:return He(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,jr(s,s.type,u.value),He(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,na(s),f=We(f),u=u(f),s.flags|=1,He(i,s,u,o),s.child;case 14:return x_(i,s,s.type,s.pendingProps,o);case 15:return I_(i,s,s.type,s.pendingProps,o);case 19:return k_(i,s,o);case 22:return D_(i,s,o);case 24:return na(s),u=We(Ve),i===null?(f=Rd(),f===null&&(f=Jt,g=wd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},rm(s),jr(s,Ve,f)):(i.lanes&o&&(sm(i,s),Ul(s,null,null,o),kl()),f=i.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),jr(s,Ve,u)):(u=g.cache,jr(s,Ve,u),u!==f.cache&&im(s,[Ve],o,!0))),He(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var em=Ft(null),ea=null,$i=null;function jr(i,s,o){Qt(em,s._currentValue),s._currentValue=o}function Qi(i){i._currentValue=em.current,ue(em)}function nm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function im(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=f;for(var D=0;D<s.length;D++)if(w.context===s[D]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),nm(g.return,o,i),u||(E=null);break t}g=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),nm(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ml(i,s,o,u){i=null;for(var f=s,g=!1;f!==null;){if(!g){if(f.flags&524288)g=!0;else if(f.flags&262144)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=f.type;Tn(f.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(f===yr.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Jl):i=[Jl])}f=f.return}i!==null&&im(s,i,o,u),s.flags|=262144}function Xc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function na(i){ea=i,$i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function We(i){return j_(ea,i)}function Wc(i,s){return ea===null&&na(i),j_(i,s)}function j_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},$i===null){if(i===null)throw Error(r(308));$i=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else $i=$i.next=s;return o}var Br=!1;function rm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,se&2){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Vc(i),Tv(i,null,o),s}return Dc(i,u,s,o),Vc(i)}function Ll(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,wr(i,o)}}function am(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var om=!1;function kl(){if(om){var i=Wa;if(i!==null)throw i}}function Ul(i,s,o,u){om=!1;var f=i.updateQueue;Br=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,B=D.next;D.next=null,E===null?g=B:E.next=B,E=D;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=B:w.next=B,J.lastBaseUpdate=D))}if(g!==null){var rt=f.baseState;E=0,J=B=D=null,w=g;do{var Y=w.lane&-536870913,W=Y!==w.lane;if(W?(Bt&Y)===Y:(u&Y)===Y){Y!==0&&Y===Xa&&(om=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var yt=i,Ct=w;Y=s;var de=o;switch(Ct.tag){case 1:if(yt=Ct.payload,typeof yt=="function"){rt=yt.call(de,rt,Y);break t}rt=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Ct.payload,Y=typeof yt=="function"?yt.call(de,rt,Y):yt,Y==null)break t;rt=I({},rt,Y);break t;case 2:Br=!0}}Y=w.callback,Y!==null&&(i.flags|=64,W&&(i.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(B=J=W,D=rt):J=J.next=W,E|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;W=w,w=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);J===null&&(D=rt),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=J,g===null&&(f.shared.lanes=0),$r|=E,i.lanes=E,i.memoizedState=rt}}function B_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function z_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)B_(o[i],s)}function jl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){Zt(s,s.return,w)}}function Hr(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=s;var D=o;try{w()}catch(B){Zt(f,D,B)}}}u=u.next}while(u!==g)}}catch(B){Zt(s,s.return,B)}}function F_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{z_(s,o)}catch(u){Zt(i,i.return,u)}}}function H_(i,s,o){o.props=ta(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,s,u)}}function ia(i,s){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(g){Zt(i,s,g)}}function En(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Zt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,s,f)}else o.current=null}function q_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function G_(i,s,o){try{var u=i.stateNode;gC(u,i.type,o,s),u[Ce]=s}catch(f){Zt(i,i.return,f)}}function K_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function lm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||K_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function um(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(i,s):o.insertBefore(i,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(i,o)):(s=o,s.appendChild(i)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=hh));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(um(i,s,o),i=i.sibling;i!==null;)um(i,s,o),i=i.sibling}function Zc(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Zc(i,s,o),i=i.sibling;i!==null;)Zc(i,s,o),i=i.sibling}var Yi=!1,he=!1,cm=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Ue=null,Q_=!1;function K1(i,s){if(i=i.containerInfo,Um=vh,i=hv(i),fd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,w=-1,D=-1,B=0,J=0,rt=i,Y=null;e:for(;;){for(var W;rt!==o||f!==0&&rt.nodeType!==3||(w=E+f),rt!==g||u!==0&&rt.nodeType!==3||(D=E+u),rt.nodeType===3&&(E+=rt.nodeValue.length),(W=rt.firstChild)!==null;)Y=rt,rt=W;for(;;){if(rt===i)break e;if(Y===o&&++B===f&&(w=E),Y===g&&++J===u&&(D=E),(W=rt.nextSibling)!==null)break;rt=Y,Y=rt.parentNode}rt=W}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(jm={focusedElem:i,selectionRange:o},vh=!1,Ue=s;Ue!==null;)if(s=Ue,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ue=i;else for(;Ue!==null;){switch(s=Ue,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&g!==null){i=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var yt=ta(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(yt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ct){Zt(o,o.return,Ct)}}break;case 3:if(i&1024){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Hm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ue=i;break}Ue=s.return}return yt=Q_,Q_=!1,yt}function Y_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(i,o),u&4&&jl(5,o);break;case 1:if(Wi(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(w){Zt(o,o.return,w)}else{var f=ta(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){Zt(o,o.return,w)}}u&64&&F_(o),u&512&&ia(o,o.return);break;case 3:if(Wi(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{z_(u,i)}catch(w){Zt(o,o.return,w)}}break;case 26:Wi(i,o),u&512&&ia(o,o.return);break;case 27:case 5:Wi(i,o),s===null&&u&4&&q_(o),u&512&&ia(o,o.return);break;case 12:Wi(i,o);break;case 13:Wi(i,o),u&4&&Z_(i,o);break;case 22:if(f=o.memoizedState!==null||Yi,!f){s=s!==null&&s.memoizedState!==null||he;var g=Yi,E=he;Yi=f,(he=s)&&!E?qr(i,o,(o.subtreeFlags&8772)!==0):Wi(i,o),Yi=g,he=E}u&512&&(o.memoizedProps.mode==="manual"?ia(o,o.return):En(o,o.return));break;default:Wi(i,o)}}function X_(i){var s=i.alternate;s!==null&&(i.alternate=null,X_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ns(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Se=null,Sn=!1;function Xi(i,s,o){for(o=o.child;o!==null;)W_(i,s,o),o=o.sibling}function W_(i,s,o){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(_r,o)}catch{}switch(o.tag){case 26:he||En(o,s),Xi(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:he||En(o,s);var u=Se,f=Sn;for(Se=o.stateNode,Xi(i,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Ns(o),Se=u,Sn=f;break;case 5:he||En(o,s);case 6:f=Se;var g=Sn;if(Se=null,Xi(i,s,o),Se=f,Sn=g,Se!==null)if(Sn)try{i=Se,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(E){Zt(o,s,E)}else try{Se.removeChild(o.stateNode)}catch(E){Zt(o,s,E)}break;case 18:Se!==null&&(Sn?(s=Se,o=o.stateNode,s.nodeType===8?Fm(s.parentNode,o):s.nodeType===1&&Fm(s,o),iu(s)):Fm(Se,o.stateNode));break;case 4:u=Se,f=Sn,Se=o.stateNode.containerInfo,Sn=!0,Xi(i,s,o),Se=u,Sn=f;break;case 0:case 11:case 14:case 15:he||Hr(2,o,s),he||Hr(4,o,s),Xi(i,s,o);break;case 1:he||(En(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&H_(o,s,u)),Xi(i,s,o);break;case 21:Xi(i,s,o);break;case 22:he||En(o,s),he=(u=he)||o.memoizedState!==null,Xi(i,s,o),he=u;break;default:Xi(i,s,o)}}function Z_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{iu(i)}catch(o){Zt(s,s.return,o)}}function $1(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new $_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new $_),s;default:throw Error(r(435,i.tag))}}function hm(i,s){var o=$1(i);s.forEach(function(u){var f=aC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function zn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=s,w=E;t:for(;w!==null;){switch(w.tag){case 27:case 5:Se=w.stateNode,Sn=!1;break t;case 3:Se=w.stateNode.containerInfo,Sn=!0;break t;case 4:Se=w.stateNode.containerInfo,Sn=!0;break t}w=w.return}if(Se===null)throw Error(r(160));W_(g,E,f),Se=null,Sn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)J_(s,i),s=s.sibling}var Zn=null;function J_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zn(s,i),Fn(i),u&4&&(Hr(3,i,i.return),jl(3,i),Hr(5,i,i.return));break;case 1:zn(s,i),Fn(i),u&512&&(he||o===null||En(o,o.return)),u&64&&Yi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Zn;if(zn(s,i),Fn(i),u&512&&(he||o===null||En(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Rr]||g[Oe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),qe(g,u,o),g[Oe]=i,ie(g),u=g;break t;case"link":var E=q0("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break e}}g=f.createElement(u),qe(g,u,o),f.head.appendChild(g);break;case"meta":if(E=q0("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break e}}g=f.createElement(u),qe(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Oe]=i,ie(g),u=g}i.stateNode=u}else G0(f,i.type,i.stateNode);else i.stateNode=H0(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?G0(f,i.type,i.stateNode):H0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&G_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){f=i.stateNode,g=i.memoizedProps;try{for(var D=f.firstChild;D;){var B=D.nextSibling,J=D.nodeName;D[Rr]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=B}for(var rt=i.type,Y=f.attributes;Y.length;)f.removeAttributeNode(Y[0]);qe(f,rt,g),f[Oe]=i,f[Ce]=g}catch(yt){Zt(i,i.return,yt)}}case 5:if(zn(s,i),Fn(i),u&512&&(he||o===null||En(o,o.return)),i.flags&32){f=i.stateNode;try{Pn(f,"")}catch(yt){Zt(i,i.return,yt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,G_(i,f,o!==null?o.memoizedProps:f)),u&1024&&(cm=!0);break;case 6:if(zn(s,i),Fn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(yt){Zt(i,i.return,yt)}}break;case 3:if(ph=null,f=Zn,Zn=dh(s.containerInfo),zn(s,i),Zn=f,Fn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{iu(s.containerInfo)}catch(yt){Zt(i,i.return,yt)}cm&&(cm=!1,t0(i));break;case 4:u=Zn,Zn=dh(i.stateNode.containerInfo),zn(s,i),Fn(i),Zn=u;break;case 12:zn(s,i),Fn(i);break;case 13:zn(s,i),Fn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tm=dn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hm(i,u)));break;case 22:if(u&512&&(he||o===null||En(o,o.return)),D=i.memoizedState!==null,B=o!==null&&o.memoizedState!==null,J=Yi,rt=he,Yi=J||D,he=rt||B,zn(s,i),he=rt,Yi=J,Fn(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=D?s._visibility&-2:s._visibility|1,D&&(s=Yi||he,o===null||B||s||eo(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(o=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){B=o=s;try{if(f=B.stateNode,D)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=B.stateNode,w=B.memoizedProps.style;var W=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(yt){Zt(B,B.return,yt)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(yt){Zt(B,B.return,yt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hm(i,o))));break;case 19:zn(s,i),Fn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hm(i,u)));break;case 21:break;default:zn(s,i),Fn(i)}}function Fn(i){var s=i.flags;if(s&2){try{if(i.tag!==27){t:{for(var o=i.return;o!==null;){if(K_(o)){var u=o;break t}o=o.return}throw Error(r(160))}switch(u.tag){case 27:var f=u.stateNode,g=lm(i);Zc(i,g,f);break;case 5:var E=u.stateNode;u.flags&32&&(Pn(E,""),u.flags&=-33);var w=lm(i);Zc(i,w,E);break;case 3:case 4:var D=u.stateNode.containerInfo,B=lm(i);um(i,B,D);break;default:throw Error(r(161))}}}catch(J){Zt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function t0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;t0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Wi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Y_(i,s.alternate,s),s=s.sibling}function eo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Hr(4,s,s.return),eo(s);break;case 1:En(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&H_(s,s.return,o),eo(s);break;case 26:case 27:case 5:En(s,s.return),eo(s);break;case 22:En(s,s.return),s.memoizedState===null&&eo(s);break;default:eo(s)}i=i.sibling}}function qr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:qr(f,g,o),jl(4,g);break;case 1:if(qr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Zt(u,u.return,B)}if(u=g,f=u.updateQueue,f!==null){var w=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)B_(D[f],w)}catch(B){Zt(u,u.return,B)}}o&&E&64&&F_(g),ia(g,g.return);break;case 26:case 27:case 5:qr(f,g,o),o&&u===null&&E&4&&q_(g),ia(g,g.return);break;case 12:qr(f,g,o);break;case 13:qr(f,g,o),o&&E&4&&Z_(f,g);break;case 22:g.memoizedState===null&&qr(f,g,o),ia(g,g.return);break;default:qr(f,g,o)}s=s.sibling}}function fm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Il(o))}function dm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Il(i))}function Gr(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)e0(i,s,o,u),s=s.sibling}function e0(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Gr(i,s,o,u),f&2048&&jl(9,s);break;case 3:Gr(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Il(i)));break;case 12:if(f&2048){Gr(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Zt(s,s.return,D)}}else Gr(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?Gr(i,s,o,u):Bl(i,s):g._visibility&4?Gr(i,s,o,u):(g._visibility|=4,no(i,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&fm(s.alternate,s);break;case 24:Gr(i,s,o,u),f&2048&&dm(s.alternate,s);break;default:Gr(i,s,o,u)}}function no(i,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,w=o,D=u,B=E.flags;switch(E.tag){case 0:case 11:case 15:no(g,E,w,D,f),jl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&4?no(g,E,w,D,f):Bl(g,E):(J._visibility|=4,no(g,E,w,D,f)),f&&B&2048&&fm(E.alternate,E);break;case 24:no(g,E,w,D,f),f&&B&2048&&dm(E.alternate,E);break;default:no(g,E,w,D,f)}s=s.sibling}}function Bl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:Bl(o,u),f&2048&&fm(u.alternate,u);break;case 24:Bl(o,u),f&2048&&dm(u.alternate,u);break;default:Bl(o,u)}s=s.sibling}}var zl=8192;function io(i){if(i.subtreeFlags&zl)for(i=i.child;i!==null;)n0(i),i=i.sibling}function n0(i){switch(i.tag){case 26:io(i),i.flags&zl&&i.memoizedState!==null&&MC(Zn,i.memoizedState,i.memoizedProps);break;case 5:io(i);break;case 3:case 4:var s=Zn;Zn=dh(i.stateNode.containerInfo),io(i),Zn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=zl,zl=16777216,io(i),zl=s):io(i));break;default:io(i)}}function i0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Fl(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ue=u,s0(u,i)}i0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r0(i),i=i.sibling}function r0(i){switch(i.tag){case 0:case 11:case 15:Fl(i),i.flags&2048&&Hr(9,i,i.return);break;case 3:Fl(i);break;case 12:Fl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Jc(i)):Fl(i);break;default:Fl(i)}}function Jc(i){var s=i.deletions;if(i.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ue=u,s0(u,i)}i0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Hr(8,s,s.return),Jc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Jc(s));break;default:Jc(s)}i=i.sibling}}function s0(i,s){for(;Ue!==null;){var o=Ue;switch(o.tag){case 0:case 11:case 15:Hr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ue=u;else t:for(o=i;Ue!==null;){u=Ue;var f=u.sibling,g=u.return;if(X_(u),u===o){Ue=null;break t}if(f!==null){f.return=g,Ue=f;break t}Ue=g}}}function Q1(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(i,s,o,u){return new Q1(i,s,o,u)}function mm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Kr(i,s){var o=i.alternate;return o===null?(o=Hn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function a0(i,s){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function th(i,s,o,u,f,g){var E=0;if(u=i,typeof i=="function")mm(i)&&(E=1);else if(typeof i=="string")E=NC(i,o,an.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case m:return ra(o.children,f,g,s);case p:E=8,f|=24;break;case v:return i=Hn(12,o,s,f|2),i.elementType=v,i.lanes=g,i;case N:return i=Hn(13,o,s,f),i.elementType=N,i.lanes=g,i;case P:return i=Hn(19,o,s,f),i.elementType=P,i.lanes=g,i;case q:return o0(o,f,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case b:E=10;break t;case S:E=9;break t;case x:E=11;break t;case U:E=14;break t;case $:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Hn(E,o,s,f),s.elementType=i,s.type=u,s.lanes=g,s}function ra(i,s,o,u){return i=Hn(7,i,u,s),i.lanes=o,i}function o0(i,s,o,u){i=Hn(22,i,u,s),i.elementType=q,i.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(r(456));if(!(f._pendingVisibility&2)){var E=Or(g,2);E!==null&&(f._pendingVisibility|=2,hn(E,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(r(456));if(f._pendingVisibility&2){var E=Or(g,2);E!==null&&(f._pendingVisibility&=-3,hn(E,g,2))}}};return i.stateNode=f,i}function pm(i,s,o){return i=Hn(6,i,null,s),i.lanes=o,i}function gm(i,s,o){return s=Hn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Zi(i){i.flags|=4}function l0(i,s){if(s.type!=="stylesheet"||s.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!K0(s)){if(s=Bn.current,s!==null&&((Bt&4194176)===Bt?yi!==null:(Bt&62914560)!==Bt&&!(Bt&536870912)||s!==yi))throw Rl=Ed,Av;i.flags|=8192}}function eh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Sr():536870912,i.lanes|=s,so|=s)}function Hl(i,s){if(!qt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function re(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function Y1(i,s,o){var u=s.pendingProps;switch(_d(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Qi(Ve),Vi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Sl(s)?Zi(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Wn!==null&&(wm(Wn),Wn=null))),re(s),null;case 26:return o=s.memoizedState,i===null?(Zi(s),o!==null?(re(s),l0(s,o)):(re(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Zi(s),re(s),l0(s,o)):(re(s),s.flags&=-16777217):(i.memoizedProps!==u&&Zi(s),re(s),s.flags&=-16777217),null;case 27:wa(s),o=In.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Zi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return re(s),null}i=an.current,Sl(s)?bv(s):(i=U0(f,u,o),s.stateNode=i,Zi(s))}return re(s),null;case 5:if(wa(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Zi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(i=an.current,Sl(s))bv(s);else{switch(f=fh(In.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Oe]=s,i[Ce]=u;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(qe(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Zi(s)}}return re(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Zi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=In.current,Sl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Oe]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||P0(i.nodeValue,o)),i||Qs(s)}else i=fh(i).createTextNode(u),i[Oe]=s,s.stateNode=i}return re(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Sl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Oe]=s}else bl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;re(s),f=!1}else Wn!==null&&(wm(Wn),Wn=null),f=!0;if(!f)return s.flags&256?(qi(s),s):(qi(s),null)}if(qi(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),eh(s,s.updateQueue),re(s),null;case 4:return Vi(),i===null&&Mm(s.stateNode.containerInfo),re(s),null;case 10:return Qi(s.type),re(s),null;case 19:if(ue(De),f=s.memoizedState,f===null)return re(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Hl(f,!1);else{if(fe!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(g=Uc(i),g!==null){for(s.flags|=128,Hl(f,!1),i=g.updateQueue,s.updateQueue=i,eh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)a0(o,i),o=o.sibling;return Qt(De,De.current&1|2),s.child}i=i.sibling}f.tail!==null&&dn()>nh&&(s.flags|=128,u=!0,Hl(f,!1),s.lanes=4194304)}else{if(!u)if(i=Uc(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,eh(s,i),Hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qt)return re(s),null}else 2*dn()-f.renderingStartTime>nh&&o!==536870912&&(s.flags|=128,u=!0,Hl(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(i=f.last,i!==null?i.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=dn(),s.sibling=null,i=De.current,Qt(De,u?i&1|2:i&1),s):(re(s),null);case 22:case 23:return qi(s),bd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),o=s.updateQueue,o!==null&&eh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ue(Xs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Qi(Ve),re(s),null;case 25:return null}throw Error(r(156,s.tag))}function X1(i,s){switch(_d(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Qi(Ve),Vi(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return wa(s),null;case 13:if(qi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));bl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ue(De),null;case 4:return Vi(),null;case 10:return Qi(s.type),null;case 22:case 23:return qi(s),bd(),i!==null&&ue(Xs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Qi(Ve),null;case 25:return null;default:return null}}function u0(i,s){switch(_d(s),s.tag){case 3:Qi(Ve),Vi();break;case 26:case 27:case 5:wa(s);break;case 4:Vi();break;case 13:qi(s);break;case 19:ue(De);break;case 10:Qi(s.type);break;case 22:case 23:qi(s),bd(),i!==null&&ue(Xs);break;case 24:Qi(Ve)}}var W1={getCacheForType:function(i){var s=We(Ve),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},Z1=typeof WeakMap=="function"?WeakMap:Map,se=0,Jt=null,Nt=null,Bt=0,te=0,bn=null,Ji=!1,ro=!1,ym=!1,tr=0,fe=0,$r=0,sa=0,vm=0,qn=0,so=0,ql=null,_i=null,_m=!1,Tm=0,nh=1/0,ih=null,Qr=null,rh=!1,aa=null,Gl=0,Em=0,Sm=null,Kl=0,bm=null;function wn(){if(se&2&&Bt!==0)return Bt&-Bt;if(R.T!==null){var i=Xa;return i!==0?i:Vm()}return cc()}function c0(){qn===0&&(qn=!(Bt&536870912)||qt?rl():536870912);var i=Bn.current;return i!==null&&(i.flags|=32),qn}function hn(i,s,o){(i===Jt&&te===2||i.cancelPendingCommit!==null)&&(ao(i,0),er(i,Bt,qn,!1)),pe(i,o),(!(se&2)||i!==Jt)&&(i===Jt&&(!(se&2)&&(sa|=o),fe===4&&er(i,Bt,qn,!1)),Ti(i))}function h0(i,s,o){if(se&6)throw Error(r(327));var u=!o&&(s&60)===0&&(s&i.expiredLanes)===0||Er(i,s),f=u?eC(i,s):Cm(i,s,!0),g=u;do{if(f===0){ro&&!u&&er(i,s,0,!1);break}else if(f===6)er(i,s,0,!Ji);else{if(o=i.current.alternate,g&&!J1(o)){f=Cm(i,s,!1),g=!1;continue}if(f===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var w=i;f=ql;var D=w.current.memoizedState.isDehydrated;if(D&&(ao(w,E).flags|=256),E=Cm(w,E,!1),E!==2){if(ym&&!D){w.errorRecoveryDisabledLanes|=g,sa|=g,f=4;break t}g=_i,_i=f,g!==null&&wm(g)}f=E}if(g=!1,f!==2)continue}}if(f===1){ao(i,0),er(i,s,0,!0);break}t:{switch(u=i,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){er(u,s,qn,!Ji);break t}break;case 2:_i=null;break;case 3:case 5:break;default:throw Error(r(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=Tm+300-dn(),10<g)){if(er(u,s,qn,!Ji),Dn(u,0)!==0)break t;u.timeoutHandle=M0(f0.bind(null,u,o,_i,ih,_m,s,qn,sa,so,Ji,2,-0,0),g);break t}f0(u,o,_i,ih,_m,s,qn,sa,so,Ji,0,-0,0)}}break}while(!0);Ti(i)}function wm(i){_i===null?_i=i:_i.push.apply(_i,i)}function f0(i,s,o,u,f,g,E,w,D,B,J,rt,Y){var W=s.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:OC},n0(s),s=LC(),s!==null)){i.cancelPendingCommit=s(_0.bind(null,i,o,u,f,E,w,D,1,rt,Y)),er(i,g,E,!B);return}_0(i,o,u,f,E,w,D,J,rt,Y)}function J1(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Tn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function er(i,s,o,u){s&=~vm,s&=~sa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var g=31-on(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&br(i,o,s)}function sh(){return se&6?!0:($l(0),!1)}function Am(){if(Nt!==null){if(te===0)var i=Nt.return;else i=Nt,$i=ea=null,Vd(i),Qa=null,Cl=0,i=Nt;for(;i!==null;)u0(i.alternate,i),i=i.return;Nt=null}}function ao(i,s){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,vC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Am(),Jt=i,Nt=o=Kr(i.current,null),Bt=s,te=0,bn=null,Ji=!1,ro=Er(i,s),ym=!1,so=qn=vm=sa=$r=fe=0,_i=ql=null,_m=!1,s&8&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-on(u),g=1<<f;s|=i[f],u&=~g}return tr=s,Ic(),o}function d0(i,s){Dt=null,R.H=vi,s===Al?(s=xv(),te=3):s===Av?(s=xv(),te=4):te=s===R_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,Nt===null&&(fe=1,Yc(i,kn(s,i.current)))}function m0(){var i=R.H;return R.H=vi,i===null?vi:i}function p0(){var i=R.A;return R.A=W1,i}function Rm(){fe=4,Ji||(Bt&4194176)!==Bt&&Bn.current!==null||(ro=!0),!($r&134217727)&&!(sa&134217727)||Jt===null||er(Jt,Bt,qn,!1)}function Cm(i,s,o){var u=se;se|=2;var f=m0(),g=p0();(Jt!==i||Bt!==s)&&(ih=null,ao(i,s)),s=!1;var E=fe;t:do try{if(te!==0&&Nt!==null){var w=Nt,D=bn;switch(te){case 8:Am(),E=6;break t;case 3:case 2:case 6:Bn.current===null&&(s=!0);var B=te;if(te=0,bn=null,oo(i,w,D,B),o&&ro){E=0;break t}break;default:B=te,te=0,bn=null,oo(i,w,D,B)}}tC(),E=fe;break}catch(J){d0(i,J)}while(!0);return s&&i.shellSuspendCounter++,$i=ea=null,se=u,R.H=f,R.A=g,Nt===null&&(Jt=null,Bt=0,Ic()),E}function tC(){for(;Nt!==null;)g0(Nt)}function eC(i,s){var o=se;se|=2;var u=m0(),f=p0();Jt!==i||Bt!==s?(ih=null,nh=dn()+500,ao(i,s)):ro=Er(i,s);t:do try{if(te!==0&&Nt!==null){s=Nt;var g=bn;e:switch(te){case 1:te=0,bn=null,oo(i,s,g,1);break;case 2:if(Rv(g)){te=0,bn=null,y0(s);break}s=function(){te===2&&Jt===i&&(te=7),Ti(i)},g.then(s,s);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Rv(g)?(te=0,bn=null,y0(s)):(te=0,bn=null,oo(i,s,g,7));break;case 5:var E=null;switch(Nt.tag){case 26:E=Nt.memoizedState;case 5:case 27:var w=Nt;if(!E||K0(E)){te=0,bn=null;var D=w.sibling;if(D!==null)Nt=D;else{var B=w.return;B!==null?(Nt=B,ah(B)):Nt=null}break e}}te=0,bn=null,oo(i,s,g,5);break;case 6:te=0,bn=null,oo(i,s,g,6);break;case 8:Am(),fe=6;break t;default:throw Error(r(462))}}nC();break}catch(J){d0(i,J)}while(!0);return $i=ea=null,R.H=u,R.A=f,se=o,Nt!==null?0:(Jt=null,Bt=0,Ic(),fe)}function nC(){for(;Nt!==null&&!ed();)g0(Nt)}function g0(i){var s=U_(i.alternate,i,tr);i.memoizedProps=i.pendingProps,s===null?ah(i):Nt=s}function y0(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=P_(o,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=P_(o,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:Vd(s);default:u0(o,s),s=Nt=a0(s,tr),s=U_(o,s,tr)}i.memoizedProps=i.pendingProps,s===null?ah(i):Nt=s}function oo(i,s,o,u){$i=ea=null,Vd(s),Qa=null,Cl=0;var f=s.return;try{if(q1(i,f,s,o,Bt)){fe=1,Yc(i,kn(o,i.current)),Nt=null;return}}catch(g){if(f!==null)throw Nt=f,g;fe=1,Yc(i,kn(o,i.current)),Nt=null;return}s.flags&32768?(qt||u===1?i=!0:ro||Bt&536870912?i=!1:(Ji=i=!0,(u===2||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),v0(s,i)):ah(s)}function ah(i){var s=i;do{if(s.flags&32768){v0(s,Ji);return}i=s.return;var o=Y1(s.alternate,s,tr);if(o!==null){Nt=o;return}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);fe===0&&(fe=5)}function v0(i,s){do{var o=X1(i.alternate,i);if(o!==null){o.flags&=32767,Nt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=o}while(i!==null);fe=6,Nt=null}function _0(i,s,o,u,f,g,E,w,D,B){var J=R.T,rt=ct.p;try{ct.p=2,R.T=null,iC(i,s,o,u,rt,f,g,E,w,D,B)}finally{R.T=J,ct.p=rt}}function iC(i,s,o,u,f,g,E,w){do lo();while(aa!==null);if(se&6)throw Error(r(327));var D=i.finishedWork;if(u=i.finishedLanes,D===null)return null;if(i.finishedWork=null,i.finishedLanes=0,D===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var B=D.lanes|D.childLanes;if(B|=gd,lc(i,u,B,g,E,w),i===Jt&&(Nt=Jt=null,Bt=0),!(D.subtreeFlags&10256)&&!(D.flags&10256)||rh||(rh=!0,Em=B,Sm=o,oC(Pi,function(){return lo(),null})),o=(D.flags&15990)!==0,D.subtreeFlags&15990||o?(o=R.T,R.T=null,g=ct.p,ct.p=2,E=se,se|=4,K1(i,D),J_(D,i),C1(jm,i.containerInfo),vh=!!Um,jm=Um=null,i.current=D,Y_(i,D.alternate,D),tl(),se=E,ct.p=g,R.T=o):i.current=D,rh?(rh=!1,aa=i,Gl=u):T0(i,B),B=i.pendingLanes,B===0&&(Qr=null),nl(D.stateNode),Ti(i),s!==null)for(f=i.onRecoverableError,D=0;D<s.length;D++)B=s[D],f(B.value,{componentStack:B.stack});return Gl&3&&lo(),B=i.pendingLanes,u&4194218&&B&42?i===bm?Kl++:(Kl=0,bm=i):Kl=0,$l(0),null}function T0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Il(s)))}function lo(){if(aa!==null){var i=aa,s=Em;Em=0;var o=uc(Gl),u=R.T,f=ct.p;try{if(ct.p=32>o?32:o,R.T=null,aa===null)var g=!1;else{o=Sm,Sm=null;var E=aa,w=Gl;if(aa=null,Gl=0,se&6)throw Error(r(331));var D=se;if(se|=4,r0(E.current),e0(E,E.current,w,o),se=D,$l(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(_r,E)}catch{}g=!0}return g}finally{ct.p=f,R.T=u,T0(i,s)}}return!1}function E0(i,s,o){s=kn(o,s),s=Gd(i.stateNode,s,2),i=Fr(i,s,2),i!==null&&(pe(i,2),Ti(i))}function Zt(i,s,o){if(i.tag===3)E0(i,i,o);else for(;s!==null;){if(s.tag===3){E0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qr===null||!Qr.has(u))){i=kn(o,i),o=w_(2),u=Fr(s,o,2),u!==null&&(A_(o,u,s,i),pe(u,2),Ti(u));break}}s=s.return}}function xm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Z1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(ym=!0,f.add(o),i=rC.bind(null,i,s,o),s.then(i,i))}function rC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Jt===i&&(Bt&o)===o&&(fe===4||fe===3&&(Bt&62914560)===Bt&&300>dn()-Tm?!(se&2)&&ao(i,0):vm|=o,so===Bt&&(so=0)),Ti(i)}function S0(i,s){s===0&&(s=Sr()),i=Or(i,s),i!==null&&(pe(i,s),Ti(i))}function sC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),S0(i,o)}function aC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),S0(i,o)}function oC(i,s){return Ds(i,s)}var oh=null,uo=null,Im=!1,lh=!1,Dm=!1,oa=0;function Ti(i){i!==uo&&i.next===null&&(uo===null?oh=uo=i:uo=uo.next=i),lh=!0,Im||(Im=!0,uC(lC))}function $l(i,s){if(!Dm&&lh){Dm=!0;do for(var o=!1,u=oh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-on(42|i)+1)-1,g&=f&~(E&~w),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,A0(u,g))}else g=Bt,g=Dn(u,u===Jt?g:0),!(g&3)||Er(u,g)||(o=!0,A0(u,g));u=u.next}while(o);Dm=!1}}function lC(){lh=Im=!1;var i=0;oa!==0&&(yC()&&(i=oa),oa=0);for(var s=dn(),o=null,u=oh;u!==null;){var f=u.next,g=b0(u,s);g===0?(u.next=null,o===null?oh=f:o.next=f,f===null&&(uo=o)):(o=u,(i!==0||g&3)&&(lh=!0)),u=f}$l(i)}function b0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-on(g),w=1<<E,D=f[E];D===-1?(!(w&o)||w&u)&&(f[E]=Ca(w,s)):D<=s&&(i.expiredLanes|=w),g&=~w}if(s=Jt,o=Bt,o=Dn(i,i===s?o:0),u=i.callbackNode,o===0||i===s&&te===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ra(u),i.callbackNode=null,i.callbackPriority=0;if(!(o&3)||Er(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ra(u),uc(o)){case 2:case 8:o=Ne;break;case 32:o=Pi;break;case 268435456:o=el;break;default:o=Pi}return u=w0.bind(null,i),o=Ds(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ra(u),i.callbackPriority=2,i.callbackNode=null,2}function w0(i,s){var o=i.callbackNode;if(lo()&&i.callbackNode!==o)return null;var u=Bt;return u=Dn(i,i===Jt?u:0),u===0?null:(h0(i,u,s),b0(i,dn()),i.callbackNode!=null&&i.callbackNode===o?w0.bind(null,i):null)}function A0(i,s){if(lo())return null;h0(i,s,!0)}function uC(i){_C(function(){se&6?Ds(Re,i):i()})}function Vm(){return oa===0&&(oa=rl()),oa}function R0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ui(""+i)}function C0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function cC(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=R0((f[Ce]||null).action),E=u.submitter;E&&(s=(s=E[Ce]||null)?R0(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var w=new Oa("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var D=E?C0(f,E):new FormData(f);Bd(o,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(w.preventDefault(),D=E?C0(f,E):new FormData(f),Bd(o,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var Pm=0;Pm<_v.length;Pm++){var Nm=_v[Pm],hC=Nm.toLowerCase(),fC=Nm[0].toUpperCase()+Nm.slice(1);Xn(hC,"on"+fC)}Xn(mv,"onAnimationEnd"),Xn(pv,"onAnimationIteration"),Xn(gv,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(I1,"onTransitionRun"),Xn(D1,"onTransitionStart"),Xn(V1,"onTransitionCancel"),Xn(yv,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function x0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],D=w.instance,B=w.currentTarget;if(w=w.listener,D!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=B;try{g(f)}catch(J){Qc(J)}f.currentTarget=null,g=D}else for(E=0;E<u.length;E++){if(w=u[E],D=w.instance,B=w.currentTarget,w=w.listener,D!==g&&f.isPropagationStopped())break t;g=w,f.currentTarget=B;try{g(f)}catch(J){Qc(J)}f.currentTarget=null,g=D}}}}function Lt(i,s){var o=s[Ps];o===void 0&&(o=s[Ps]=new Set);var u=i+"__bubble";o.has(u)||(I0(s,i,2,!1),o.add(u))}function Om(i,s,o){var u=0;s&&(u|=4),I0(o,i,u,s)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Mm(i){if(!i[uh]){i[uh]=!0,al.forEach(function(o){o!=="selectionchange"&&(dC.has(o)||Om(o,!1,i),Om(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[uh]||(s[uh]=!0,Om("selectionchange",!1,s))}}function I0(i,s,o,u){switch(Z0(s)){case 2:var f=jC;break;case 8:f=BC;break;default:f=Qm}o=f.bind(null,s,o,i),f=void 0,!On||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function Lm(i,s,o,u,f){var g=u;if(!(s&1)&&!(s&2)&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;E=E.return}for(;w!==null;){if(E=Yn(w),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=g=E;continue t}w=w.parentNode}}u=u.return}mc(function(){var B=g,J=Na(o),rt=[];t:{var Y=vv.get(i);if(Y!==void 0){var W=Oa,yt=i;switch(i){case"keypress":if(hi(o)===0)break t;case"keydown":case"keyup":W=Ba;break;case"focusin":yt="focus",W=ka;break;case"focusout":yt="blur",W=ka;break;case"beforeblur":case"afterblur":W=ka;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ld;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Sc;break;case mv:case pv:case gv:W=Ua;break;case yv:W=wc;break;case"scroll":case"scrollend":W=pc;break;case"wheel":W=za;break;case"copy":case"cut":case"paste":W=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=vl;break;case"toggle":case"beforetoggle":W=Rc}var Ct=(s&4)!==0,de=!Ct&&(i==="scroll"||i==="scrollend"),H=Ct?Y!==null?Y+"Capture":null:Y;Ct=[];for(var j=B,Q;j!==null;){var tt=j;if(Q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||Q===null||H===null||(tt=ks(j,H),tt!=null&&Ct.push(Yl(j,tt,Q))),de)break;j=j.return}0<Ct.length&&(Y=new W(Y,yt,null,o,J),rt.push({event:Y,listeners:Ct}))}}if(!(s&7)){t:{if(Y=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Y&&o!==Nn&&(yt=o.relatedTarget||o.fromElement)&&(Yn(yt)||yt[Ni]))break t;if((W||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(yt=o.relatedTarget||o.toElement,W=B,yt=yt?Yn(yt):null,yt!==null&&(de=dt(yt),Ct=yt.tag,yt!==de||Ct!==5&&Ct!==27&&Ct!==6)&&(yt=null)):(W=null,yt=B),W!==yt)){if(Ct=Mn,tt="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ct=vl,tt="onPointerLeave",H="onPointerEnter",j="pointer"),de=W==null?Y:Cr(W),Q=yt==null?Y:Cr(yt),Y=new Ct(tt,j+"leave",W,o,J),Y.target=de,Y.relatedTarget=Q,tt=null,Yn(J)===B&&(Ct=new Ct(H,j+"enter",yt,o,J),Ct.target=Q,Ct.relatedTarget=de,tt=Ct),de=tt,W&&yt)e:{for(Ct=W,H=yt,j=0,Q=Ct;Q;Q=co(Q))j++;for(Q=0,tt=H;tt;tt=co(tt))Q++;for(;0<j-Q;)Ct=co(Ct),j--;for(;0<Q-j;)H=co(H),Q--;for(;j--;){if(Ct===H||H!==null&&Ct===H.alternate)break e;Ct=co(Ct),H=co(H)}Ct=null}else Ct=null;W!==null&&D0(rt,Y,W,Ct,!1),yt!==null&&de!==null&&D0(rt,de,yt,Ct,!0)}}t:{if(Y=B?Cr(B):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var pt=iv;else if(Ie(Y))if(rv)pt=A1;else{pt=b1;var Pt=S1}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?B&&hl(B.elementType)&&(pt=iv):pt=w1;if(pt&&(pt=pt(i,B))){zi(rt,pt,o,J);break t}Pt&&Pt(i,Y,B),i==="focusout"&&B&&Y.type==="number"&&B.memoizedProps.value!=null&&Pa(Y,"number",Y.value)}switch(Pt=B?Cr(B):window,i){case"focusin":(Ie(Pt)||Pt.contentEditable==="true")&&(Fa=Pt,dd=B,El=null);break;case"focusout":El=dd=Fa=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,fv(rt,o,J);break;case"selectionchange":if(x1)break;case"keydown":case"keyup":fv(rt,o,J)}var vt;if(mi)t:{switch(i){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?X(i,o)&&(Tt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&o.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(vt=dl()):(ci=J,Nr="value"in ci?ci.value:ci.textContent,Ut=!0)),Pt=ch(B,Tt),0<Pt.length&&(Tt=new gl(Tt,i,null,o,J),rt.push({event:Tt,listeners:Pt}),vt?Tt.data=vt:(vt=ot(o),vt!==null&&(Tt.data=vt)))),(vt=y?xe(i,o):jt(i,o))&&(Tt=ch(B,"onBeforeInput"),0<Tt.length&&(Pt=new gl("onBeforeInput","beforeinput",null,o,J),rt.push({event:Pt,listeners:Tt}),Pt.data=vt)),cC(rt,i,B,o,J)}x0(rt,s)})}function Yl(i,s,o){return{instance:i,listener:s,currentTarget:o}}function ch(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ks(i,o),f!=null&&u.unshift(Yl(i,f,g)),f=ks(i,s),f!=null&&u.push(Yl(i,f,g))),i=i.return}return u}function co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function D0(i,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var w=o,D=w.alternate,B=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||B===null||(D=B,f?(B=ks(o,g),B!=null&&E.unshift(Yl(o,B,D))):f||(B=ks(o,g),B!=null&&E.push(Yl(o,B,D)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var mC=/\r\n?/g,pC=/\u0000|\uFFFD/g;function V0(i){return(typeof i=="string"?i:""+i).replace(mC,`
`).replace(pC,"")}function P0(i,s){return s=V0(s),V0(i)===s}function hh(){}function Xt(i,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Pn(i,""+u);break;case"className":Dr(i,"class",u);break;case"tabIndex":Dr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dr(i,o,u);break;case"style":dc(i,u,g);break;case"data":if(s!=="object"){Dr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ui(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Xt(i,s,"name",f.name,f,null),Xt(i,s,"formEncType",f.formEncType,f,null),Xt(i,s,"formMethod",f.formMethod,f,null),Xt(i,s,"formTarget",f.formTarget,f,null)):(Xt(i,s,"encType",f.encType,f,null),Xt(i,s,"method",f.method,f,null),Xt(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ui(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=hh);break;case"onScroll":u!=null&&Lt("scroll",i);break;case"onScrollEnd":u!=null&&Lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ui(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Lt("beforetoggle",i),Lt("toggle",i),Ir(i,"popover",u);break;case"xlinkActuate":Vn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ir(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ad.get(o)||o,Ir(i,o,u))}}function km(i,s,o,u,f,g){switch(o){case"style":dc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&Pn(i,""+u);break;case"onScroll":u!=null&&Lt("scroll",i);break;case"onScrollEnd":u!=null&&Lt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Da.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=i[Ce]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ir(i,o,u)}}}function qe(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",i),Lt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xt(i,s,g,E,o,null)}}f&&Xt(i,s,"srcSet",o.srcSet,o,null),u&&Xt(i,s,"src",o.src,o,null);return;case"input":Lt("invalid",i);var w=g=E=f=null,D=null,B=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":E=J;break;case"checked":D=J;break;case"defaultChecked":B=J;break;case"value":g=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Xt(i,s,u,J,o,null)}}Ms(i,g,w,D,B,E,f,!1),Os(i);return;case"select":Lt("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:Xt(i,s,f,w,o,null)}s=g,o=E,i.multiple=!!u,s!=null?Ht(i,!!u,s,!1):o!=null&&Ht(i,!!u,o,!0);return;case"textarea":Lt("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Xt(i,s,E,w,o,null)}Pr(i,u,f,g),Os(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xt(i,s,D,u,o,null)}return;case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":Lt("load",i);break;case"video":case"audio":for(u=0;u<Ql.length;u++)Lt(Ql[u],i);break;case"image":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"embed":case"source":case"link":Lt("error",i),Lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xt(i,s,B,u,o,null)}return;default:if(hl(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&km(i,s,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Xt(i,s,w,u,o,null))}function gC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,w=null,D=null,B=null,J=null;for(W in o){var rt=o[W];if(o.hasOwnProperty(W)&&rt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=rt;default:u.hasOwnProperty(W)||Xt(i,s,W,null,u,rt)}}for(var Y in u){var W=u[Y];if(rt=o[Y],u.hasOwnProperty(Y)&&(W!=null||rt!=null))switch(Y){case"type":g=W;break;case"name":f=W;break;case"checked":B=W;break;case"defaultChecked":J=W;break;case"value":E=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==rt&&Xt(i,s,Y,W,u,rt)}}Vr(i,E,w,D,B,J,g,f);return;case"select":W=E=w=Y=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":W=D;default:u.hasOwnProperty(g)||Xt(i,s,g,null,u,D)}for(f in u)if(g=u[f],D=o[f],u.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==D&&Xt(i,s,f,g,u,D)}s=w,o=E,u=W,Y!=null?Ht(i,!!o,Y,!1):!!u!=!!o&&(s!=null?Ht(i,!!o,s,!0):Ht(i,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Xt(i,s,w,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&Xt(i,s,E,f,u,g)}Ls(i,Y,W);return;case"option":for(var yt in o)if(Y=o[yt],o.hasOwnProperty(yt)&&Y!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":i.selected=!1;break;default:Xt(i,s,yt,null,u,Y)}for(D in u)if(Y=u[D],W=o[D],u.hasOwnProperty(D)&&Y!==W&&(Y!=null||W!=null))switch(D){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Xt(i,s,D,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in o)Y=o[Ct],o.hasOwnProperty(Ct)&&Y!=null&&!u.hasOwnProperty(Ct)&&Xt(i,s,Ct,null,u,Y);for(B in u)if(Y=u[B],W=o[B],u.hasOwnProperty(B)&&Y!==W&&(Y!=null||W!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Xt(i,s,B,Y,u,W)}return;default:if(hl(s)){for(var de in o)Y=o[de],o.hasOwnProperty(de)&&Y!==void 0&&!u.hasOwnProperty(de)&&km(i,s,de,void 0,u,Y);for(J in u)Y=u[J],W=o[J],!u.hasOwnProperty(J)||Y===W||Y===void 0&&W===void 0||km(i,s,J,Y,u,W);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&Xt(i,s,H,null,u,Y);for(rt in u)Y=u[rt],W=o[rt],!u.hasOwnProperty(rt)||Y===W||Y==null&&W==null||Xt(i,s,rt,Y,u,W)}var Um=null,jm=null;function fh(i){return i.nodeType===9?i:i.ownerDocument}function N0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Bm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zm=null;function yC(){var i=window.event;return i&&i.type==="popstate"?i===zm?!1:(zm=i,!0):(zm=null,!1)}var M0=typeof setTimeout=="function"?setTimeout:void 0,vC=typeof clearTimeout=="function"?clearTimeout:void 0,L0=typeof Promise=="function"?Promise:void 0,_C=typeof queueMicrotask=="function"?queueMicrotask:typeof L0<"u"?function(i){return L0.resolve(null).then(i).catch(TC)}:M0;function TC(i){setTimeout(function(){throw i})}function Fm(i,s){var o=s,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){i.removeChild(f),iu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);iu(s)}function Hm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hm(o),Ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function EC(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Rr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function SC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function k0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function U0(i,s,o){switch(s=fh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Gn=new Map,j0=new Set;function dh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var nr=ct.d;ct.d={f:bC,r:wC,D:AC,C:RC,L:CC,m:xC,X:DC,S:IC,M:VC};function bC(){var i=nr.f(),s=sh();return i||s}function wC(i){var s=Oi(i);s!==null&&s.tag===5&&s.type==="form"?f_(s):nr.r(i)}var ho=typeof document>"u"?null:document;function B0(i,s,o){var u=ho;if(u&&typeof s=="string"&&s){var f=ce(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),j0.has(f)||(j0.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),qe(s,"link",i),ie(s),u.head.appendChild(s)))}}function AC(i){nr.D(i),B0("dns-prefetch",i,null)}function RC(i,s){nr.C(i,s),B0("preconnect",i,s)}function CC(i,s,o){nr.L(i,s,o);var u=ho;if(u&&i&&s){var f='link[rel="preload"][as="'+ce(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+ce(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+ce(o.imageSizes)+'"]')):f+='[href="'+ce(i)+'"]';var g=f;switch(s){case"style":g=fo(i);break;case"script":g=mo(i)}Gn.has(g)||(i=I({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Gn.set(g,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(Xl(g))||s==="script"&&u.querySelector(Wl(g))||(s=u.createElement("link"),qe(s,"link",i),ie(s),u.head.appendChild(s)))}}function xC(i,s){nr.m(i,s);var o=ho;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+ce(u)+'"][href="'+ce(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=mo(i)}if(!Gn.has(g)&&(i=I({rel:"modulepreload",href:i},s),Gn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wl(g)))return}u=o.createElement("link"),qe(u,"link",i),ie(u),o.head.appendChild(u)}}}function IC(i,s,o){nr.S(i,s,o);var u=ho;if(u&&i){var f=xr(u).hoistableStyles,g=fo(i);s=s||"default";var E=f.get(g);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(Xl(g)))w.loading=5;else{i=I({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Gn.get(g))&&qm(i,o);var D=E=u.createElement("link");ie(D),qe(D,"link",i),D._p=new Promise(function(B,J){D.onload=B,D.onerror=J}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,mh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(g,E)}}}function DC(i,s){nr.X(i,s);var o=ho;if(o&&i){var u=xr(o).hoistableScripts,f=mo(i),g=u.get(f);g||(g=o.querySelector(Wl(f)),g||(i=I({src:i,async:!0},s),(s=Gn.get(f))&&Gm(i,s),g=o.createElement("script"),ie(g),qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function VC(i,s){nr.M(i,s);var o=ho;if(o&&i){var u=xr(o).hoistableScripts,f=mo(i),g=u.get(f);g||(g=o.querySelector(Wl(f)),g||(i=I({src:i,async:!0,type:"module"},s),(s=Gn.get(f))&&Gm(i,s),g=o.createElement("script"),ie(g),qe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function z0(i,s,o,u){var f=(f=In.current)?dh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=fo(o.href),o=xr(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=fo(o.href);var g=xr(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(Xl(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Gn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(i,o),g||PC(f,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mo(o),o=xr(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fo(i){return'href="'+ce(i)+'"'}function Xl(i){return'link[rel="stylesheet"]['+i+"]"}function F0(i){return I({},i,{"data-precedence":i.precedence,precedence:null})}function PC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),qe(s,"link",o),ie(s),i.head.appendChild(s))}function mo(i){return'[src="'+ce(i)+'"]'}function Wl(i){return"script[async]"+i}function H0(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+ce(o.href)+'"]');if(u)return s.instance=u,ie(u),u;var f=I({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ie(u),qe(u,"style",f),mh(u,o.precedence,i),s.instance=u;case"stylesheet":f=fo(o.href);var g=i.querySelector(Xl(f));if(g)return s.state.loading|=4,s.instance=g,ie(g),g;u=F0(o),(f=Gn.get(f))&&qm(u,f),g=(i.ownerDocument||i).createElement("link"),ie(g);var E=g;return E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),qe(g,"link",u),s.state.loading|=4,mh(g,o.precedence,i),s.instance=g;case"script":return g=mo(o.src),(f=i.querySelector(Wl(g)))?(s.instance=f,ie(f),f):(u=o,(f=Gn.get(g))&&(u=I({},o),Gm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ie(f),qe(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,mh(u,o.precedence,i));return s.instance}function mh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)g=w;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function qm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Gm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ph=null;function q0(i,s,o){if(ph===null){var u=new Map,f=ph=new Map;f.set(o,u)}else f=ph,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Rr]||g[Oe]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var w=u.get(E);w?w.push(g):u.set(E,[g])}}return u}function G0(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function NC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function K0(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Zl=null;function OC(){}function MC(i,s,o){if(Zl===null)throw Error(r(475));var u=Zl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var f=fo(o.href),g=i.querySelector(Xl(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=gh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,ie(g);return}g=i.ownerDocument||i,o=F0(o),(f=Gn.get(f))&&qm(o,f),g=g.createElement("link"),ie(g);var E=g;E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),qe(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=gh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function LC(){if(Zl===null)throw Error(r(475));var i=Zl;return i.stylesheets&&i.count===0&&Km(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Km(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function gh(){if(this.count--,this.count===0){if(this.stylesheets)Km(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var yh=null;function Km(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,yh=new Map,s.forEach(kC,i),yh=null,gh.call(i))}function kC(i,s){if(!(s.state.loading&4)){var o=yh.get(i);if(o)var u=o.get(null);else{o=new Map,yh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=gh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Jl={$$typeof:b,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function UC(i,s,o,u,f,g,E,w){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function $0(i,s,o,u,f,g,E,w,D,B,J,rt){return i=new UC(i,s,o,E,w,D,B,rt),s=1,g===!0&&(s|=24),g=Hn(3,null,null,s),i.current=g,g.stateNode=i,s=wd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},rm(g),i}function Q0(i){return i?(i=Ga,i):Ga}function Y0(i,s,o,u,f,g){f=Q0(f),u.context===null?u.context=f:u.pendingContext=f,u=zr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Fr(i,u,s),o!==null&&(hn(o,i,s),Ll(o,i,s))}function X0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function $m(i,s){X0(i,s),(i=i.alternate)&&X0(i,s)}function W0(i){if(i.tag===13){var s=Or(i,67108864);s!==null&&hn(s,i,67108864),$m(i,67108864)}}var vh=!0;function jC(i,s,o,u){var f=R.T;R.T=null;var g=ct.p;try{ct.p=2,Qm(i,s,o,u)}finally{ct.p=g,R.T=f}}function BC(i,s,o,u){var f=R.T;R.T=null;var g=ct.p;try{ct.p=8,Qm(i,s,o,u)}finally{ct.p=g,R.T=f}}function Qm(i,s,o,u){if(vh){var f=Ym(u);if(f===null)Lm(i,s,u,_h,o),J0(i,u);else if(FC(f,i,s,o,u))u.stopPropagation();else if(J0(i,u),s&4&&-1<zC.indexOf(i)){for(;f!==null;){var g=Oi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Qn(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var D=1<<31-on(E);w.entanglements[1]|=D,E&=~D}Ti(g),!(se&6)&&(nh=dn()+500,$l(0))}}break;case 13:w=Or(g,2),w!==null&&hn(w,g,2),sh(),$m(g,2)}if(g=Ym(u),g===null&&Lm(i,s,u,_h,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Lm(i,s,u,null,o)}}function Ym(i){return i=Na(i),Xm(i)}var _h=null;function Xm(i){if(_h=null,i=Yn(i),i!==null){var s=dt(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Vt(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return _h=i,null}function Z0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rc()){case Re:return 2;case Ne:return 8;case Pi:case sc:return 32;case el:return 268435456;default:return 32}default:return 32}}var Wm=!1,Yr=null,Xr=null,Wr=null,tu=new Map,eu=new Map,Zr=[],zC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(i,s){switch(i){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function nu(i,s,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Oi(s),s!==null&&W0(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function FC(i,s,o,u,f){switch(s){case"focusin":return Yr=nu(Yr,i,s,o,u,f),!0;case"dragenter":return Xr=nu(Xr,i,s,o,u,f),!0;case"mouseover":return Wr=nu(Wr,i,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return tu.set(g,nu(tu.get(g)||null,i,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,eu.set(g,nu(eu.get(g)||null,i,s,o,u,f)),!0}return!1}function tT(i){var s=Yn(i.target);if(s!==null){var o=dt(s);if(o!==null){if(s=o.tag,s===13){if(s=Vt(o),s!==null){i.blockedOn=s,Ar(i.priority,function(){if(o.tag===13){var u=wn(),f=Or(o,u);f!==null&&hn(f,o,u),$m(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Th(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Ym(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Nn=u,o.target.dispatchEvent(u),Nn=null}else return s=Oi(o),s!==null&&W0(s),i.blockedOn=o,!1;s.shift()}return!0}function eT(i,s,o){Th(i)&&o.delete(s)}function HC(){Wm=!1,Yr!==null&&Th(Yr)&&(Yr=null),Xr!==null&&Th(Xr)&&(Xr=null),Wr!==null&&Th(Wr)&&(Wr=null),tu.forEach(eT),eu.forEach(eT)}function Eh(i,s){i.blockedOn===s&&(i.blockedOn=null,Wm||(Wm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HC)))}var Sh=null;function nT(i){Sh!==i&&(Sh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===i&&(Sh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(Xm(u||o)===null)continue;break}var g=Oi(o);g!==null&&(i.splice(s,3),s-=3,Bd(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function iu(i){function s(D){return Eh(D,i)}Yr!==null&&Eh(Yr,i),Xr!==null&&Eh(Xr,i),Wr!==null&&Eh(Wr,i),tu.forEach(s),eu.forEach(s);for(var o=0;o<Zr.length;o++){var u=Zr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zr.length&&(o=Zr[0],o.blockedOn===null);)tT(o),o.blockedOn===null&&Zr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[Ce]||null;if(typeof g=="function")E||nT(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[Ce]||null)w=E.formAction;else if(Xm(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),nT(o)}}}function Zm(i){this._internalRoot=i}bh.prototype.render=Zm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=wn();Y0(o,u,i,s,null,null)},bh.prototype.unmount=Zm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&lo(),Y0(i.current,2,null,i,null,null),sh(),s[Ni]=null}};function bh(i){this._internalRoot=i}bh.prototype.unstable_scheduleHydration=function(i){if(i){var s=cc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Zr.length&&s!==0&&s<Zr[o].priority;o++);Zr.splice(o,0,i),o===0&&tT(i)}};var iT=t.version;if(iT!=="19.0.0")throw Error(r(527,iT,"19.0.0"));ct.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=K(s),i=i!==null?at(i):null,i=i===null?null:i.stateNode,i};var qC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Yn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{_r=wh.inject(qC),Xe=wh}catch{}}return su.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=T_,g=E_,E=S_,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=$0(i,1,!1,null,null,o,u,f,g,E,w,null),i[Ni]=s.current,Mm(i.nodeType===8?i.parentNode:i),new Zm(s)},su.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",g=T_,E=E_,w=S_,D=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),s=$0(i,1,!0,s,o??null,u,f,g,E,w,D,B),s.context=Q0(null),o=s.current,u=wn(),f=zr(u),f.callback=null,Fr(o,f,u),s.current.lanes=u,pe(s,u),Ti(s),i[Ni]=s.current,Mm(i),new bh(s)},su.version="19.0.0",su}var dT;function tx(){if(dT)return ep.exports;dT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ep.exports=JC(),ep.exports}var ex=tx();const nx=lb(ex);var au={},mT;function ix(){if(mT)return au;mT=1,Object.defineProperty(au,"__esModule",{value:!0}),au.parse=c,au.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,b){const x=new l,N=S.length;if(N<2)return x;const P=(b==null?void 0:b.decode)||v;let U=0;do{const $=S.indexOf("=",U);if($===-1)break;const q=S.indexOf(";",U),nt=q===-1?N:q;if($>nt){U=S.lastIndexOf(";",$-1)+1;continue}const Z=d(S,U,$),ut=m(S,$,Z),O=S.slice(Z,ut);if(x[O]===void 0){let C=d(S,$+1,nt),R=m(S,nt,C);const I=P(S.slice(C,R));x[O]=I}U=nt+1}while(U<N);return x}function d(S,b,x){do{const N=S.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<x);return x}function m(S,b,x){for(;b>x;){const N=S.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return x}function p(S,b,x){const N=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=N(b);if(!t.test(P))throw new TypeError(`argument val is invalid: ${b}`);let U=S+"="+P;if(!x)return U;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);U+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);U+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);U+="; Path="+x.path}if(x.expires){if(!T(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);U+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(U+="; HttpOnly"),x.secure&&(U+="; Secure"),x.partitioned&&(U+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return U}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return a.call(S)==="[object Date]"}return au}ix();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pT="popstate";function rx(n={}){function t(r,a){let{pathname:l,search:c,hash:d}=r.location;return Dp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(r,a){return typeof a=="string"?a:Su(a)}return ax(t,e,null,n)}function oe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ii(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sx(){return Math.random().toString(36).substring(2,10)}function gT(n,t){return{usr:n.state,key:n.key,idx:t}}function Dp(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?zo(t):t,state:e,key:t&&t.key||r||sx()}}function Su({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function zo(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function ax(n,t,e,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let P=v(),U=P==null?null:P-p;p=P,m&&m({action:d,location:N.location,delta:U})}function S(P,U){d="PUSH";let $=Dp(N.location,P,U);p=v()+1;let q=gT($,p),nt=N.createHref($);try{c.pushState(q,"",nt)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(nt)}l&&m&&m({action:d,location:N.location,delta:1})}function b(P,U){d="REPLACE";let $=Dp(N.location,P,U);p=v();let q=gT($,p),nt=N.createHref($);c.replaceState(q,"",nt),l&&m&&m({action:d,location:N.location,delta:0})}function x(P){let U=a.location.origin!=="null"?a.location.origin:a.location.href,$=typeof P=="string"?P:Su(P);return $=$.replace(/ $/,"%20"),oe(U,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,U)}let N={get action(){return d},get location(){return n(a,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(pT,T),m=P,()=>{a.removeEventListener(pT,T),m=null}},createHref(P){return t(a,P)},createURL:x,encodeLocation(P){let U=x(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:b,go(P){return c.go(P)}};return N}function ub(n,t,e="/"){return ox(n,t,e,!1)}function ox(n,t,e,r){let a=typeof t=="string"?zo(t):t,l=gs(a.pathname||"/",e);if(l==null)return null;let c=cb(n);lx(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=_x(l);d=yx(c[m],p,r)}return d}function cb(n,t=[],e=[],r=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(oe(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=ar([r,m.relativePath]),v=e.concat(m);l.children&&l.children.length>0&&(oe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cb(l.children,t,v,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:px(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of hb(l.path))a(l,c,m)}),t}function hb(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=hb(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function lx(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:gx(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var ux=/^:[\w-]+$/,cx=3,hx=2,fx=1,dx=10,mx=-2,yT=n=>n==="*";function px(n,t){let e=n.split("/"),r=e.length;return e.some(yT)&&(r+=mx),t&&(r+=hx),e.filter(a=>!yT(a)).reduce((a,l)=>a+(ux.test(l)?cx:l===""?fx:dx),r)}function gx(n,t){return n.length===t.length&&n.slice(0,-1).every((r,a)=>r===t[a])?n[n.length-1]-t[t.length-1]:0}function yx(n,t,e=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,v=l==="/"?t:t.slice(l.length)||"/",T=Wh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),S=m.route;if(!T&&p&&e&&!r[r.length-1].route.index&&(T=Wh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ar([l,T.pathname]),pathnameBase:bx(ar([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=ar([l,T.pathnameBase]))}return c}function Wh(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=vx(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:T},S)=>{if(v==="*"){let x=d[S]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const b=d[S];return T&&!b?p[v]=void 0:p[v]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function vx(n,t=!1,e=!0){ii(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function _x(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ii(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function gs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function Tx(n,t="/"){let{pathname:e,search:r="",hash:a=""}=typeof n=="string"?zo(n):n;return{pathname:e?e.startsWith("/")?e:Ex(e,t):t,search:wx(r),hash:Ax(a)}}function Ex(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function sp(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sx(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function fb(n){let t=Sx(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function db(n,t,e,r=!1){let a;typeof n=="string"?a=zo(n):(a={...n},oe(!a.pathname||!a.pathname.includes("?"),sp("?","pathname","search",a)),oe(!a.pathname||!a.pathname.includes("#"),sp("#","pathname","hash",a)),oe(!a.search||!a.search.includes("#"),sp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=e;else{let T=t.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?t[T]:"/"}let m=Tx(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ar=n=>n.join("/").replace(/\/\/+/g,"/"),bx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ax=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Rx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var mb=["POST","PUT","PATCH","DELETE"];new Set(mb);var Cx=["GET",...mb];new Set(Cx);var Fo=L.createContext(null);Fo.displayName="DataRouter";var xf=L.createContext(null);xf.displayName="DataRouterState";var pb=L.createContext({isTransitioning:!1});pb.displayName="ViewTransition";var xx=L.createContext(new Map);xx.displayName="Fetchers";var Ix=L.createContext(null);Ix.displayName="Await";var Ii=L.createContext(null);Ii.displayName="Navigation";var Uu=L.createContext(null);Uu.displayName="Location";var pr=L.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var Eg=L.createContext(null);Eg.displayName="RouteError";function Dx(n,{relative:t}={}){oe(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=L.useContext(Ii),{hash:a,pathname:l,search:c}=Bu(n,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:ar([e,l])),r.createHref({pathname:d,search:c,hash:a})}function ju(){return L.useContext(Uu)!=null}function As(){return oe(ju(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Uu).location}var gb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yb(n){L.useContext(Ii).static||L.useLayoutEffect(n)}function vb(){let{isDataRoute:n}=L.useContext(pr);return n?Hx():Vx()}function Vx(){oe(ju(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Fo),{basename:t,navigator:e}=L.useContext(Ii),{matches:r}=L.useContext(pr),{pathname:a}=As(),l=JSON.stringify(fb(r)),c=L.useRef(!1);return yb(()=>{c.current=!0}),L.useCallback((m,p={})=>{if(ii(c.current,gb),!c.current)return;if(typeof m=="number"){e.go(m);return}let v=db(m,JSON.parse(l),a,p.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ar([t,v.pathname])),(p.replace?e.replace:e.push)(v,p.state,p)},[t,e,l,a,n])}L.createContext(null);function Bu(n,{relative:t}={}){let{matches:e}=L.useContext(pr),{pathname:r}=As(),a=JSON.stringify(fb(e));return L.useMemo(()=>db(n,JSON.parse(a),r,t==="path"),[n,a,r,t])}function Px(n,t){return _b(n,t)}function _b(n,t,e,r){var $;oe(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=L.useContext(Ii),{matches:c}=L.useContext(pr),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let q=T&&T.path||"";Tb(p,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=As(),b;if(t){let q=typeof t=="string"?zo(t):t;oe(v==="/"||(($=q.pathname)==null?void 0:$.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),b=q}else b=S;let x=b.pathname||"/",N=x;if(v!=="/"){let q=v.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(q.length).join("/")}let P=!l&&e&&e.matches&&e.matches.length>0?e.matches:ub(n,{pathname:N});ii(T||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ii(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=kx(P&&P.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:ar([v,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:ar([v,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,e,r);return t&&U?L.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},U):U}function Nx(){let n=Fx(),t=Rx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),e?L.createElement("pre",{style:a},e):null,c)}var Ox=L.createElement(Nx,null),Mx=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?L.createElement(pr.Provider,{value:this.props.routeContext},L.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lx({routeContext:n,match:t,children:e}){let r=L.useContext(Fo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(pr.Provider,{value:n},e)}function kx(n,t=[],e=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,l=e==null?void 0:e.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);oe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(e)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:T}=e,S=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let T,S=!1,b=null,x=null;e&&(T=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||Ox,c&&(d<0&&v===0?(Tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):d===v&&(S=!0,x=p.route.hydrateFallbackElement||null)));let N=t.concat(a.slice(0,v+1)),P=()=>{let U;return T?U=b:S?U=x:p.route.Component?U=L.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=m,L.createElement(Lx,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:e!=null},children:U})};return e&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?L.createElement(Mx,{location:e.location,revalidation:e.revalidation,component:b,error:T,children:P(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):P()},null)}function Sg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ux(n){let t=L.useContext(Fo);return oe(t,Sg(n)),t}function jx(n){let t=L.useContext(xf);return oe(t,Sg(n)),t}function Bx(n){let t=L.useContext(pr);return oe(t,Sg(n)),t}function bg(n){let t=Bx(n),e=t.matches[t.matches.length-1];return oe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function zx(){return bg("useRouteId")}function Fx(){var r;let n=L.useContext(Eg),t=jx("useRouteError"),e=bg("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function Hx(){let{router:n}=Ux("useNavigate"),t=bg("useNavigate"),e=L.useRef(!1);return yb(()=>{e.current=!0}),L.useCallback(async(a,l={})=>{ii(e.current,gb),e.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:t,...l}))},[n,t])}var vT={};function Tb(n,t,e){!t&&!vT[n]&&(vT[n]=!0,ii(!1,e))}L.memo(qx);function qx({routes:n,future:t,state:e}){return _b(n,void 0,e,t)}function ua(n){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gx({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:a,static:l=!1}){oe(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof e=="string"&&(e=zo(e));let{pathname:m="/",search:p="",hash:v="",state:T=null,key:S="default"}=e,b=L.useMemo(()=>{let x=gs(m,c);return x==null?null:{location:{pathname:x,search:p,hash:v,state:T,key:S},navigationType:r}},[c,m,p,v,T,S,r]);return ii(b!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:L.createElement(Ii.Provider,{value:d},L.createElement(Uu.Provider,{children:t,value:b}))}function Kx({children:n,location:t}){return Px(Vp(n),t)}function Vp(n,t=[]){let e=[];return L.Children.forEach(n,(r,a)=>{if(!L.isValidElement(r))return;let l=[...t,a];if(r.type===L.Fragment){e.push.apply(e,Vp(r.props.children,l));return}oe(r.type===ua,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Vp(r.props.children,l)),e.push(c)}),e}var Lh="get",kh="application/x-www-form-urlencoded";function If(n){return n!=null&&typeof n.tagName=="string"}function $x(n){return If(n)&&n.tagName.toLowerCase()==="button"}function Qx(n){return If(n)&&n.tagName.toLowerCase()==="form"}function Yx(n){return If(n)&&n.tagName.toLowerCase()==="input"}function Xx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Wx(n,t){return n.button===0&&(!t||t==="_self")&&!Xx(n)}function Pp(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,e)=>{let r=n[e];return t.concat(Array.isArray(r)?r.map(a=>[e,a]):[[e,r]])},[]))}function Zx(n,t){let e=Pp(n);return t&&t.forEach((r,a)=>{e.has(a)||t.getAll(a).forEach(l=>{e.append(a,l)})}),e}var Ah=null;function Jx(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ap(n){return n!=null&&!tI.has(n)?(ii(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):n}function eI(n,t){let e,r,a,l,c;if(Qx(n)){let d=n.getAttribute("action");r=d?gs(d,t):null,e=n.getAttribute("method")||Lh,a=ap(n.getAttribute("enctype"))||kh,l=new FormData(n)}else if($x(n)||Yx(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(r=m?gs(m,t):null,e=n.getAttribute("formmethod")||d.getAttribute("method")||Lh,a=ap(n.getAttribute("formenctype"))||ap(d.getAttribute("enctype"))||kh,l=new FormData(d,n),!Jx()){let{name:p,type:v,value:T}=n;if(v==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,T)}}else{if(If(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Lh,r=null,a=kh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:l,body:c}}function wg(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function nI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rI(n,t,e){let r=await Promise.all(n.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await nI(l,e);return c.links?c.links():[]}return[]}));return lI(r.flat(1).filter(iI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _T(n,t,e,r,a,l){let c=(m,p)=>e[p]?m.route.id!==e[p].route.id:!0,d=(m,p)=>{var v;return e[p].pathname!==m.pathname||((v=e[p].route.path)==null?void 0:v.endsWith("*"))&&e[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{var T;let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=e[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function sI(n,t,{includeHydrateFallback:e}={}){return aI(n.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function aI(n){return[...new Set(n)]}function oI(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function lI(n,t){let e=new Set;return new Set(t),n.reduce((r,a)=>{let l=JSON.stringify(oI(a));return e.has(l)||(e.add(l),r.push({key:l,link:a})),r},[])}function uI(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cI(){let n=L.useContext(Fo);return wg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hI(){let n=L.useContext(xf);return wg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ag=L.createContext(void 0);Ag.displayName="FrameworkContext";function Eb(){let n=L.useContext(Ag);return wg(n,"You must render this element inside a <HydratedRouter> element"),n}function fI(n,t){let e=L.useContext(Ag),[r,a]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=t,S=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=U=>{U.forEach($=>{c($.isIntersecting)})},P=new IntersectionObserver(N,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[n]),L.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let b=()=>{a(!0)},x=()=>{a(!1),c(!1)};return e?n!=="intent"?[l,S,{}]:[l,S,{onFocus:ou(d,b),onBlur:ou(m,x),onMouseEnter:ou(p,b),onMouseLeave:ou(v,x),onTouchStart:ou(T,b)}]:[!1,S,{}]}function ou(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function dI({page:n,...t}){let{router:e}=cI(),r=L.useMemo(()=>ub(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?L.createElement(pI,{page:n,matches:r,...t}):null}function mI(n){let{manifest:t,routeModules:e}=Eb(),[r,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return rI(n,t,e).then(c=>{l||a(c)}),()=>{l=!0}},[n,t,e]),r}function pI({page:n,matches:t,...e}){let r=As(),{manifest:a,routeModules:l}=Eb(),{loaderData:c,matches:d}=hI(),m=L.useMemo(()=>_T(n,t,d,a,r,"data"),[n,t,d,a,r]),p=L.useMemo(()=>_T(n,t,d,a,r,"assets"),[n,t,d,a,r]),v=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(t.forEach(P=>{var $;let U=a.routes[P.route.id];!U||!U.hasLoader||(!m.some(q=>q.route.id===P.route.id)&&P.route.id in c&&(($=l[P.route.id])!=null&&$.shouldRevalidate)||U.hasClientLoader?x=!0:b.add(P.route.id))}),b.size===0)return[];let N=uI(n);return x&&b.size>0&&N.searchParams.set("_routes",t.filter(P=>b.has(P.route.id)).map(P=>P.route.id).join(",")),[N.pathname+N.search]},[c,r,a,m,t,n,l]),T=L.useMemo(()=>sI(p,a),[p,a]),S=mI(p);return L.createElement(L.Fragment,null,v.map(b=>L.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...e})),T.map(b=>L.createElement("link",{key:b,rel:"modulepreload",href:b,...e})),S.map(({key:b,link:x})=>L.createElement("link",{key:b,...x})))}function gI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sb&&(window.__reactRouterVersion="7.2.0")}catch{}function yI({basename:n,children:t,window:e}){let r=L.useRef();r.current==null&&(r.current=rx({window:e,v5Compat:!0}));let a=r.current,[l,c]=L.useState({action:a.action,location:a.location}),d=L.useCallback(m=>{L.startTransition(()=>c(m))},[c]);return L.useLayoutEffect(()=>a.listen(d),[a,d]),L.createElement(Gx,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:a})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=L.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:T,...S},b){let{basename:x}=L.useContext(Ii),N=typeof p=="string"&&bb.test(p),P,U=!1;if(typeof p=="string"&&N&&(P=p,Sb))try{let R=new URL(window.location.href),I=p.startsWith("//")?new URL(R.protocol+p):new URL(p),k=gs(I.pathname,x);I.origin===R.origin&&k!=null?p=k+I.search+I.hash:U=!0}catch{ii(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Dx(p,{relative:a}),[q,nt,Z]=fI(r,S),ut=EI(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:T});function O(R){t&&t(R),R.defaultPrevented||ut(R)}let C=L.createElement("a",{...S,...Z,href:P||$,onClick:U||l?t:O,ref:gI(b,nt),target:m,"data-discover":!N&&e==="render"?"true":void 0});return q&&!N?L.createElement(L.Fragment,null,C,L.createElement(dI,{page:$})):C});An.displayName="Link";var vI=L.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},v){let T=Bu(c,{relative:p.relative}),S=As(),b=L.useContext(xf),{navigator:x,basename:N}=L.useContext(Ii),P=b!=null&&CI(T)&&d===!0,U=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,$=S.pathname,q=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||($=$.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&N&&(q=gs(q,N)||q);const nt=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Z=$===U||!a&&$.startsWith(U)&&$.charAt(nt)==="/",ut=q!=null&&(q===U||!a&&q.startsWith(U)&&q.charAt(U.length)==="/"),O={isActive:Z,isPending:ut,isTransitioning:P},C=Z?t:void 0,R;typeof r=="function"?R=r(O):R=[r,Z?"active":null,ut?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(O):l;return L.createElement(An,{...p,"aria-current":C,className:R,ref:v,style:I,to:c,viewTransition:d},typeof m=="function"?m(O):m)});vI.displayName="NavLink";var _I=L.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:a,state:l,method:c=Lh,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:T,...S},b)=>{let x=AI(),N=RI(d,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",U=typeof d=="string"&&bb.test(d),$=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let nt=q.nativeEvent.submitter,Z=(nt==null?void 0:nt.getAttribute("formmethod"))||c;x(nt||q.currentTarget,{fetcherKey:t,method:Z,navigate:e,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:T})};return L.createElement("form",{ref:b,method:P,action:N,onSubmit:r?m:$,...S,"data-discover":!U&&n==="render"?"true":void 0})});_I.displayName="Form";function TI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wb(n){let t=L.useContext(Fo);return oe(t,TI(n)),t}function EI(n,{target:t,replace:e,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=vb(),m=As(),p=Bu(n,{relative:l});return L.useCallback(v=>{if(Wx(v,t)){v.preventDefault();let T=e!==void 0?e:Su(m)===Su(p);d(n,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,e,r,t,n,a,l,c])}function SI(n){ii(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=L.useRef(Pp(n)),e=L.useRef(!1),r=As(),a=L.useMemo(()=>Zx(r.search,e.current?null:t.current),[r.search]),l=vb(),c=L.useCallback((d,m)=>{const p=Pp(typeof d=="function"?d(a):d);e.current=!0,l("?"+p,m)},[l,a]);return[a,c]}var bI=0,wI=()=>`__${String(++bI)}__`;function AI(){let{router:n}=wb("useSubmit"),{basename:t}=L.useContext(Ii),e=zx();return L.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=eI(r,t);if(a.navigate===!1){let v=a.fetcherKey||wI();await n.fetch(v,e,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,t,e])}function RI(n,{relative:t}={}){let{basename:e}=L.useContext(Ii),r=L.useContext(pr);oe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Bu(n||".",{relative:t})},c=As();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ar([e,l.pathname])),Su(l)}function CI(n,t={}){let e=L.useContext(pb);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wb("useViewTransitionState"),a=Bu(n,{relative:t.relative});if(!e.isTransitioning)return!1;let l=gs(e.currentLocation.pathname,r)||e.currentLocation.pathname,c=gs(e.nextLocation.pathname,r)||e.nextLocation.pathname;return Wh(a.pathname,c)!=null||Wh(a.pathname,l)!=null}new TextEncoder;var TT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},xI=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],d=n[e++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],c=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},Rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|p>>6,b=p&63;m||(b=64,c||(S=64)),r.push(e[v],e[T],e[S],e[b])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ab(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):xI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const T=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new II;const S=l<<2|d>>4;if(r.push(S),p!==64){const b=d<<4&240|p>>2;if(r.push(b),T!==64){const x=p<<6&192|T;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class II extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DI=function(n){const t=Ab(n);return Rb.encodeByteArray(t,!0)},Zh=function(n){return DI(n).replace(/\./g,"")},Cb=function(n){try{return Rb.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>VI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof TT>"u")return;const n=TT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Cb(n[1]);return t&&JSON.parse(t)},Df=()=>{try{return PI()||NI()||OI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xb=n=>{var t,e;return(e=(t=Df())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},MI=n=>{const t=xb(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Ib=()=>{var n;return(n=Df())===null||n===void 0?void 0:n.config},Db=n=>{var t;return(t=Df())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zh(JSON.stringify(e)),Zh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function jI(){var n;const t=(n=Df())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HI(){const n=sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qI(){return!jI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GI(){try{return typeof indexedDB=="object"}catch{return!1}}function KI(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="FirebaseError";class gr extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=$I,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?QI(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new gr(a,d,r)}}function QI(n,t){return n.replace(YI,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const YI=/\{\$([^}]+)}/g;function XI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Jh(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const l=n[a],c=t[a];if(ET(l)&&ET(c)){if(!Jh(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function ET(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function WI(n,t){const e=new ZI(n,t);return e.subscribe.bind(e)}class ZI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");JI(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=op),a.error===void 0&&(a.error=op),a.complete===void 0&&(a.complete=op);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(n){return n&&n._delegate?n._delegate:n}class pa{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new LI;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nD(t))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ca){return this.instances.has(t)}getOptions(t=ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,e){var r;const a=this.normalizeInstanceIdentifier(e),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eD(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ca){return this.component?this.component.multipleInstances?t:ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eD(n){return n===ca?void 0:n}function nD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new tD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ot||(Ot={}));const rD={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},sD=Ot.INFO,aD={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},oD=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=aD[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rg{constructor(t){this.name=t,this._logLevel=sD,this._logHandler=oD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const lD=(n,t)=>t.some(e=>n instanceof e);let ST,bT;function uD(){return ST||(ST=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cD(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vb=new WeakMap,Np=new WeakMap,Pb=new WeakMap,lp=new WeakMap,Cg=new WeakMap;function hD(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(us(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Vb.set(e,n)}).catch(()=>{}),Cg.set(t,n),t}function fD(n){if(Np.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Np.set(n,t)}let Op={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Np.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Pb.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return us(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function dD(n){Op=n(Op)}function mD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(up(this),t,...e);return Pb.set(r,t.sort?t.sort():[t]),us(r)}:cD().includes(n)?function(...t){return n.apply(up(this),t),us(Vb.get(this))}:function(...t){return us(n.apply(up(this),t))}}function pD(n){return typeof n=="function"?mD(n):(n instanceof IDBTransaction&&fD(n),lD(n,uD())?new Proxy(n,Op):n)}function us(n){if(n instanceof IDBRequest)return hD(n);if(lp.has(n))return lp.get(n);const t=pD(n);return t!==n&&(lp.set(n,t),Cg.set(t,n)),t}const up=n=>Cg.get(n);function gD(n,t,{blocked:e,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),d=us(c);return r&&c.addEventListener("upgradeneeded",m=>{r(us(c.result),m.oldVersion,m.newVersion,us(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const yD=["get","getKey","getAll","getAllKeys","count"],vD=["put","add","delete","clear"],cp=new Map;function wT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(cp.get(t))return cp.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=vD.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||yD.includes(e)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[e](...d),a&&m.done]))[0]};return cp.set(t,l),l}dD(n=>({...n,get:(t,e,r)=>wT(t,e)||n.get(t,e,r),has:(t,e)=>!!wT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(TD(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function TD(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mp="@firebase/app",AT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Rg("@firebase/app"),ED="@firebase/app-compat",SD="@firebase/analytics-compat",bD="@firebase/analytics",wD="@firebase/app-check-compat",AD="@firebase/app-check",RD="@firebase/auth",CD="@firebase/auth-compat",xD="@firebase/database",ID="@firebase/data-connect",DD="@firebase/database-compat",VD="@firebase/functions",PD="@firebase/functions-compat",ND="@firebase/installations",OD="@firebase/installations-compat",MD="@firebase/messaging",LD="@firebase/messaging-compat",kD="@firebase/performance",UD="@firebase/performance-compat",jD="@firebase/remote-config",BD="@firebase/remote-config-compat",zD="@firebase/storage",FD="@firebase/storage-compat",HD="@firebase/firestore",qD="@firebase/vertexai",GD="@firebase/firestore-compat",KD="firebase",$D="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",QD={[Mp]:"fire-core",[ED]:"fire-core-compat",[bD]:"fire-analytics",[SD]:"fire-analytics-compat",[AD]:"fire-app-check",[wD]:"fire-app-check-compat",[RD]:"fire-auth",[CD]:"fire-auth-compat",[xD]:"fire-rtdb",[ID]:"fire-data-connect",[DD]:"fire-rtdb-compat",[VD]:"fire-fn",[PD]:"fire-fn-compat",[ND]:"fire-iid",[OD]:"fire-iid-compat",[MD]:"fire-fcm",[LD]:"fire-fcm-compat",[kD]:"fire-perf",[UD]:"fire-perf-compat",[jD]:"fire-rc",[BD]:"fire-rc-compat",[zD]:"fire-gcs",[FD]:"fire-gcs-compat",[HD]:"fire-fst",[GD]:"fire-fst-compat",[qD]:"fire-vertex","fire-js":"fire-js",[KD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,YD=new Map,kp=new Map;function RT(n,t){try{n.container.addComponent(t)}catch(e){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Do(n){const t=n.name;if(kp.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;kp.set(t,n);for(const e of tf.values())RT(e,n);for(const e of YD.values())RT(e,n);return!0}function xg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ei(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new zu("app","Firebase",XD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=$D;function Nb(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Lp,automaticDataCollectionEnabled:!1},t),a=r.name;if(typeof a!="string"||!a)throw cs.create("bad-app-name",{appName:String(a)});if(e||(e=Ib()),!e)throw cs.create("no-options");const l=tf.get(a);if(l){if(Jh(e,l.options)&&Jh(r,l.config))return l;throw cs.create("duplicate-app",{appName:a})}const c=new iD(a);for(const m of kp.values())c.addComponent(m);const d=new WD(e,r,c);return tf.set(a,d),d}function Ob(n=Lp){const t=tf.get(n);if(!t&&n===Lp&&Ib())return Nb();if(!t)throw cs.create("no-app",{appName:n});return t}function hs(n,t,e){var r;let a=(r=QD[n])!==null&&r!==void 0?r:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(d.join(" "));return}Do(new pa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firebase-heartbeat-database",JD=1,bu="firebase-heartbeat-store";let hp=null;function Mb(){return hp||(hp=gD(ZD,JD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(bu)}catch(e){console.warn(e)}}}}).catch(n=>{throw cs.create("idb-open",{originalErrorMessage:n.message})})),hp}async function t2(n){try{const e=(await Mb()).transaction(bu),r=await e.objectStore(bu).get(Lb(n));return await e.done,r}catch(t){if(t instanceof gr)ur.warn(t.message);else{const e=cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ur.warn(e.message)}}}async function CT(n,t){try{const r=(await Mb()).transaction(bu,"readwrite");await r.objectStore(bu).put(t,Lb(n)),await r.done}catch(e){if(e instanceof gr)ur.warn(e.message);else{const r=cs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ur.warn(r.message)}}}function Lb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1024,n2=30;class i2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new s2(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=xT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>n2){const c=a2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ur.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xT(),{heartbeatsToSend:r,unsentEntries:a}=r2(this._heartbeatsCache.heartbeats),l=Zh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ur.warn(e),""}}}function xT(){return new Date().toISOString().substring(0,10)}function r2(n,t=e2){const e=[];let r=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),IT(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),IT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class s2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GI()?KI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await t2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return CT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return CT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function IT(n){return Zh(JSON.stringify({version:2,heartbeats:n})).length}function a2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){Do(new pa("platform-logger",t=>new _D(t),"PRIVATE")),Do(new pa("heartbeat",t=>new i2(t),"PRIVATE")),hs(Mp,AT,n),hs(Mp,AT,"esm2017"),hs("fire-js","")}o2("");var l2="firebase",u2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(l2,u2,"app");function Ig(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]]);return e}function kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c2=kb,Ub=new zu("auth","Firebase",kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Rg("@firebase/auth");function h2(n,...t){ef.logLevel<=Ot.WARN&&ef.warn(`Auth (${Ho}): ${n}`,...t)}function Uh(n,...t){ef.logLevel<=Ot.ERROR&&ef.error(`Auth (${Ho}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n,...t){throw Dg(n,...t)}function Si(n,...t){return Dg(n,...t)}function jb(n,t,e){const r=Object.assign(Object.assign({},c2()),{[t]:e});return new zu("auth","Firebase",r).create(t,{appName:n.name})}function fs(n){return jb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dg(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Ub.create(n,...t)}function wt(n,t,...e){if(!n)throw Dg(t,...e)}function ir(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Uh(t),new Error(t)}function hr(n,t){n||ir(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function f2(){return DT()==="http:"||DT()==="https:"}function DT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f2()||zI()||"connection"in navigator)?navigator.onLine:!0}function m2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t,e){this.shortDelay=t,this.longDelay=e,hr(e>t,"Short delay should be less than long delay!"),this.isMobile=UI()||FI()}get(){return d2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(n,t){hr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Hu(3e4,6e4);function Vf(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function qo(n,t,e,r,a={}){return zb(n,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=Fu(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:t,headers:m},l);return BI()||(p.referrerPolicy="no-referrer"),Bb.fetch()(Hb(n,n.config.apiHost,e,d),p)})}async function zb(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},p2),t);try{const a=new y2(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Rh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Rh(n,"user-disabled",c);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jb(n,v,p);cr(n,v)}}catch(a){if(a instanceof gr)throw a;cr(n,"network-request-failed",{message:String(a)})}}async function Fb(n,t,e,r,a={}){const l=await qo(n,t,e,r,a);return"mfaPendingCredential"in l&&cr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Hb(n,t,e,r){const a=`${t}${e}?${r}`;return n.config.emulator?Vg(n.config,a):`${n.config.apiScheme}://${a}`}class y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),g2.get())})}}function Rh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=Si(n,t,r);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,t){return qo(n,"POST","/v1/accounts:delete",t)}async function qb(n,t){return qo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function _2(n,t=!1){const e=Qe(n),r=await e.getIdToken(t),a=Pg(r);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:mu(fp(a.auth_time)),issuedAtTime:mu(fp(a.iat)),expirationTime:mu(fp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function fp(n){return Number(n)*1e3}function Pg(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Cb(e);return a?JSON.parse(a):(Uh("Failed to decode base64 JWT payload"),null)}catch(a){return Uh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function VT(n){const t=Pg(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof gr&&T2(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function T2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){var t;const e=n.auth,r=await n.getIdToken(),a=await wu(n,qb(e,{idToken:r}));wt(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?Gb(l.providerUserInfo):[],d=b2(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function S2(n){const t=Qe(n);await nf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function b2(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function Gb(n){return n.map(t=>{var{providerId:e}=t,r=Ig(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,t){const e=await zb(n,{},async()=>{const r=Fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=Hb(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Bb.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function A2(n,t){return qo(n,"POST","/v2/accounts:revokeToken",Vf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=VT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:l}=await w2(t,e);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:l}=e,c=new Ro;return r&&(wt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class rr{constructor(t){var{uid:e,auth:r,stsTokenManager:a}=t,l=Ig(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const e=await wu(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return _2(this,t)}reload(){return S2(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new rr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await wu(this,v2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,a,l,c,d,m,p,v;const T=(r=e.displayName)!==null&&r!==void 0?r:void 0,S=(a=e.email)!==null&&a!==void 0?a:void 0,b=(l=e.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=e.photoURL)!==null&&c!==void 0?c:void 0,N=(d=e.tenantId)!==null&&d!==void 0?d:void 0,P=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,U=(p=e.createdAt)!==null&&p!==void 0?p:void 0,$=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:q,emailVerified:nt,isAnonymous:Z,providerData:ut,stsTokenManager:O}=e;wt(q&&O,t,"internal-error");const C=Ro.fromJSON(this.name,O);wt(typeof q=="string",t,"internal-error"),ts(T,t.name),ts(S,t.name),wt(typeof nt=="boolean",t,"internal-error"),wt(typeof Z=="boolean",t,"internal-error"),ts(b,t.name),ts(x,t.name),ts(N,t.name),ts(P,t.name),ts(U,t.name),ts($,t.name);const R=new rr({uid:q,auth:t,email:S,emailVerified:nt,displayName:T,isAnonymous:Z,photoURL:x,phoneNumber:b,tenantId:N,stsTokenManager:C,createdAt:U,lastLoginAt:$});return ut&&Array.isArray(ut)&&(R.providerData=ut.map(I=>Object.assign({},I))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(t,e,r=!1){const a=new Ro;a.updateFromServerResponse(e);const l=new rr({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await nf(l),l}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Gb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ro;d.updateFromIdToken(r);const m=new rr({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new jp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;function sr(n){hr(n instanceof Function,"Expected a class definition");let t=PT.get(n);return t?(hr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,PT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Kb.type="NONE";const NT=Kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n,t,e){return`firebase:${n}:${t}:${e}`}class Co{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=jh(this.userKey,a.apiKey,l),this.fullPersistenceKey=jh("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?rr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Co(sr(NT),t,r);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||sr(NT);const c=jh(r,t.config.apiKey,t.name);let d=null;for(const p of e)try{const v=await p._get(c);if(v){const T=rr._fromJSON(t,v);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Co(l,t,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Co(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($b(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zb(t))return"Blackberry";if(Jb(t))return"Webos";if(Qb(t))return"Safari";if((t.includes("chrome/")||Yb(t))&&!t.includes("edge/"))return"Chrome";if(Wb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $b(n=sn()){return/firefox\//i.test(n)}function Qb(n=sn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yb(n=sn()){return/crios\//i.test(n)}function Xb(n=sn()){return/iemobile/i.test(n)}function Wb(n=sn()){return/android/i.test(n)}function Zb(n=sn()){return/blackberry/i.test(n)}function Jb(n=sn()){return/webos/i.test(n)}function Ng(n=sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function R2(n=sn()){var t;return Ng(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function C2(){return HI()&&document.documentMode===10}function tw(n=sn()){return Ng(n)||Wb(n)||Jb(n)||Zb(n)||/windows phone/i.test(n)||Xb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n,t=[]){let e;switch(n){case"Browser":e=OT(sn());break;case"Worker":e=`${OT(sn())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,t={}){return qo(n,"GET","/v2/passwordPolicy",Vf(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=6;class V2{constructor(t){var e,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:D2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MT(this),this.idTokenSubscription=new MT(this),this.beforeStateQueue=new x2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=sr(e)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Co.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await qb(this,{idToken:t}),r=await rr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await nf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=m2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(fs(this));const e=t?Qe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await I2(this),e=new V2(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new zu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await A2(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&sr(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[sr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&h2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pf(n){return Qe(n)}class MT{constructor(t){this.auth=t,this.observer=null,this.addObserver=WI(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N2(n){Og=n}function O2(n){return Og.loadJS(n)}function M2(){return Og.gapiScript}function L2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,t){const e=xg(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Jh(l,t??{}))return a;cr(a,"already-initialized")}return e.initialize({options:t})}function U2(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(sr);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function j2(n,t,e){const r=Pf(n);wt(r._canInitEmulator,r,"emulator-config-failed"),wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=nw(t),{host:c,port:d}=B2(t),m=d===null?"":`:${d}`;r.config.emulator={url:`${l}//${c}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),z2()}function nw(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function B2(n){const t=nw(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:LT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:LT(c)}}}function LT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function z2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ir("not implemented")}_getIdTokenResponse(t){return ir("not implemented")}_linkToIdToken(t,e){return ir("not implemented")}_getReauthenticationResolver(t){return ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(n,t){return Fb(n,"POST","/v1/accounts:signInWithIdp",Vf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="http://localhost";class ga extends iw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):cr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=e,l=Ig(e,["providerId","signInMethod"]);if(!r||!a)return null;const c=new ga(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return xo(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,xo(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,xo(t,e)}buildRequest(){const t={requestUri:F2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Fu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends rw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends qu{constructor(){super("facebook.com")}static credential(t){return ga._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ga._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return rs.credential(e,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends qu{constructor(){super("github.com")}static credential(t){return ga._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends qu{constructor(){super("twitter.com")}static credential(t,e){return ga._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return as.credential(e,r)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const l=await rr._fromIdTokenResponse(t,r,a),c=kT(r);return new ya({user:l,providerId:c,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=kT(r);return new ya({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function kT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends gr{constructor(t,e,r,a){var l;super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new rf(t,e,r,a)}}function sw(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(n,l,t,r):l})}async function H2(n,t,e=!1){const r=await wu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ya._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(n,t,e=!1){const{auth:r}=n;if(ei(r.app))return Promise.reject(fs(r));const a="reauthenticate";try{const l=await wu(n,sw(r,a,t,n),e);wt(l.idToken,r,"internal-error");const c=Pg(l.idToken);wt(c,r,"internal-error");const{sub:d}=c;return wt(n.uid===d,r,"user-mismatch"),ya._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n,t,e=!1){if(ei(n.app))return Promise.reject(fs(n));const r="signIn",a=await sw(n,r,t),l=await ya._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(n,t){return Fb(n,"POST","/v1/accounts:signInWithCustomToken",Vf(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(n,t){if(ei(n.app))return Promise.reject(fs(n));const e=Pf(n),r=await K2(e,{token:t,returnSecureToken:!0}),a=await ya._fromIdTokenResponse(e,"signIn",r);return await e._updateCurrentUser(a.user),a}function Q2(n,t,e,r){return Qe(n).onIdTokenChanged(t,e,r)}function Y2(n,t,e){return Qe(n).beforeAuthStateChanged(t,e)}function X2(n,t,e,r){return Qe(n).onAuthStateChanged(t,e,r)}function W2(n){return Qe(n).signOut()}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=1e3,J2=10;class ow extends aw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!e&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);C2()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,J2):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},Z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ow.type="LOCAL";const tV=ow;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends aw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}lw.type="SESSION";const uw=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new Nf(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:l}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(e.origin,l)),m=await eV(d);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Mg("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function iV(n){bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function rV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aV(){return cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebaseLocalStorageDb",oV=1,af="firebaseLocalStorage",fw="fbase_key";class Gu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Of(n,t){return n.transaction([af],t?"readwrite":"readonly").objectStore(af)}function lV(){const n=indexedDB.deleteDatabase(hw);return new Gu(n).toPromise()}function Bp(){const n=indexedDB.open(hw,oV);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(af,{keyPath:fw})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(af)?t(r):(r.close(),await lV(),t(await Bp()))})})}async function UT(n,t,e){const r=Of(n,!0).put({[fw]:t,value:e});return new Gu(r).toPromise()}async function uV(n,t){const e=Of(n,!1).get(t),r=await new Gu(e).toPromise();return r===void 0?null:r.value}function jT(n,t){const e=Of(n,!0).delete(t);return new Gu(e).toPromise()}const cV=800,hV=3;class dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>hV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(aV()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await rV(),!this.activeServiceWorker)return;this.sender=new nV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((e=r[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bp();return await UT(t,sf,"1"),await jT(t,sf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>UT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>uV(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>jT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Of(a,!1).getAll();return new Gu(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dw.type="LOCAL";const fV=dw;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(n,t){return t?sr(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends iw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mV(n){return G2(n.auth,new Lg(n),n.bypassAuthState)}function pV(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),q2(e,new Lg(n),n.bypassAuthState)}async function gV(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),H2(e,new Lg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,e,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return pV;default:cr(this.auth,"internal-error")}}resolve(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new Hu(2e3,1e4);class _o extends mw{constructor(t,e,r,a,l){super(t,e,a,l),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const t=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if(!((r=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yV.get())};t()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="pendingRedirect",Bh=new Map;class _V extends mw{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Bh.get(this.auth._key());if(!t){try{const r=await TV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Bh.set(this.auth._key(),t)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TV(n,t){const e=bV(t),r=SV(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function EV(n,t){Bh.set(n._key(),t)}function SV(n){return sr(n._redirectPersistence)}function bV(n){return jh(vV,n.config.apiKey,n.name)}async function wV(n,t,e=!1){if(ei(n.app))return Promise.reject(fs(n));const r=Pf(n),a=dV(r,t),c=await new _V(r,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=10*60*1e3;class RV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!pw(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(Si(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AV&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(t))}saveEventToCache(t){this.cachedEventUids.add(BT(t)),this.lastProcessedEventTime=Date.now()}}function BT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function pw({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function CV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(n,t={}){return qo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DV=/^https?/;async function VV(n){if(n.config.emulator)return;const{authorizedDomains:t}=await xV(n);for(const e of t)try{if(PV(e))return}catch{}cr(n,"unauthorized-domain")}function PV(n){const t=Up(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===r}if(!DV.test(e))return!1;if(IV.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new Hu(3e4,6e4);function zT(){const n=bi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function OV(n){return new Promise((t,e)=>{var r,a,l;function c(){zT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zT(),e(Si(n,"network-request-failed"))},timeout:NV.get()})}if(!((a=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=bi().gapi)===null||l===void 0)&&l.load)c();else{const d=L2("iframefcb");return bi()[d]=()=>{gapi.load?c():e(Si(n,"network-request-failed"))},O2(`${M2()}?onload=${d}`).catch(m=>e(m))}}).catch(t=>{throw zh=null,t})}let zh=null;function MV(n){return zh=zh||OV(n),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new Hu(5e3,15e3),kV="__/auth/iframe",UV="emulator/auth/iframe",jV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zV(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Vg(t,UV):`https://${n.config.authDomain}/${kV}`,r={apiKey:t.apiKey,appName:n.name,v:Ho},a=BV.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${e}?${Fu(r).slice(1)}`}async function FV(n){const t=await MV(n),e=bi().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:zV(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Si(n,"network-request-failed"),d=bi().setTimeout(()=>{l(c)},LV.get());function m(){bi().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qV=500,GV=600,KV="_blank",$V="http://localhost";class FT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QV(n,t,e,r=qV,a=GV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},HV),{width:r.toString(),height:a.toString(),top:l,left:c}),p=sn().toLowerCase();e&&(d=Yb(p)?KV:e),$b(p)&&(t=t||$V,m.scrollbars="yes");const v=Object.entries(m).reduce((S,[b,x])=>`${S}${b}=${x},`,"");if(R2(p)&&d!=="_self")return YV(t||"",d),new FT(null);const T=window.open(t||"",d,v);wt(T,n,"popup-blocked");try{T.focus()}catch{}return new FT(T)}function YV(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="__/auth/handler",WV="emulator/auth/handler",ZV=encodeURIComponent("fac");async function HT(n,t,e,r,a,l){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ho,eventId:a};if(t instanceof rw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",XI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(t instanceof qu){const v=t.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${ZV}=${encodeURIComponent(m)}`:"";return`${JV(n)}?${Fu(d).slice(1)}${p}`}function JV({config:n}){return n.emulator?Vg(n,WV):`https://${n.authDomain}/${XV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class tP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=wV,this._overrideRedirectResult=EV}async _openPopup(t,e,r,a){var l;hr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await HT(t,e,r,Up(),a);return QV(t,c,Mg())}async _openRedirect(t,e,r,a){await this._originValidation(t);const l=await HT(t,e,r,Up(),a);return iV(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(hr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await FV(t),r=new RV(t);return e.register("authEvent",a=>(wt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(dp,{type:dp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[dp];c!==void 0&&e(!!c),cr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=VV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return tw()||Qb()||Ng()}}const eP=tP;var qT="@firebase/auth",GT="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rP(n){Do(new pa("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ew(n)},p=new P2(r,a,l,m);return U2(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Do(new pa("auth-internal",t=>{const e=Pf(t.getProvider("auth").getImmediate());return(r=>new nP(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(qT,GT,iP(n)),hs(qT,GT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=5*60,aP=Db("authIdTokenMaxAge")||sP;let KT=null;const oP=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>aP)return;const a=e==null?void 0:e.token;KT!==a&&(KT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lP(n=Ob()){const t=xg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=k2(n,{popupRedirectResolver:eP,persistence:[fV,tV,uw]}),r=Db("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=oP(l.toString());Y2(e,c,()=>c(e.currentUser)),Q2(e,d=>c(d))}}const a=xb("auth");return a&&j2(e,`http://${a}`),e}function uP(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}N2({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const l=Si("internal-error");l.customData=a,e(l)},r.type="text/javascript",r.charset="UTF-8",uP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rP("Browser");var $T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,gw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,C){function R(){}R.prototype=C.prototype,O.D=C.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(I,k,F){for(var V=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)V[Wt-2]=arguments[Wt];return C.prototype[k].apply(I,V)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,e),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,C,R){R||(R=0);var I=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)I[k]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(k=0;16>k;++k)I[k]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=O.g[0],R=O.g[1],k=O.g[2];var F=O.g[3],V=C+(F^R&(k^F))+I[0]+3614090360&4294967295;C=R+(V<<7&4294967295|V>>>25),V=F+(k^C&(R^k))+I[1]+3905402710&4294967295,F=C+(V<<12&4294967295|V>>>20),V=k+(R^F&(C^R))+I[2]+606105819&4294967295,k=F+(V<<17&4294967295|V>>>15),V=R+(C^k&(F^C))+I[3]+3250441966&4294967295,R=k+(V<<22&4294967295|V>>>10),V=C+(F^R&(k^F))+I[4]+4118548399&4294967295,C=R+(V<<7&4294967295|V>>>25),V=F+(k^C&(R^k))+I[5]+1200080426&4294967295,F=C+(V<<12&4294967295|V>>>20),V=k+(R^F&(C^R))+I[6]+2821735955&4294967295,k=F+(V<<17&4294967295|V>>>15),V=R+(C^k&(F^C))+I[7]+4249261313&4294967295,R=k+(V<<22&4294967295|V>>>10),V=C+(F^R&(k^F))+I[8]+1770035416&4294967295,C=R+(V<<7&4294967295|V>>>25),V=F+(k^C&(R^k))+I[9]+2336552879&4294967295,F=C+(V<<12&4294967295|V>>>20),V=k+(R^F&(C^R))+I[10]+4294925233&4294967295,k=F+(V<<17&4294967295|V>>>15),V=R+(C^k&(F^C))+I[11]+2304563134&4294967295,R=k+(V<<22&4294967295|V>>>10),V=C+(F^R&(k^F))+I[12]+1804603682&4294967295,C=R+(V<<7&4294967295|V>>>25),V=F+(k^C&(R^k))+I[13]+4254626195&4294967295,F=C+(V<<12&4294967295|V>>>20),V=k+(R^F&(C^R))+I[14]+2792965006&4294967295,k=F+(V<<17&4294967295|V>>>15),V=R+(C^k&(F^C))+I[15]+1236535329&4294967295,R=k+(V<<22&4294967295|V>>>10),V=C+(k^F&(R^k))+I[1]+4129170786&4294967295,C=R+(V<<5&4294967295|V>>>27),V=F+(R^k&(C^R))+I[6]+3225465664&4294967295,F=C+(V<<9&4294967295|V>>>23),V=k+(C^R&(F^C))+I[11]+643717713&4294967295,k=F+(V<<14&4294967295|V>>>18),V=R+(F^C&(k^F))+I[0]+3921069994&4294967295,R=k+(V<<20&4294967295|V>>>12),V=C+(k^F&(R^k))+I[5]+3593408605&4294967295,C=R+(V<<5&4294967295|V>>>27),V=F+(R^k&(C^R))+I[10]+38016083&4294967295,F=C+(V<<9&4294967295|V>>>23),V=k+(C^R&(F^C))+I[15]+3634488961&4294967295,k=F+(V<<14&4294967295|V>>>18),V=R+(F^C&(k^F))+I[4]+3889429448&4294967295,R=k+(V<<20&4294967295|V>>>12),V=C+(k^F&(R^k))+I[9]+568446438&4294967295,C=R+(V<<5&4294967295|V>>>27),V=F+(R^k&(C^R))+I[14]+3275163606&4294967295,F=C+(V<<9&4294967295|V>>>23),V=k+(C^R&(F^C))+I[3]+4107603335&4294967295,k=F+(V<<14&4294967295|V>>>18),V=R+(F^C&(k^F))+I[8]+1163531501&4294967295,R=k+(V<<20&4294967295|V>>>12),V=C+(k^F&(R^k))+I[13]+2850285829&4294967295,C=R+(V<<5&4294967295|V>>>27),V=F+(R^k&(C^R))+I[2]+4243563512&4294967295,F=C+(V<<9&4294967295|V>>>23),V=k+(C^R&(F^C))+I[7]+1735328473&4294967295,k=F+(V<<14&4294967295|V>>>18),V=R+(F^C&(k^F))+I[12]+2368359562&4294967295,R=k+(V<<20&4294967295|V>>>12),V=C+(R^k^F)+I[5]+4294588738&4294967295,C=R+(V<<4&4294967295|V>>>28),V=F+(C^R^k)+I[8]+2272392833&4294967295,F=C+(V<<11&4294967295|V>>>21),V=k+(F^C^R)+I[11]+1839030562&4294967295,k=F+(V<<16&4294967295|V>>>16),V=R+(k^F^C)+I[14]+4259657740&4294967295,R=k+(V<<23&4294967295|V>>>9),V=C+(R^k^F)+I[1]+2763975236&4294967295,C=R+(V<<4&4294967295|V>>>28),V=F+(C^R^k)+I[4]+1272893353&4294967295,F=C+(V<<11&4294967295|V>>>21),V=k+(F^C^R)+I[7]+4139469664&4294967295,k=F+(V<<16&4294967295|V>>>16),V=R+(k^F^C)+I[10]+3200236656&4294967295,R=k+(V<<23&4294967295|V>>>9),V=C+(R^k^F)+I[13]+681279174&4294967295,C=R+(V<<4&4294967295|V>>>28),V=F+(C^R^k)+I[0]+3936430074&4294967295,F=C+(V<<11&4294967295|V>>>21),V=k+(F^C^R)+I[3]+3572445317&4294967295,k=F+(V<<16&4294967295|V>>>16),V=R+(k^F^C)+I[6]+76029189&4294967295,R=k+(V<<23&4294967295|V>>>9),V=C+(R^k^F)+I[9]+3654602809&4294967295,C=R+(V<<4&4294967295|V>>>28),V=F+(C^R^k)+I[12]+3873151461&4294967295,F=C+(V<<11&4294967295|V>>>21),V=k+(F^C^R)+I[15]+530742520&4294967295,k=F+(V<<16&4294967295|V>>>16),V=R+(k^F^C)+I[2]+3299628645&4294967295,R=k+(V<<23&4294967295|V>>>9),V=C+(k^(R|~F))+I[0]+4096336452&4294967295,C=R+(V<<6&4294967295|V>>>26),V=F+(R^(C|~k))+I[7]+1126891415&4294967295,F=C+(V<<10&4294967295|V>>>22),V=k+(C^(F|~R))+I[14]+2878612391&4294967295,k=F+(V<<15&4294967295|V>>>17),V=R+(F^(k|~C))+I[5]+4237533241&4294967295,R=k+(V<<21&4294967295|V>>>11),V=C+(k^(R|~F))+I[12]+1700485571&4294967295,C=R+(V<<6&4294967295|V>>>26),V=F+(R^(C|~k))+I[3]+2399980690&4294967295,F=C+(V<<10&4294967295|V>>>22),V=k+(C^(F|~R))+I[10]+4293915773&4294967295,k=F+(V<<15&4294967295|V>>>17),V=R+(F^(k|~C))+I[1]+2240044497&4294967295,R=k+(V<<21&4294967295|V>>>11),V=C+(k^(R|~F))+I[8]+1873313359&4294967295,C=R+(V<<6&4294967295|V>>>26),V=F+(R^(C|~k))+I[15]+4264355552&4294967295,F=C+(V<<10&4294967295|V>>>22),V=k+(C^(F|~R))+I[6]+2734768916&4294967295,k=F+(V<<15&4294967295|V>>>17),V=R+(F^(k|~C))+I[13]+1309151649&4294967295,R=k+(V<<21&4294967295|V>>>11),V=C+(k^(R|~F))+I[4]+4149444226&4294967295,C=R+(V<<6&4294967295|V>>>26),V=F+(R^(C|~k))+I[11]+3174756917&4294967295,F=C+(V<<10&4294967295|V>>>22),V=k+(C^(F|~R))+I[2]+718787259&4294967295,k=F+(V<<15&4294967295|V>>>17),V=R+(F^(k|~C))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+F&4294967295}r.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var R=C-this.blockSize,I=this.B,k=this.h,F=0;F<C;){if(k==0)for(;F<=R;)a(this,O,F),F+=this.blockSize;if(typeof O=="string"){for(;F<C;)if(I[k++]=O.charCodeAt(F++),k==this.blockSize){a(this,I),k=0;break}}else for(;F<C;)if(I[k++]=O[F++],k==this.blockSize){a(this,I),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var R=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.u(O),O=Array(16),C=R=0;4>C;++C)for(var I=0;32>I;I+=8)O[R++]=this.g[C]>>>I&255;return O};function l(O,C){var R=d;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=C(O)}function c(O,C){this.h=C;for(var R=[],I=!0,k=O.length-1;0<=k;k--){var F=O[k]|0;I&&F==C||(R[k]=F,I=!1)}this.g=R}var d={};function m(O){return-128<=O&&128>O?l(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return P(p(-O));for(var C=[],R=1,I=0;O>=R;I++)C[I]=O/R|0,R*=4294967296;return new c(C,0)}function v(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return P(v(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(C,8)),I=T,k=0;k<O.length;k+=8){var F=Math.min(8,O.length-k),V=parseInt(O.substring(k,k+F),C);8>F?(F=p(Math.pow(C,F)),I=I.j(F).add(p(V))):(I=I.j(R),I=I.add(p(V)))}return I}var T=m(0),S=m(1),b=m(16777216);n=c.prototype,n.m=function(){if(N(this))return-P(this).m();for(var O=0,C=1,R=0;R<this.g.length;R++){var I=this.i(R);O+=(0<=I?I:4294967296+I)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(N(this))return"-"+P(this).toString(O);for(var C=p(Math.pow(O,6)),R=this,I="";;){var k=nt(R,C).g;R=U(R,k.j(C));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=k,x(R))return F+I;for(;6>F.length;)F="0"+F;I=F+I}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function N(O){return O.h==-1}n.l=function(O){return O=U(this,O),N(O)?-1:x(O)?0:1};function P(O){for(var C=O.g.length,R=[],I=0;I<C;I++)R[I]=~O.g[I];return new c(R,~O.h).add(S)}n.abs=function(){return N(this)?P(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0,k=0;k<=C;k++){var F=I+(this.i(k)&65535)+(O.i(k)&65535),V=(F>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);I=V>>>16,F&=65535,V&=65535,R[k]=V<<16|F}return new c(R,R[R.length-1]&-2147483648?-1:0)};function U(O,C){return O.add(P(C))}n.j=function(O){if(x(this)||x(O))return T;if(N(this))return N(O)?P(this).j(P(O)):P(P(this).j(O));if(N(O))return P(this.j(P(O)));if(0>this.l(b)&&0>O.l(b))return p(this.m()*O.m());for(var C=this.g.length+O.g.length,R=[],I=0;I<2*C;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<O.g.length;k++){var F=this.i(I)>>>16,V=this.i(I)&65535,Wt=O.i(k)>>>16,ht=O.i(k)&65535;R[2*I+2*k]+=V*ht,$(R,2*I+2*k),R[2*I+2*k+1]+=F*ht,$(R,2*I+2*k+1),R[2*I+2*k+1]+=V*Wt,$(R,2*I+2*k+1),R[2*I+2*k+2]+=F*Wt,$(R,2*I+2*k+2)}for(I=0;I<C;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=C;I<2*C;I++)R[I]=0;return new c(R,0)};function $(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function q(O,C){this.g=O,this.h=C}function nt(O,C){if(x(C))throw Error("division by zero");if(x(O))return new q(T,T);if(N(O))return C=nt(P(O),C),new q(P(C.g),P(C.h));if(N(C))return C=nt(O,P(C)),new q(P(C.g),C.h);if(30<O.g.length){if(N(O)||N(C))throw Error("slowDivide_ only works with positive integers.");for(var R=S,I=C;0>=I.l(O);)R=Z(R),I=Z(I);var k=ut(R,1),F=ut(I,1);for(I=ut(I,2),R=ut(R,2);!x(I);){var V=F.add(I);0>=V.l(O)&&(k=k.add(R),F=V),I=ut(I,1),R=ut(R,1)}return C=U(O,k.j(C)),new q(k,C)}for(k=T;0<=O.l(C);){for(R=Math.max(1,Math.floor(O.m()/C.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),F=p(R),V=F.j(C);N(V)||0<V.l(O);)R-=I,F=p(R),V=F.j(C);x(F)&&(F=S),k=k.add(F),O=U(O,V)}return new q(k,O)}n.A=function(O){return nt(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)&O.i(I);return new c(R,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)|O.i(I);return new c(R,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],I=0;I<C;I++)R[I]=this.i(I)^O.i(I);return new c(R,this.h^O.h)};function Z(O){for(var C=O.g.length+1,R=[],I=0;I<C;I++)R[I]=O.i(I)<<1|O.i(I-1)>>>31;return new c(R,O.h)}function ut(O,C){var R=C>>5;C%=32;for(var I=O.g.length-R,k=[],F=0;F<I;F++)k[F]=0<C?O.i(F+R)>>>C|O.i(F+R+1)<<32-C:O.i(F+R);return new c(k,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,ds=c}).apply(typeof $T<"u"?$T:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,uu,vw,Fh,zp,_w,Tw,Ew;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=e(this);function a(h,y){if(y)t:{var _=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in _))break t;_=_[G]}h=h[h.length-1],A=_[h],y=y(A),y!=A&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,A=!1,G={next:function(){if(!A&&_<h.length){var X=_++;return{value:y(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),h.apply(y,G)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function b(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function x(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(A,G,X){for(var ot=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ot[Ut-2]=arguments[Ut];return y.prototype[G].apply(A,ot)}}function N(h){const y=h.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=h[A];return _}return[]}function P(h,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const G=h.length||0,X=A.length||0;h.length=G+X;for(let ot=0;ot<X;ot++)h[G+ot]=A[ot]}else h.push(A)}}class U{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function $(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function nt(h){return nt[" "](h),h}nt[" "]=function(){};var Z=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ut(h,y,_){for(const A in h)y.call(_,h[A],A,h)}function O(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function C(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,y){let _,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(_ in A)h[_]=A[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function k(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function F(h){d.setTimeout(()=>{throw h},0)}function V(){var h=Vt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Wt{constructor(){this.h=this.g=null}add(y,_){const A=ht.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new U(()=>new st,h=>h.reset());class st{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,dt=!1,Vt=new Wt,M=()=>{const h=d.Promise.resolve(void 0);ft=()=>{h.then(K)}};var K=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(_){F(_)}var y=ht;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}dt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function At(h,y){if(lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(Z){t:{try{nt(y.nodeName);var G=!0;break t}catch{}G=!1}G||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:bt[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&At.aa.h.call(this)}}x(At,lt);var bt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function ue(h,y,_,A,G){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=G,this.key=++Ft,this.da=this.fa=!1}function Qt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function an(h){this.src=h,this.g={},this.h=0}an.prototype.add=function(h,y,_,A,G){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ot=In(h,y,A,G);return-1<ot?(y=h[ot],_||(y.fa=!1)):(y=new ue(y,this.src,X,!!A,G),y.fa=_,h.push(y)),y};function Di(h,y){var _=y.type;if(_ in h.g){var A=h.g[_],G=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=G)&&Array.prototype.splice.call(A,G,1),X&&(Qt(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function In(h,y,_,A){for(var G=0;G<h.length;++G){var X=h[G];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==A)return G}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),vr={};function Vi(h,y,_,A,G){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Vi(h,y[X],_,A,G);return null}return _=rc(_),h&&h[_e]?h.K(y,_,p(A)?!!A.capture:!1,G):Jo(h,y,_,!1,A,G)}function Jo(h,y,_,A,G,X){if(!y)throw Error("Invalid event type");var ot=p(G)?!!G.capture:!!G,Ut=tl(h);if(Ut||(h[yr]=Ut=new an(h)),_=Ut.add(y,_,A,ot,X),_.proxy)return _;if(A=wa(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)ct||(G=ot),G===void 0&&(G=!1),h.addEventListener(y.toString(),A,G);else if(h.attachEvent)h.attachEvent(Ra(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wa(){function h(_){return y.call(h.src,h.listener,_)}const y=ed;return h}function Aa(h,y,_,A,G){if(Array.isArray(y))for(var X=0;X<y.length;X++)Aa(h,y[X],_,A,G);else A=p(A)?!!A.capture:!!A,_=rc(_),h&&h[_e]?(h=h.i,y=String(y).toString(),y in h.g&&(X=h.g[y],_=In(X,_,A,G),-1<_&&(Qt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete h.g[y],h.h--)))):h&&(h=tl(h))&&(y=h.g[y.toString()],h=-1,y&&(h=In(y,_,A,G)),(_=-1<h?y[h]:null)&&Ds(_))}function Ds(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[_e])Di(y.i,h);else{var _=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(_,A,h.capture):y.detachEvent?y.detachEvent(Ra(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=tl(y))?(Di(_,h),_.h==0&&(_.src=null,y[yr]=null)):Qt(h)}}}function Ra(h){return h in vr?vr[h]:vr[h]="on"+h}function ed(h,y){if(h.da)h=!0;else{y=new At(y,this);var _=h.listener,A=h.ha||h.src;h.fa&&Ds(h),h=_.call(A,y)}return h}function tl(h){return h=h[yr],h instanceof an?h:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rc(h){return typeof h=="function"?h:(h[dn]||(h[dn]=function(y){return h.handleEvent(y)}),h[dn])}function Re(){at.call(this),this.i=new an(this),this.M=this,this.F=null}x(Re,at),Re.prototype[_e]=!0,Re.prototype.removeEventListener=function(h,y,_,A){Aa(this,h,y,_,A)};function Ne(h,y){var _,A=h.F;if(A)for(_=[];A;A=A.F)_.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new lt(y,h);else if(y instanceof lt)y.target=y.target||h;else{var G=y;y=new lt(A,h),I(y,G)}if(G=!0,_)for(var X=_.length-1;0<=X;X--){var ot=y.g=_[X];G=Pi(ot,A,!0,y)&&G}if(ot=y.g=h,G=Pi(ot,A,!0,y)&&G,G=Pi(ot,A,!1,y)&&G,_)for(X=0;X<_.length;X++)ot=y.g=_[X],G=Pi(ot,A,!1,y)&&G}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],A=0;A<_.length;A++)Qt(_[A]);delete h.g[y],h.h--}}this.F=null},Re.prototype.K=function(h,y,_,A){return this.i.add(String(h),y,!1,_,A)},Re.prototype.L=function(h,y,_,A){return this.i.add(String(h),y,!0,_,A)};function Pi(h,y,_,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,X=0;X<y.length;++X){var ot=y[X];if(ot&&!ot.da&&ot.capture==_){var Ut=ot.listener,xe=ot.ha||ot.src;ot.fa&&Di(h.i,ot),G=Ut.call(xe,A)!==!1&&G}}return G&&!A.defaultPrevented}function sc(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function el(h){h.g=sc(()=>{h.g=null,h.i&&(h.i=!1,el(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class nd extends at{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:el(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(h){at.call(this),this.h=h,this.g={}}x(Vs,at);var _r=[];function Xe(h){ut(h.g,function(y,_){this.g.hasOwnProperty(_)&&Ds(y)},h),h.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),Xe(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nl=d.JSON.stringify,si=d.JSON.parse,on=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function il(){}il.prototype.h=null;function ac(h){return h.h||(h.h=h.i())}function oc(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){lt.call(this,"d")}x(Tr,lt);function Qn(){lt.call(this,"c")}x(Qn,lt);var Dn={},Er=null;function Ca(){return Er=Er||new Re}Dn.La="serverreachability";function rl(h){lt.call(this,Dn.La,h)}x(rl,lt);function Sr(h){const y=Ca();Ne(y,new rl(y))}Dn.STAT_EVENT="statevent";function xa(h,y){lt.call(this,Dn.STAT_EVENT,h),this.stat=y}x(xa,lt);function pe(h){const y=Ca();Ne(y,new xa(y,h))}Dn.Ma="timingevent";function lc(h,y){lt.call(this,Dn.Ma,h),this.size=y}x(lc,lt);function br(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function uc(h,y,_,A,G,X){h.info(function(){if(h.g)if(X)for(var ot="",Ut=X.split("&"),xe=0;xe<Ut.length;xe++){var jt=Ut[xe].split("=");if(1<jt.length){var Le=jt[0];jt=jt[1];var Ie=Le.split("_");ot=2<=Ie.length&&Ie[1]=="type"?ot+(Le+"="+jt+"&"):ot+(Le+"=redacted&")}}else ot=null;else ot=X;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+y+`
`+_+`
`+ot})}function cc(h,y,_,A,G,X,ot){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+y+`
`+_+`
`+X+" "+ot})}function Ar(h,y,_,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Oe(h,_)+(A?" "+A:"")})}function oi(h,y){h.info(function(){return"TIMEOUT: "+y})}wr.prototype.info=function(){};function Oe(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var A=_[h];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ot=1;ot<G.length;ot++)G[ot]=""}}}}return nl(_)}catch{return y}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ps;function Ia(){}x(Ia,il),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},Ps=new Ia;function li(h,y,_,A){this.j=h,this.i=y,this.l=_,this.R=A||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sl}function sl(){this.i=null,this.g="",this.h=!1}var Rr={},Ns={};function Yn(h,y,_){h.L=1,h.v=Ls(ce(y)),h.m=_,h.P=!0,Oi(h,null)}function Oi(h,y){h.F=Date.now(),ie(h),h.A=ce(h.v);var _=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),ki(_.i,"t",A),h.C=0,_=h.j.J,h.h=new sl,h.g=wc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new nd(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,A=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(_r[0]=G.toString()),G=_r);for(var X=0;X<G.length;X++){var ot=Vi(_,G[X],A||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Sr(),uc(h.i,h.u,h.A,h.l,h.R,h.m)}li.prototype.ca=function(h){h=h.target;const y=this.M;y&&Mn(h)==3?y.j():this.Y(h)},li.prototype.Y=function(h){try{if(h==this.g)t:{const Ie=Mn(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||gc(this.g)))){this.J||Ie!=4||y==7||(y==8||0>=zi?Sr(3):Sr(2)),Da(this);var _=this.g.Z();this.X=_;e:if(Cr(this)){var A=gc(this.g);h="";var G=A.length,X=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),vn(this);var ot="";break e}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(X&&y==G-1)});A.length=0,this.h.g+=h,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,cc(this.i,this.u,this.A,this.l,this.R,Ie,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,xe=this.g;if((Ut=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ut)){var jt=Ut;break e}}jt=null}if(_=jt)Ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,_);else{this.o=!1,this.s=3,pe(12),mn(this),vn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<ot.length;)if(ze=xr(this,ot),ze==Ns){Ie==4&&(this.s=4,pe(14),_=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==Rr){this.s=4,pe(15),Ar(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else Ar(this.i,this.l,ze,null),_n(this,ze);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||ot.length!=0||this.h.h||(this.s=1,pe(16),_=!1),this.o=this.o&&_,!_)Ar(this.i,this.l,ot,"[Invalid Chunked Response]"),mn(this),vn(this);else if(0<ot.length&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.ba&&!Le.M&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Hs(Le),Le.M=!0,pe(11))}}else Ar(this.i,this.l,ot,null),_n(this,ot);Ie==4&&mn(this),this.o&&!this.J&&(Ie==4?Ec(this.j,this):(this.o=!1,ie(this)))}else ld(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),mn(this),vn(this)}}}catch{}finally{}};function Cr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function xr(h,y){var _=h.C,A=y.indexOf(`
`,_);return A==-1?Ns:(_=Number(y.substring(_,A)),isNaN(_)?Rr:(A+=1,A+_>y.length?Ns:(y=y.slice(A,A+_),h.C=A+_,y)))}li.prototype.cancel=function(){this.J=!0,mn(this)};function ie(h){h.S=Date.now()+h.I,al(h,h.I)}function al(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=br(S(h.ba,h),y)}function Da(h){h.B&&(d.clearTimeout(h.B),h.B=null)}li.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(oi(this.i,this.A),this.L!=2&&(Sr(),pe(17)),mn(this),this.s=2,vn(this)):al(this,this.S-h)};function vn(h){h.j.G==0||h.J||Ec(h.j,h)}function mn(h){Da(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Xe(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function _n(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Ir(_.h,h))){if(!h.K&&Ir(_.h,h)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ba(_),Ua(_);else break t;yl(_),pe(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=br(S(_.Za,_),6e3));if(1>=hc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((h.K||_.g==h)&&Ba(_),!$(y))for(G=_.Da.g.parse(y),y=0;y<G.length;y++){let jt=G[y];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const Le=jt[3];Le!=null&&(_.la=Le,_.j.info("VER="+_.la));const Ie=jt[4];Ie!=null&&(_.Aa=Ie,_.j.info("SVER="+_.Aa));const zi=jt[5];zi!=null&&typeof zi=="number"&&0<zi&&(A=1.5*zi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ze=h.g;if(ze){const pi=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var X=A.h;X.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Dr(X,X.h),X.h=null))}if(A.D){const _l=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(A.ya=_l,Ht(A.I,A.D,_l))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ot=h;if(A.qa=bc(A,A.J?A.ia:null,A.W),ot.K){Vn(A.h,ot);var Ut=ot,xe=A.L;xe&&(Ut.I=xe),Ut.B&&(Da(Ut),ie(Ut)),A.g=ot}else _c(A);0<_.i.length&&ja(_)}else jt[0]!="stop"&&jt[0]!="close"||Bi(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Bi(_,7):pl(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}Sr(4)}catch{}}var id=class{constructor(h,y){this.g=h,this.map=y}};function ol(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ll(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function hc(h){return h.h?1:h.g?h.g.size:0}function Ir(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Dr(h,y){h.g?h.g.add(y):h.h=y}function Vn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ol.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ln(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return N(h.i)}function fc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],_=h.length,A=0;A<_;A++)y.push(h[A]);return y}y=[],_=0;for(A in h)y[_++]=h[A];return y}function rd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const A in h)y[_++]=A;return y}}}function Os(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=rd(h),A=fc(h),G=A.length,X=0;X<G;X++)y.call(void 0,A[X],_&&_[X],h)}var ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var A=h[_].indexOf("="),G=null;if(0<=A){var X=h[_].substring(0,A);G=h[_].substring(A+1)}else X=h[_];y(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Mi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Mi){this.h=h.h,Vr(this,h.j),this.o=h.o,this.g=h.g,Ms(this,h.s),this.l=h.l;var y=h.i,_=new ui;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Pa(this,_),this.m=h.m}else h&&(y=String(h).match(ul))?(this.h=!1,Vr(this,y[1]||"",!0),this.o=Pr(y[2]||""),this.g=Pr(y[3]||"",!0),Ms(this,y[4]),this.l=Pr(y[5]||"",!0),Pa(this,y[6]||"",!0),this.m=Pr(y[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}Mi.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Pn(y,cl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Pn(y,cl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Pn(_,_.charAt(0)=="/"?hl:dc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Pn(_,od)),h.join("")};function ce(h){return new Mi(h)}function Vr(h,y,_){h.j=_?Pr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ms(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Pa(h,y,_){y instanceof ui?(h.i=y,fl(h.i,h.h)):(_||(y=Pn(y,ad)),h.i=new ui(y,h.h))}function Ht(h,y,_){h.i.set(y,_)}function Ls(h){return Ht(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Pr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pn(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,sd),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function sd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var cl=/[#\/\?@]/g,dc=/[#\?:]/g,hl=/[#\?]/g,ad=/[#\?@]/g,od=/#/g;function ui(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&Va(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=ui.prototype,n.add=function(h,y){Nn(this),this.i=null,h=Ui(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Na(h,y){Nn(h),y=Ui(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Li(h,y){return Nn(h),y=Ui(h,y),h.g.has(y)}n.forEach=function(h,y){Nn(this),this.g.forEach(function(_,A){_.forEach(function(G){h.call(y,G,A,this)},this)},this)},n.na=function(){Nn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const G=h[A];for(let X=0;X<G.length;X++)_.push(y[A])}return _},n.V=function(h){Nn(this);let y=[];if(typeof h=="string")Li(this,h)&&(y=y.concat(this.g.get(Ui(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Nn(this),this.i=null,h=Ui(this,h),Li(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function ki(h,y,_){Na(h,y),0<_.length&&(h.i=null,h.g.set(Ui(h,y),N(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const X=encodeURIComponent(String(A)),ot=this.V(A);for(A=0;A<ot.length;A++){var G=X;ot[A]!==""&&(G+="="+encodeURIComponent(String(ot[A]))),h.push(G)}}return this.i=h.join("&")};function Ui(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function fl(h,y){y&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(_,A){var G=A.toLowerCase();A!=G&&(Na(this,A),ki(this,G,_))},h)),h.j=y}function mc(h,y){const _=new wr;if(d.Image){const A=new Image;A.onload=b(On,_,"TestLoadImage: loaded",!0,y,A),A.onerror=b(On,_,"TestLoadImage: error",!1,y,A),A.onabort=b(On,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=b(On,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ks(h,y){const _=new wr,A=new AbortController,G=setTimeout(()=>{A.abort(),On(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(G),X.ok?On(_,"TestPingServer: ok",!0,y):On(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),On(_,"TestPingServer: error",!1,y)})}function On(h,y,_,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(_)}catch{}}function Us(){this.g=new on}function ci(h,y,_){const A=_||"";try{Os(h,function(G,X){let ot=G;p(G)&&(ot=nl(G)),y.push(A+X+"="+encodeURIComponent(ot))})}catch(G){throw y.push(A+"type="+encodeURIComponent("_badmap")),G}}function Nr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Nr,il),Nr.prototype.g=function(){return new ji(this.l,this.j)},Nr.prototype.i=function(h){return function(){return h}}({});function ji(h,y){Re.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ji,Re),n=ji.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,fi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?hi(this):fi(this),this.readyState==3&&dl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,hi(this))},n.Qa=function(h){this.g&&(this.response=h,hi(this))},n.ga=function(){this.g&&hi(this)};function hi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ml(h){let y="";return ut(h,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Me(h,y,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ml(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Ht(h,y,_))}function Kt(h){Re.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Kt,Re);var Oa=/^https?$/i,js=["POST","PUT"];n=Kt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ps.g(),this.v=this.o?ac(this.o):ac(Ps),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){pc(this,X);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)_.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(js,y,void 0))||A||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of _)this.g.setRequestHeader(X,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){pc(this,X)}};function pc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ma(h),di(h)}function Ma(h){h.A||(h.A=!0,Ne(h,"complete"),Ne(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ne(this,"complete"),Ne(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},n.bb=function(){La(this)};function La(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)sc(h.Ea,0,h);else if(Ne(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const ot=h.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var A;if(A=ot===0){var G=String(h.D).match(ul)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),A=!Oa.test(G?G.toLowerCase():"")}_=A}if(_)Ne(h,"complete"),Ne(h,"success");else{h.m=6;try{var X=2<Mn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",Ma(h)}}finally{di(h)}}}}function di(h,y){if(h.g){Bs(h);const _=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ne(h,"ready");try{_.onreadystatechange=A}catch{}}}function Bs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),si(y)}};function gc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ld(h){const y={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if($(h[A]))continue;var _=k(h[A]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[G]||[];y[G]=X,X.push(_)}O(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function ka(h){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,h),this.cb=zs("retryDelaySeedMs",1e4,h),this.Wa=zs("forwardChannelMaxRetries",2,h),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ol(h&&h.concurrentRequestLimit),this.Da=new Us,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,A){pe(0),this.W=h,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=bc(this,null,this.W),ja(this)};function pl(h){if(yc(h),h.G==3){var y=h.U++,_=ce(h.I);if(Ht(_,"SID",h.K),Ht(_,"RID",y),Ht(_,"TYPE","terminate"),Fs(h,_),y=new li(h,h.j,y),y.L=2,y.v=Ls(ce(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=wc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ie(y)}Sc(h)}function Ua(h){h.g&&(Hs(h),h.g.cancel(),h.g=null)}function yc(h){Ua(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ba(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ja(h){if(!ll(h.h)&&!h.s){h.s=!0;var y=h.Ga;ft||M(),dt||(ft(),dt=!0),Vt.add(y,h),h.B=0}}function ud(h,y){return hc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=br(S(h.Ga,h,y),vl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new li(this,this.j,h);let X=this.o;if(this.S&&(X?(X=C(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=vc(this,G,y),_=ce(this.I),Ht(_,"RID",h),Ht(_,"CVER",22),this.D&&Ht(_,"X-HTTP-Session-Id",this.D),Fs(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(ml(X)))+"&"+y:this.m&&Me(_,this.m,X)),Dr(this.h,G),this.Ua&&Ht(_,"TYPE","init"),this.P?(Ht(_,"$req",y),Ht(_,"SID","null"),G.T=!0,Yn(G,_,null)):Yn(G,_,y),this.G=2}}else this.G==3&&(h?gl(this,h):this.i.length==0||ll(this.h)||gl(this))};function gl(h,y){var _;y?_=y.l:_=h.U++;const A=ce(h.I);Ht(A,"SID",h.K),Ht(A,"RID",_),Ht(A,"AID",h.T),Fs(h,A),h.m&&h.o&&Me(A,h.m,h.o),_=new li(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=vc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Dr(h.h,_),Yn(_,A,y)}function Fs(h,y){h.H&&ut(h.H,function(_,A){Ht(y,A,_)}),h.l&&Os({},function(_,A){Ht(y,A,_)})}function vc(h,y,_){_=Math.min(h.i.length,_);var A=h.l?S(h.l.Na,h.l,h):null;t:{var G=h.i;let X=-1;for(;;){const ot=["count="+_];X==-1?0<_?(X=G[0].g,ot.push("ofs="+X)):X=0:ot.push("ofs="+X);let Ut=!0;for(let xe=0;xe<_;xe++){let jt=G[xe].g;const Le=G[xe].map;if(jt-=X,0>jt)X=Math.max(0,G[xe].g-100),Ut=!1;else try{ci(Le,ot,"req"+jt+"_")}catch{A&&A(Le)}}if(Ut){A=ot.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,A}function _c(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ft||M(),dt||(ft(),dt=!0),Vt.add(y,h),h.v=0}}function yl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=br(S(h.Fa,h),vl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Tc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=br(S(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),Ua(this),Tc(this))};function Hs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Tc(h){h.g=new li(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ce(h.qa);Ht(y,"RID","rpc"),Ht(y,"SID",h.K),Ht(y,"AID",h.T),Ht(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ht(y,"TO",h.ja),Ht(y,"TYPE","xmlhttp"),Fs(h,y),h.m&&h.o&&Me(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ls(ce(y)),_.m=null,_.P=!0,Oi(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Ua(this),yl(this),pe(19))};function Ba(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ec(h,y){var _=null;if(h.g==y){Ba(h),Hs(h),h.g=null;var A=2}else if(Ir(h.h,y))_=y.D,Vn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var G=h.B;A=Ca(),Ne(A,new lc(A,_)),ja(h)}else _c(h);else if(G=y.s,G==3||G==0&&0<y.X||!(A==1&&ud(h,y)||A==2&&yl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),G){case 1:Bi(h,5);break;case 4:Bi(h,10);break;case 3:Bi(h,6);break;default:Bi(h,2)}}}function vl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Bi(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),A=h.Xa;const G=!A;A=new Mi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Vr(A,"https"),Ls(A),G?mc(A.toString(),_):ks(A.toString(),_)}else pe(2);h.G=0,h.l&&h.l.sa(y),Sc(h),yc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function Sc(h){if(h.G=0,h.ka=[],h.l){const y=ln(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function bc(h,y,_){var A=_ instanceof Mi?ce(_):new Mi(_);if(A.g!="")y&&(A.g=y+"."+A.g),Ms(A,A.s);else{var G=d.location;A=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var X=new Mi(null);A&&Vr(X,A),y&&(X.g=y),G&&Ms(X,G),_&&(X.l=_),A=X}return _=h.D,y=h.ya,_&&y&&Ht(A,_,y),Ht(A,"VER",h.la),Fs(h,A),A}function wc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Kt(new Nr({eb:_})):new Kt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ac(){}n=Ac.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function za(){}za.prototype.g=function(h,y){return new un(h,y)};function un(h,y){Re.call(this),this.g=new ka(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!$(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!$(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new mi(this)}x(un,Re),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){pl(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=nl(h),h=_);y.i.push(new id(y.Ya++,h)),y.G==3&&ja(y)},un.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,un.aa.N.call(this)};function Rc(h){Tr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}x(Rc,Tr);function Cc(){Qn.call(this),this.status=1}x(Cc,Qn);function mi(h){this.g=h}x(mi,Ac),mi.prototype.ua=function(){Ne(this.g,"a")},mi.prototype.ta=function(h){Ne(this.g,new Rc(h))},mi.prototype.sa=function(h){Ne(this.g,new Cc)},mi.prototype.ra=function(){Ne(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Ew=function(){return new za},Tw=function(){return Ca()},_w=Dn,zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,Fh=Ce,Ni.COMPLETE="complete",vw=Ni,oc.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Re.prototype.listen=Re.prototype.K,uu=oc,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,yw=Kt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const QT="@firebase/firestore",YT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Rg("@firebase/firestore");function po(){return va.logLevel}function mt(n,...t){if(va.logLevel<=Ot.DEBUG){const e=t.map(kg);va.debug(`Firestore (${Go}): ${n}`,...e)}}function fr(n,...t){if(va.logLevel<=Ot.ERROR){const e=t.map(kg);va.error(`Firestore (${Go}): ${n}`,...e)}}function Vo(n,...t){if(va.logLevel<=Ot.WARN){const e=t.map(kg);va.warn(`Firestore (${Go}): ${n}`,...e)}}function kg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n="Unexpected state"){const t=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+n;throw fr(t),new Error(t)}function $t(n,t){n||St()}function xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends gr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(en.UNAUTHENTICATED))}shutdown(){}}class hP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class fP{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0);let r=this.i;const a=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let l=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ms,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ms)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new Sw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new en(t)}}class dP{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class mP{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new dP(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pP{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ei(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0);const r=l=>{l.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new XT(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($t(typeof e.token=="string"),this.R=e.token,new XT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=gP(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<e&&(r+=t.charAt(a[l]%62))}return r}}function kt(n,t){return n<t?-1:n>t?1:0}function Po(n,t,e){return n.length===t.length&&n.every((r,a)=>e(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,ZT=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*ZT);return new Ae(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<WT)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZT}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-WT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Ae(0,0))}static max(){return new Rt(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__name__";class Ei{constructor(t,e,r){e===void 0?e=0:e>t.length&&St(),r===void 0?r=t.length-e:r>t.length-e&&St(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const l=Ei.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Math.sign(t.length-e.length)}static compareSegments(t,e){const r=Ei.isNumericId(t),a=Ei.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Ei.extractNumericId(t).compare(Ei.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ds.fromString(t.substring(4,t.length-2))}}class ne extends Ei{construct(t,e,r){return new ne(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(a=>a.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const yP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ei{construct(t,e,r){return new $e(t,e,r)}static isValidIdentifier(t){return yP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JT}static keyField(){return new $e([JT])}static fromServerFormat(t){const e=[];let r="",a=0;const l=()=>{if(r.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(e)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ne.fromString(t))}static fromName(t){return new _t(ne.fromString(t).popFirst(5))}static empty(){return new _t(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function vP(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Rt.fromTimestamp(r===1e9?new Ae(e+1,0):new Ae(e,r));return new ys(a,_t.empty(),t)}function _P(n){return new ys(n.readTime,n.key,Au)}class ys{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new ys(Rt.min(),_t.empty(),Au)}static max(){return new ys(Rt.max(),_t.empty(),Au)}}function TP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:kt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==EP)throw n;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,r)=>{e(t)})}static reject(t){return new et((e,r)=>{r(t)})}static waitFor(t){return new et((e,r)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&e()},m=>r(m))}),c=!0,l===a&&e()})}static or(t){let e=et.resolve(!1);for(const r of t)e=e.next(a=>a?et.resolve(a):r());return e}static forEach(t,e){const r=[];return t.forEach((a,l)=>{r.push(e.call(this,a,l))}),this.waitFor(r)}static mapArray(t,e){return new et((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next(v=>{c[p]=v,++d,d===l&&r(c)},v=>a(v))}})}static doWhile(t,e){return new et((r,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):r()};l()})}}function bP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function $o(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.oe(r),this._e=r=>e.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Mf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function Lf(n){return n==null}function of(n){return n===0&&1/n==-1/0}function wP(n){return typeof n=="number"&&Number.isInteger(n)&&!of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="";function AP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=tE(t)),t=RP(n.get(e),t);return tE(t)}function RP(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case ww:e+="";break;default:e+=l}}return e}function tE(n){return n+ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Rs(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Aw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,e){this.comparator=t,this.root=e||Ke.EMPTY}insert(t,e){return new le(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xh(this.root,t,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xh(this.root,t,this.comparator,!0)}}class xh{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,e,r,a,l){this.key=t,this.value=e,this.color=r??Ke.RED,this.left=a??Ke.EMPTY,this.right=l??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,l){return new Ke(t??this.key,e??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,r),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Ke.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const t=this.left.check();if(t!==this.right.check())throw St();return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(t,e,r,a,l){return this}insert(t,e,r){return new Ke(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(t){return new nE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pe(this.comparator);return e.data=t,e}}class nE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Rn([])}unionWith(t){let e=new Pe($e.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Rn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Po(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rw("Invalid base64 string: "+l):l}}(t);return new Ye(e)}static fromUint8Array(t){const e=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Ye(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const CP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if($t(!!n),typeof n=="string"){let t=0;const e=CP.exec(n);if($t(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _s(n){return typeof n=="string"?Ye.fromBase64String(n):Ye.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="server_timestamp",xw="__type__",Iw="__previous_value__",Dw="__local_write_time__";function jg(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[xw])===null||e===void 0?void 0:e.stringValue)===Cw}function kf(n){const t=n.mapValue.fields[Iw];return jg(t)?kf(t):t}function Ru(n){const t=vs(n.mapValue.fields[Dw].timestampValue);return new Ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t,e,r,a,l,c,d,m,p){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const lf="(default)";class Cu{constructor(t,e){this.projectId=t,this.database=e||lf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(t){return t instanceof Cu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__type__",IP="__max__",Ih={mapValue:{}},Pw="__vector__",uf="value";function Ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jg(n)?4:VP(n)?9007199254740991:DP(n)?10:11:St()}function xi(n,t){if(n===t)return!0;const e=Ts(n);if(e!==Ts(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ru(n).isEqual(Ru(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=vs(a.timestampValue),d=vs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,l){return _s(a.bytesValue).isEqual(_s(l.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,l){return ve(a.geoPointValue.latitude)===ve(l.geoPointValue.latitude)&&ve(a.geoPointValue.longitude)===ve(l.geoPointValue.longitude)}(n,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return ve(a.integerValue)===ve(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ve(a.doubleValue),d=ve(l.doubleValue);return c===d?of(c)===of(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Po(n.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(eE(c)!==eE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!xi(c[m],d[m])))return!1;return!0}(n,t);default:return St()}}function xu(n,t){return(n.values||[]).find(e=>xi(e,t))!==void 0}function No(n,t){if(n===t)return 0;const e=Ts(n),r=Ts(t);if(e!==r)return kt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,t.booleanValue);case 2:return function(l,c){const d=ve(l.integerValue||l.doubleValue),m=ve(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return iE(n.timestampValue,t.timestampValue);case 4:return iE(Ru(n),Ru(t));case 5:return kt(n.stringValue,t.stringValue);case 6:return function(l,c){const d=_s(l),m=_s(c);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=kt(d[p],m[p]);if(v!==0)return v}return kt(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,c){const d=kt(ve(l.latitude),ve(c.latitude));return d!==0?d:kt(ve(l.longitude),ve(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return rE(n.arrayValue,t.arrayValue);case 10:return function(l,c){var d,m,p,v;const T=l.fields||{},S=c.fields||{},b=(d=T[uf])===null||d===void 0?void 0:d.arrayValue,x=(m=S[uf])===null||m===void 0?void 0:m.arrayValue,N=kt(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:rE(b,x)}(n.mapValue,t.mapValue);case 11:return function(l,c){if(l===Ih.mapValue&&c===Ih.mapValue)return 0;if(l===Ih.mapValue)return 1;if(c===Ih.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const S=kt(m[T],v[T]);if(S!==0)return S;const b=No(d[m[T]],p[v[T]]);if(b!==0)return b}return kt(m.length,v.length)}(n.mapValue,t.mapValue);default:throw St()}}function iE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return kt(n,t);const e=vs(n),r=vs(t),a=kt(e.seconds,r.seconds);return a!==0?a:kt(e.nanos,r.nanos)}function rE(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const l=No(e[a],r[a]);if(l)return l}return kt(e.length,r.length)}function Oo(n){return Fp(n)}function Fp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=vs(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return _s(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return _t.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",a=!0;for(const l of e.values||[])a?a=!1:r+=",",r+=Fp(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Fp(e.fields[c])}`;return a+"}"}(n.mapValue):St()}function Hh(n){switch(Ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=kf(n);return t?16+Hh(t):16;case 5:return 2*n.stringValue.length;case 6:return _s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Hh(l),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Rs(r.fields,(l,c)=>{a+=l.length+Hh(c)}),a}(n.mapValue);default:throw St()}}function sE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Hp(n){return!!n&&"integerValue"in n}function Bg(n){return!!n&&"arrayValue"in n}function aE(n){return!!n&&"nullValue"in n}function oE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function DP(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Vw])===null||e===void 0?void 0:e.stringValue)===Pw}function pu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Rs(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=pu(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=pu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function VP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!qh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=pu(e)}setAll(t){let e=$e.emptyPath(),r={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,r,a),r={},a=[],e=d.popLast()}c?r[d.lastSegment()]=pu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,a)}delete(t){const e=this.field(t.popLast());qh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){Rs(e,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new yn(pu(this.value))}}function Nw(n){const t=[];return Rs(n.fields,(e,r)=>{const a=new $e([e]);if(qh(r)){const l=Nw(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,r,a,l,c,d){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,Rt.min(),Rt.min(),Rt.min(),yn.empty(),0)}static newFoundDocument(t,e,r,a){return new nn(t,1,e,Rt.min(),r,a,0)}static newNoDocument(t,e){return new nn(t,2,e,Rt.min(),Rt.min(),yn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,Rt.min(),Rt.min(),yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,e){this.position=t,this.inclusive=e}}function lE(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const l=t[a],c=n.position[a];if(l.field.isKeyField()?r=_t.comparator(_t.fromName(c.referenceValue),e.key):r=No(c,e.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function uE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!xi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,e="asc"){this.field=t,this.dir=e}}function PP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{}class we extends Ow{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new OP(t,e,r):e==="array-contains"?new kP(t,r):e==="in"?new UP(t,r):e==="not-in"?new jP(t,r):e==="array-contains-any"?new BP(t,r):new we(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new MP(t,r):new LP(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(No(e,this.value)):e!==null&&Ts(this.value)===Ts(e)&&this.matchesComparison(No(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Ow{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new ri(t,e)}matches(t){return Mw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Mw(n){return n.op==="and"}function Lw(n){return NP(n)&&Mw(n)}function NP(n){for(const t of n.filters)if(t instanceof ri)return!1;return!0}function qp(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+Oo(n.value);if(Lw(n))return n.filters.map(t=>qp(t)).join(",");{const t=n.filters.map(e=>qp(e)).join(",");return`${n.op}(${t})`}}function kw(n,t){return n instanceof we?function(r,a){return a instanceof we&&r.op===a.op&&r.field.isEqual(a.field)&&xi(r.value,a.value)}(n,t):n instanceof ri?function(r,a){return a instanceof ri&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&kw(c,a.filters[d]),!0):!1}(n,t):void St()}function Uw(n){return n instanceof we?function(e){return`${e.field.canonicalString()} ${e.op} ${Oo(e.value)}`}(n):n instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(Uw).join(" ,")+"}"}(n):"Filter"}class OP extends we{constructor(t,e,r){super(t,e,r),this.key=_t.fromName(r.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class MP extends we{constructor(t,e){super(t,"in",e),this.keys=jw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class LP extends we{constructor(t,e){super(t,"not-in",e),this.keys=jw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jw(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(r=>_t.fromName(r.referenceValue))}class kP extends we{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Bg(e)&&xu(e.arrayValue,this.value)}}class UP extends we{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&xu(this.value.arrayValue,e)}}class jP extends we{constructor(t,e){super(t,"not-in",e)}matches(t){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!xu(this.value.arrayValue,e)}}class BP extends we{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Bg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t,e=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function cE(n,t=null,e=[],r=[],a=null,l=null,c=null){return new zP(n,t,e,r,a,l,c)}function zg(n){const t=xt(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>qp(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Lf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Oo(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Oo(r)).join(",")),t.le=e}return t.le}function Fg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!PP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!kw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!uE(n.startAt,t.startAt)&&uE(n.endAt,t.endAt)}function Gp(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,e=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FP(n,t,e,r,a,l,c,d){return new Ku(n,t,e,r,a,l,c,d)}function Bw(n){return new Ku(n)}function hE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zw(n){return n.collectionGroup!==null}function gu(n){const t=xt(n);if(t.he===null){t.he=[];const e=new Set;for(const l of t.explicitOrderBy)t.he.push(l),e.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Pe($e.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.he.push(new hf(l,r))}),e.has($e.keyField().canonicalString())||t.he.push(new hf($e.keyField(),r))}return t.he}function wi(n){const t=xt(n);return t.Pe||(t.Pe=HP(t,gu(n))),t.Pe}function HP(n,t){if(n.limitType==="F")return cE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new hf(a.field,l)});const e=n.endAt?new cf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cf(n.startAt.position,n.startAt.inclusive):null;return cE(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Kp(n,t){const e=n.filters.concat([t]);return new Ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function $p(n,t,e){return new Ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Uf(n,t){return Fg(wi(n),wi(t))&&n.limitType===t.limitType}function Fw(n){return`${zg(wi(n))}|lt:${n.limitType}`}function go(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(a=>Uw(a)).join(", ")}]`),Lf(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Oo(a)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Oo(a)).join(",")),`Target(${r})`}(wi(n))}; limitType=${n.limitType})`}function jf(n,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_t.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,t)&&function(r,a){for(const l of gu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,t)&&function(r,a){return!(r.startAt&&!function(c,d,m){const p=lE(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,gu(r),a)||r.endAt&&!function(c,d,m){const p=lE(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,gu(r),a))}(n,t)}function qP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Hw(n){return(t,e)=>{let r=!1;for(const a of gu(n)){const l=GP(a,t,e);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function GP(n,t,e){const r=n.field.isKeyField()?_t.comparator(t.key,e.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?No(m,p):St()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Rs(this.inner,(e,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new le(_t.comparator);function dr(){return KP}const qw=new le(_t.comparator);function cu(...n){let t=qw;for(const e of n)t=t.insert(e.key,e);return t}function Gw(n){let t=qw;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function fa(){return yu()}function Kw(){return yu()}function yu(){return new Ea(n=>n.toString(),(n,t)=>n.isEqual(t))}const $P=new le(_t.comparator),QP=new Pe(_t.comparator);function Mt(...n){let t=QP;for(const e of n)t=t.add(e);return t}const YP=new Pe(kt);function XP(){return YP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(t)?"-0":t}}function $w(n){return{integerValue:""+n}}function WP(n,t){return wP(t)?$w(t):Hg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this._=void 0}}function ZP(n,t,e){return n instanceof ff?function(a,l){const c={fields:{[xw]:{stringValue:Cw},[Dw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&jg(l)&&(l=kf(l)),l&&(c.fields[Iw]=l),{mapValue:c}}(e,t):n instanceof Iu?Yw(n,t):n instanceof Du?Xw(n,t):function(a,l){const c=Qw(a,l),d=fE(c)+fE(a.Ie);return Hp(c)&&Hp(a.Ie)?$w(d):Hg(a.serializer,d)}(n,t)}function JP(n,t,e){return n instanceof Iu?Yw(n,t):n instanceof Du?Xw(n,t):e}function Qw(n,t){return n instanceof df?function(r){return Hp(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class ff extends Bf{}class Iu extends Bf{constructor(t){super(),this.elements=t}}function Yw(n,t){const e=Ww(t);for(const r of n.elements)e.some(a=>xi(a,r))||e.push(r);return{arrayValue:{values:e}}}class Du extends Bf{constructor(t){super(),this.elements=t}}function Xw(n,t){let e=Ww(t);for(const r of n.elements)e=e.filter(a=>!xi(a,r));return{arrayValue:{values:e}}}class df extends Bf{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function fE(n){return ve(n.integerValue||n.doubleValue)}function Ww(n){return Bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function tN(n,t){return n.field.isEqual(t.field)&&function(r,a){return r instanceof Iu&&a instanceof Iu||r instanceof Du&&a instanceof Du?Po(r.elements,a.elements,xi):r instanceof df&&a instanceof df?xi(r.Ie,a.Ie):r instanceof ff&&a instanceof ff}(n.transform,t.transform)}class eN{constructor(t,e){this.version=t,this.transformResults=e}}class ni{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zf{}function Zw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new qg(n.key,ni.none()):new $u(n.key,n.data,ni.none());{const e=n.data,r=yn.empty();let a=new Pe($e.comparator);for(let l of t.fields)if(!a.has(l)){let c=e.field(l);c===null&&l.length>1&&(l=l.popLast(),c=e.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Cs(n.key,r,new Rn(a.toArray()),ni.none())}}function nN(n,t,e){n instanceof $u?function(a,l,c){const d=a.value.clone(),m=mE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Cs?function(a,l,c){if(!Gh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=mE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Jw(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,t,e):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function vu(n,t,e,r){return n instanceof $u?function(l,c,d,m){if(!Gh(l.precondition,c))return d;const p=l.value.clone(),v=pE(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,t,e,r):n instanceof Cs?function(l,c,d,m){if(!Gh(l.precondition,c))return d;const p=pE(l.fieldTransforms,m,c),v=c.data;return v.setAll(Jw(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,t,e,r):function(l,c,d){return Gh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function iN(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),l=Qw(r.transform,a||null);l!=null&&(e===null&&(e=yn.empty()),e.set(r.field,l))}return e||null}function dE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Po(r,a,(l,c)=>tN(l,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class $u extends zf{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Cs extends zf{constructor(t,e,r,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function mE(n,t,e){const r=new Map;$t(n.length===e.length);for(let a=0;a<e.length;a++){const l=n[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,JP(c,d,e[a]))}return r}function pE(n,t,e){const r=new Map;for(const a of n){const l=a.transform,c=e.data.field(a.field);r.set(a.field,ZP(l,c,t))}return r}class qg extends zf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rN extends zf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&nN(l,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=vu(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=vu(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Kw();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=e.has(a.key)?null:d;const m=Zw(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Po(this.mutations,t.mutations,(e,r)=>dE(e,r))&&Po(this.baseMutations,t.baseMutations,(e,r)=>dE(e,r))}}class Gg{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){$t(t.mutations.length===r.length);let a=function(){return $P}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Gg(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,zt;function lN(n){switch(n){case it.OK:return St();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return St()}}function tA(n){if(n===void 0)return fr("GRPC error has no .code"),it.UNKNOWN;switch(n){case be.OK:return it.OK;case be.CANCELLED:return it.CANCELLED;case be.UNKNOWN:return it.UNKNOWN;case be.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case be.INTERNAL:return it.INTERNAL;case be.UNAVAILABLE:return it.UNAVAILABLE;case be.UNAUTHENTICATED:return it.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case be.NOT_FOUND:return it.NOT_FOUND;case be.ALREADY_EXISTS:return it.ALREADY_EXISTS;case be.PERMISSION_DENIED:return it.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case be.ABORTED:return it.ABORTED;case be.OUT_OF_RANGE:return it.OUT_OF_RANGE;case be.UNIMPLEMENTED:return it.UNIMPLEMENTED;case be.DATA_LOSS:return it.DATA_LOSS;default:return St()}}(zt=be||(be={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new ds([4294967295,4294967295],0);function gE(n){const t=uN().encode(n),e=new gw;return e.update(t),new Uint8Array(e.digest())}function yE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ds([e,r],0),new ds([a,l],0)]}class Kg{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new hu(`Invalid padding: ${e}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new hu(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=ds.fromNumber(this.Ee)}Ae(t,e,r){let a=t.add(e.multiply(ds.fromNumber(r)));return a.compare(cN)===1&&(a=new ds([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=gE(t),[r,a]=yE(e);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Kg(l,a,e);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.Ee===0)return;const e=gE(t),[r,a]=yE(e);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,e,r,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Ff(Rt.min(),a,new le(kt),dr(),Mt())}}class Qu{constructor(t,e,r,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Qu(r,e,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,e,r,a){this.me=t,this.removedTargetIds=e,this.key=r,this.fe=a}}class eA{constructor(t,e){this.targetId=t,this.ge=e}}class nA{constructor(t,e,r=Ye.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class vE{constructor(){this.pe=0,this.ye=_E(),this.we=Ye.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Mt(),e=Mt(),r=Mt();return this.ye.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:St()}}),new Qu(this.we,this.Se,t,e,r)}Me(){this.be=!1,this.ye=_E()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class hN{constructor(t){this.ke=t,this.qe=new Map,this.Qe=dr(),this.$e=Dh(),this.Ke=Dh(),this.Ue=new le(kt)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const r=this.He(e);switch(t.state){case 0:this.Je(e)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(e);break;case 3:this.Je(e)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),r.Ce(t.resumeToken));break;default:St()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((r,a)=>{this.Je(a)&&e(a)})}Ze(t){const e=t.targetId,r=t.ge.count,a=this.Xe(e);if(a){const l=a.target;if(Gp(l))if(r===0){const c=new _t(l.path);this.ze(e,c,nn.newNoDocument(c,Rt.min()))}else $t(r===1);else{const c=this.et(e);if(c!==r){const d=this.tt(t),m=d?this.nt(d,t,c):1;if(m!==0){this.Ye(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,p)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=e;let c,d;try{c=_s(r).toUint8Array()}catch(m){if(m instanceof Rw)return Vo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Kg(c,a,l)}catch(m){return Vo(m instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(t,e,r){return e.ge.count===r-this.st(t,e.targetId)?0:2}st(t,e){const r=this.ke.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.ze(e,l,null),a++)}),a}ot(t){const e=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Gp(d.target)){const m=new _t(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,nn.newNoDocument(m,t))}l.ve&&(e.set(c,l.Fe()),l.Me())}});let r=Mt();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(t));const a=new Ff(t,e,this.Ue,this.Qe,r);return this.Qe=dr(),this.$e=Dh(),this.Ke=Dh(),this.Ue=new le(kt),a}Ge(t,e){if(!this.Je(t))return;const r=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,r),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,r){if(!this.Je(t))return;const a=this.He(t);this.ut(t,e)?a.xe(e,1):a.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),r&&(this.Qe=this.Qe.insert(e,r))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new vE,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new Pe(kt),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Pe(kt),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new vE),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function Dh(){return new le(_t.comparator)}function _E(){return new le(_t.comparator)}const fN={asc:"ASCENDING",desc:"DESCENDING"},dN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mN={and:"AND",or:"OR"};class pN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Qp(n,t){return n.useProto3Json||Lf(t)?t:{value:t}}function mf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function gN(n,t){return mf(n,t.toTimestamp())}function Ai(n){return $t(!!n),Rt.fromTimestamp(function(e){const r=vs(e);return new Ae(r.seconds,r.nanos)}(n))}function $g(n,t){return Yp(n,t).canonicalString()}function Yp(n,t){const e=function(a){return new ne(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function rA(n){const t=ne.fromString(n);return $t(uA(t)),t}function Xp(n,t){return $g(n.databaseId,t.path)}function mp(n,t){const e=rA(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(aA(e))}function sA(n,t){return $g(n.databaseId,t)}function yN(n){const t=rA(n);return t.length===4?ne.emptyPath():aA(t)}function Wp(n){return new ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aA(n){return $t(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function TE(n,t,e){return{name:Xp(n,t),fields:e.value.mapValue.fields}}function vN(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:St()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?($t(v===void 0||typeof v=="string"),Ye.fromBase64String(v||"")):($t(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ye.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const v=p.code===void 0?it.UNKNOWN:tA(p.code);return new gt(v,p.message||"")}(c);e=new nA(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=mp(n,r.document.name),l=Ai(r.document.updateTime),c=r.document.createTime?Ai(r.document.createTime):Rt.min(),d=new yn({mapValue:{fields:r.document.fields}}),m=nn.newFoundDocument(a,l,c,d),p=r.targetIds||[],v=r.removedTargetIds||[];e=new Kh(p,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=mp(n,r.document),l=r.readTime?Ai(r.readTime):Rt.min(),c=nn.newNoDocument(a,l),d=r.removedTargetIds||[];e=new Kh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=mp(n,r.document),l=r.removedTargetIds||[];e=new Kh([],l,a,null)}else{if(!("filter"in t))return St();{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new oN(a,l),d=r.targetId;e=new eA(d,c)}}return e}function _N(n,t){let e;if(t instanceof $u)e={update:TE(n,t.key,t.value)};else if(t instanceof qg)e={delete:Xp(n,t.key)};else if(t instanceof Cs)e={update:TE(n,t.key,t.data),updateMask:xN(t.fieldMask)};else{if(!(t instanceof rN))return St();e={verify:Xp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof ff)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof df)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw St()}(0,r))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:gN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:St()}(n,t.precondition)),e}function TN(n,t){return n&&n.length>0?($t(t!==void 0),n.map(e=>function(a,l){let c=a.updateTime?Ai(a.updateTime):Ai(l);return c.isEqual(Rt.min())&&(c=Ai(l)),new eN(c,a.transformResults||[])}(e,t))):[]}function EN(n,t){return{documents:[sA(n,t.path)]}}function SN(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=sA(n,a);const l=function(p){if(p.length!==0)return lA(ri.create(p,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(S){return{field:yo(S.field),direction:AN(S.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Qp(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:e,parent:a}}function bN(n){let t=yN(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){$t(r===1);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let l=[];e.where&&(l=function(T){const S=oA(T);return S instanceof ri&&Lw(S)?S.getFilters():[S]}(e.where));let c=[];e.orderBy&&(c=function(T){return T.map(S=>function(x){return new hf(vo(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(S))}(e.orderBy));let d=null;e.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Lf(S)?null:S}(e.limit));let m=null;e.startAt&&(m=function(T){const S=!!T.before,b=T.values||[];return new cf(b,S)}(e.startAt));let p=null;return e.endAt&&(p=function(T){const S=!T.before,b=T.values||[];return new cf(b,S)}(e.endAt)),FP(t,a,c,l,d,"F",m,p)}function wN(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function oA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=vo(e.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=vo(e.unaryFilter.field);return we.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(e.unaryFilter.field);return we.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(e.unaryFilter.field);return we.create(c,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(n):n.fieldFilter!==void 0?function(e){return we.create(vo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ri.create(e.compositeFilter.filters.map(r=>oA(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return St()}}(e.compositeFilter.op))}(n):St()}function AN(n){return fN[n]}function RN(n){return dN[n]}function CN(n){return mN[n]}function yo(n){return{fieldPath:n.canonicalString()}}function vo(n){return $e.fromServerFormat(n.fieldPath)}function lA(n){return n instanceof we?function(e){if(e.op==="=="){if(oE(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NAN"}};if(aE(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(oE(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NOT_NAN"}};if(aE(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(e.field),op:RN(e.op),value:e.value}}}(n):n instanceof ri?function(e){const r=e.getFilters().map(a=>lA(a));return r.length===1?r[0]:{compositeFilter:{op:CN(e.op),filters:r}}}(n):St()}function xN(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function uA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,e,r,a,l=Rt.min(),c=Rt.min(),d=Ye.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new os(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.Tt=t}}function DN(n){const t=bN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$p(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Tn=new PN}addToCollectionParentIndex(t,e){return this.Tn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(ys.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(ys.min())}updateCollectionGroup(t,e,r){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class PN{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new Pe(ne.comparator),l=!a.has(r);return this.index[e]=a.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Pe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(cA,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Mo(0)}static Un(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="LruGarbageCollector",NN=1048576;function bE([n,t],[e,r]){const a=kt(n,e);return a===0?kt(t,r):a}class ON{constructor(t){this.Hn=t,this.buffer=new Pe(bE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();bE(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class MN{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){mt(SE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){$o(e)?mt(SE,"Ignoring IndexedDB error during garbage collection: ",e):await Ko(e)}await this.er(3e5)})}}class LN{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return et.resolve(Mf.ae);const r=new ON(e);return this.tr.forEachTarget(t,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.tr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(EE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let r,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(r=T,d=Date.now(),this.removeTargets(t,r,e))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(p=Date.now(),po()<=Ot.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function kN(n,t){return new LN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.changes=new Ea(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?et.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(r!==null&&vu(r.mutation,a,Rn.empty(),Ae.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Mt()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Mt()){const a=fa();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,r).next(l=>{let c=cu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=fa();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Mt()))}populateOverlays(t,e,r){const a=[];return r.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,r,a){let l=dr();const c=yu(),d=function(){return yu()}();return e.forEach((m,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Cs)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),vu(v.mutation,p,v.mutation.getFieldMask(),Ae.now())):c.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),e.forEach((p,v)=>{var T;return d.set(p,new jN(v,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(t,e){const r=yu();let a=new le((c,d)=>c-d),l=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=e.get(m);if(p===null)return;let v=r.get(m)||Rn.empty();v=d.applyToLocalView(p,v),r.set(m,v);const T=(a.get(d.batchId)||Mt()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,T=Kw();v.forEach(S=>{if(!l.has(S)){const b=Zw(e.get(S),r.get(S));b!==null&&T.set(S,b),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return et.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,a){return function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):zw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-l.size):et.resolve(fa());let d=Au,m=l;return c.next(p=>et.forEach(p,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?et.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{m=m.insert(v,S)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Mt())).next(v=>({batchId:d,changes:Gw(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next(r=>{let a=cu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const l=e.collectionGroup;let c=cu();return this.indexManager.getCollectionParents(t,l).next(d=>et.forEach(d,m=>{const p=function(T,S){return new Ku(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(v=>{v.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))});let d=cu();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&vu(v.mutation,p,Rn.empty(),Ae.now()),jf(e,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return et.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Ai(a.createTime)}}(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(a){return{name:a.name,query:DN(a.bundledQuery),readTime:Ai(a.readTime)}}(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.overlays=new le(_t.comparator),this.Rr=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const r=fa();return et.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((a,l)=>{this.Et(t,e,l)}),et.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),et.resolve()}getOverlaysForCollection(t,e,r){const a=fa(),l=e.length+1,c=new _t(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let l=new le((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=fa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=fa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return et.resolve(d)}Et(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new aN(e,r));let l=this.Rr.get(e);l===void 0&&(l=Mt(),this.Rr.set(e,l)),this.Rr.set(e,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Vr=new Pe(Be.mr),this.gr=new Pe(Be.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const r=new Be(t,e);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.wr(new Be(t,e))}Sr(t,e){t.forEach(r=>this.removeReference(r,e))}br(t){const e=new _t(new ne([])),r=new Be(e,t),a=new Be(e,t+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new _t(new ne([])),r=new Be(e,t),a=new Be(e,t+1);let l=Mt();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const e=new Be(t,0),r=this.Vr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Be{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return _t.comparator(t.key,e.key)||kt(t.Cr,e.Cr)}static pr(t,e){return kt(t.Cr,e.Cr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Pe(Be.mr)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sN(l,e,r,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Be(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return et.resolve(c)}lookupMutationBatch(t,e){return et.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.Nr(r),l=a<0?0:a;return et.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Ug:this.Fr-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Be(e,0),a=new Be(e,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const d=this.Or(c.Cr);l.push(d)}),et.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Pe(kt);return e.forEach(a=>{const l=new Be(a,0),c=new Be(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{r=r.add(d.Cr)})}),et.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let l=r;_t.isDocumentKey(l)||(l=l.child(""));const c=new Be(new _t(l),0);let d=new Pe(kt);return this.Mr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Cr)),!0)},c),et.resolve(this.Br(d))}Br(t){const e=[];return t.forEach(r=>{const a=this.Or(r);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){$t(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return et.forEach(e.mutations,a=>{const l=new Be(a.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,e){const r=new Be(e,0),a=this.Mr.firstAfterOrEqual(r);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.kr=t,this.docs=function(){return new le(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return et.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let r=dr();return e.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():nn.newInvalidDocument(a))}),et.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let l=dr();const c=e.path,d=new _t(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||TP(_P(v),r)<=0||(a.has(v.key)||jf(e,v))&&(l=l.insert(v.key,v.mutableCopy()))}return et.resolve(l)}getAllFromCollectionGroup(t,e,r,a){St()}qr(t,e){return et.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new KN(this)}getSize(t){return et.resolve(this.size)}}class KN extends UN{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?e.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(r)}),et.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t){this.persistence=t,this.Qr=new Ea(e=>zg(e),Fg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Qg,this.targetCount=0,this.Ur=Mo.Kn()}forEachTarget(t,e){return this.Qr.forEach((r,a)=>e(a)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$r&&(this.$r=e),et.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new Mo(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.zn(e),et.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.br(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,r){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=e&&r.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),et.waitFor(l).next(()=>a)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const r=this.Qr.get(e)||null;return et.resolve(r)}addMatchingKeys(t,e,r){return this.Kr.yr(e,r),et.resolve()}removeMatchingKeys(t,e,r){this.Kr.Sr(e,r);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),et.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Kr.br(e),et.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Kr.vr(e);return et.resolve(r)}containsKey(t,e){return et.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new Mf(0),this.zr=!1,this.zr=!0,this.jr=new HN,this.referenceDelegate=t(this),this.Hr=new $N(this),this.indexManager=new VN,this.remoteDocumentCache=function(a){return new GN(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new IN(e),this.Yr=new zN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new FN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Wr[t.toKey()];return r||(r=new qN(e,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,r){mt("MemoryPersistence","Starting transaction:",t);const a=new QN(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(t,e){return et.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,e)))}}class QN extends SP{constructor(t){super(),this.currentSequenceNumber=t}}class Yg{constructor(t){this.persistence=t,this.ti=new Qg,this.ni=null}static ri(t){return new Yg(t)}get ii(){if(this.ni)return this.ni;throw St()}addReference(t,e,r){return this.ti.addReference(r,e),this.ii.delete(r.toString()),et.resolve()}removeReference(t,e,r){return this.ti.removeReference(r,e),this.ii.add(r.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),et.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.ii,r=>{const a=_t.fromPath(r);return this.si(t,a).next(l=>{l||e.removeEntry(a,Rt.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(r=>{r?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return et.or([()=>et.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class pf{constructor(t,e){this.persistence=t,this.oi=new Ea(r=>AP(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=kN(this,e)}static ri(t,e){return new pf(t,e)}Zr(){}Xr(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(a=>r+a))}sr(t){let e=0;return this.rr(t,r=>{e++}).next(()=>e)}rr(t,e){return et.forEach(this.oi,(r,a)=>this.ar(t,r,a).next(l=>l?et.resolve():e(a)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,e).next(d=>{d||(r++,l.removeEntry(c,Rt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.oi.set(r,t.currentSequenceNumber),et.resolve()}removeReference(t,e,r){return this.oi.set(r,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),et.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Hh(t.data.value)),e}ar(t,e,r){return et.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.oi.get(e);return et.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Hi=r,this.Ji=a}static Yi(t,e){let r=Mt(),a=Mt();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xg(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qI()?8:bP(sn())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,r,a){const l={result:null};return this.rs(t,e).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(t,e,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new YN;return this._s(t,e,c).next(d=>{if(l.result=d,this.Xi)return this.us(t,e,c,d.size)})}).next(()=>l.result)}us(t,e,r,a){return r.documentReadCount<this.es?(po()<=Ot.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",go(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),et.resolve()):(po()<=Ot.DEBUG&&mt("QueryEngine","Query:",go(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(po()<=Ot.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",go(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(e))):et.resolve())}rs(t,e){if(hE(e))return et.resolve(null);let r=wi(e);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=$p(e,null,"F"),r=wi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Mt(...l);return this.ns.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.cs(e,d);return this.ls(e,p,c,m.readTime)?this.rs(t,$p(e,null,"F")):this.hs(t,p,e,m)}))})))}ss(t,e,r,a){return hE(e)||a.isEqual(Rt.min())?et.resolve(null):this.ns.getDocuments(t,r).next(l=>{const c=this.cs(e,l);return this.ls(e,c,r,a)?et.resolve(null):(po()<=Ot.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),go(e)),this.hs(t,c,e,vP(a,Au)).next(d=>d))})}cs(t,e){let r=new Pe(Hw(t));return e.forEach((a,l)=>{jf(t,l)&&(r=r.add(l))}),r}ls(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(t,e,r){return po()<=Ot.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",go(e)),this.ns.getDocumentsMatchingQuery(t,e,ys.min(),r)}hs(t,e,r,a){return this.ns.getDocumentsMatchingQuery(t,r,a).next(l=>(e.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="LocalStore",WN=3e8;class ZN{constructor(t,e,r,a){this.persistence=t,this.Ps=e,this.serializer=a,this.Ts=new le(kt),this.Is=new Ea(l=>zg(l),Fg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function JN(n,t,e,r){return new ZN(n,t,e,r)}async function fA(n,t){const e=xt(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,e.As(t),e.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Mt();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(r,m).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function tO(n,t){const e=xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=e.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const T=p.batch,S=T.keys();let b=et.resolve();return S.forEach(x=>{b=b.next(()=>v.getEntry(m,x)).next(N=>{const P=p.docVersions.get(x);$t(P!==null),N.version.compareTo(P)<0&&(T.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),v.addEntry(N)))})}),b.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Mt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>e.localDocuments.getDocuments(r,a))})}function dA(n){const t=xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function eO(n,t){const e=xt(n),r=t.snapshotVersion;let a=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=e.ds.newChangeBuffer({trackRemovals:!0});a=e.Ts;const d=[];t.targetChanges.forEach((v,T)=>{const S=a.get(T);if(!S)return;d.push(e.Hr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>e.Hr.addMatchingKeys(l,v.addedDocuments,T)));let b=S.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?b=b.withResumeToken(Ye.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),a=a.insert(T,b),function(N,P,U){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=WN?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(S,b,v)&&d.push(e.Hr.updateTargetData(l,b))});let m=dr(),p=Mt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(nO(l,c,t.documentUpdates).next(v=>{m=v.Vs,p=v.fs})),!r.isEqual(Rt.min())){const v=e.Hr.getLastRemoteSnapshotVersion(l).next(T=>e.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(v)}return et.waitFor(d).next(()=>c.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(e.Ts=a,l))}function nO(n,t,e){let r=Mt(),a=Mt();return e.forEach(l=>r=r.add(l)),t.getEntries(n,r).next(l=>{let c=dr();return e.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):mt(Wg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function iO(n,t){const e=xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Ug),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function rO(n,t){const e=xt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return e.Hr.getTargetData(r,t).next(l=>l?(a=l,et.resolve(a)):e.Hr.allocateTargetId(r).next(c=>(a=new os(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=e.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(t,r.targetId)),r})}async function Zp(n,t,e){const r=xt(n),a=r.Ts.get(t),l=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!$o(c))throw c;mt(Wg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ts=r.Ts.remove(t),r.Is.delete(a.target)}function wE(n,t,e){const r=xt(n);let a=Rt.min(),l=Mt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const T=xt(m),S=T.Is.get(v);return S!==void 0?et.resolve(T.Ts.get(S)):T.Hr.getTargetData(p,v)}(r,c,wi(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,t,e?a:Rt.min(),e?l:Mt())).next(d=>(sO(r,qP(t),d),{documents:d,gs:l})))}function sO(n,t,e){let r=n.Es.get(t)||Rt.min();e.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Es.set(t,r)}class AE{constructor(){this.activeTargetIds=XP()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aO{constructor(){this.ho=new AE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,r){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new AE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="ConnectivityMonitor";class CE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mt(RE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){mt(RE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function Jp(){return Vh===null?Vh=function(){return 268435456+Math.round(2147483648*Math.random())}():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="RestConnection",lO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uO{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===lf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(t,e,r,a,l){const c=Jp(),d=this.bo(t,e.toUriEncodedString());mt(pp,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(t,d,m,r).then(p=>(mt(pp,`Received RPC '${t}' ${c}: `,p),p),p=>{throw Vo(pp,`RPC '${t}' ${c} failed with error: `,p,"url: ",d,"request:",r),p})}Co(t,e,r,a,l,c){return this.So(t,e,r,a,l)}Do(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}bo(t,e){const r=lO[t];return`${this.po}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class hO extends uO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,r,a){const l=Jp();return new Promise((c,d)=>{const m=new yw;m.setWithCredentials(!0),m.listenOnce(vw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Fh.NO_ERROR:const v=m.getResponseJson();mt(Je,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(v)),c(v);break;case Fh.TIMEOUT:mt(Je,`RPC '${t}' ${l} timed out`),d(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const T=m.getStatus();if(mt(Je,`RPC '${t}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S==null?void 0:S.error;if(b&&b.status&&b.message){const x=function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(U)>=0?U:it.UNKNOWN}(b.status);d(new gt(x,b.message))}else d(new gt(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new gt(it.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{mt(Je,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(a);mt(Je,`RPC '${t}' ${l} sending request:`,a),m.send(e,"POST",p,r,15)})}Wo(t,e,r){const a=Jp(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Ew(),d=Tw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const v=l.join("");mt(Je,`Creating RPC '${t}' stream ${a}: ${v}`,m);const T=c.createWebChannel(v,m);let S=!1,b=!1;const x=new cO({Fo:P=>{b?mt(Je,`Not sending because RPC '${t}' stream ${a} is closed:`,P):(S||(mt(Je,`Opening RPC '${t}' stream ${a} transport.`),T.open(),S=!0),mt(Je,`RPC '${t}' stream ${a} sending:`,P),T.send(P))},Mo:()=>T.close()}),N=(P,U,$)=>{P.listen(U,q=>{try{$(q)}catch(nt){setTimeout(()=>{throw nt},0)}})};return N(T,uu.EventType.OPEN,()=>{b||(mt(Je,`RPC '${t}' stream ${a} transport opened.`),x.Qo())}),N(T,uu.EventType.CLOSE,()=>{b||(b=!0,mt(Je,`RPC '${t}' stream ${a} transport closed`),x.Ko())}),N(T,uu.EventType.ERROR,P=>{b||(b=!0,Vo(Je,`RPC '${t}' stream ${a} transport errored:`,P),x.Ko(new gt(it.UNAVAILABLE,"The operation could not be completed")))}),N(T,uu.EventType.MESSAGE,P=>{var U;if(!b){const $=P.data[0];$t(!!$);const q=$,nt=(q==null?void 0:q.error)||((U=q[0])===null||U===void 0?void 0:U.error);if(nt){mt(Je,`RPC '${t}' stream ${a} received error:`,nt);const Z=nt.status;let ut=function(R){const I=be[R];if(I!==void 0)return tA(I)}(Z),O=nt.message;ut===void 0&&(ut=it.INTERNAL,O="Unknown error status: "+Z+" with message "+nt.message),b=!0,x.Ko(new gt(ut,O)),T.close()}else mt(Je,`RPC '${t}' stream ${a} received:`,$),x.Uo($)}}),N(d,_w.STAT_EVENT,P=>{P.stat===zp.PROXY?mt(Je,`RPC '${t}' stream ${a} detected buffering proxy`):P.stat===zp.NOPROXY&&mt(Je,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){return new pN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,e,r=1e3,a=1.5,l=6e4){this.Ti=t,this.timerId=e,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,e-r);a>0&&mt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="PersistentStream";class pA{constructor(t,e,r,a,l,c,d,m){this.Ti=t,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mA(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(fr(e.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===e&&this.V_(r,a)},r=>{t(()=>{const a=new gt(it.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(t,e){const r=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return mt(xE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(mt(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fO extends pA{constructor(t,e,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=vN(this.serializer,t),r=function(l){if(!("targetChange"in l))return Rt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Ai(c.readTime):Rt.min()}(t);return this.listener.p_(e,r)}y_(t){const e={};e.database=Wp(this.serializer),e.addTarget=function(l,c){let d;const m=c.target;if(d=Gp(m)?{documents:EN(l,m)}:{query:SN(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iA(l,c.resumeToken);const p=Qp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=mf(l,c.snapshotVersion.toTimestamp());const p=Qp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const r=wN(this.serializer,t);r&&(e.labels=r),this.I_(e)}w_(t){const e={};e.database=Wp(this.serializer),e.removeTarget=t,this.I_(e)}}class dO extends pA{constructor(t,e,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=TN(t.writeResults,t.commitTime),r=Ai(t.commitTime);return this.listener.v_(r,e)}C_(){const t={};t.database=Wp(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>_N(this.serializer,r))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{}class pO extends mO{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(t,Yp(e,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(it.UNKNOWN,l.toString())})}Co(t,e,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,Yp(e,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(it.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(fr(e),this.N_=!1):mt("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class yO{constructor(t,e,r,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{Sa(this)&&(mt(_a,"Restarting streams for network reachability change."),await async function(m){const p=xt(m);p.W_.add(4),await Yu(p),p.j_.set("Unknown"),p.W_.delete(4),await qf(p)}(this))})}),this.j_=new gO(r,a)}}async function qf(n){if(Sa(n))for(const t of n.G_)await t(!0)}async function Yu(n){for(const t of n.G_)await t(!1)}function gA(n,t){const e=xt(n);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),ey(e)?ty(e):Qo(e).c_()&&Jg(e,t))}function Zg(n,t){const e=xt(n),r=Qo(e);e.U_.delete(t),r.c_()&&yA(e,t),e.U_.size===0&&(r.c_()?r.P_():Sa(e)&&e.j_.set("Unknown"))}function Jg(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Qo(n).y_(t)}function yA(n,t){n.H_.Ne(t),Qo(n).w_(t)}function ty(n){n.H_=new hN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.U_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Qo(n).start(),n.j_.B_()}function ey(n){return Sa(n)&&!Qo(n).u_()&&n.U_.size>0}function Sa(n){return xt(n).W_.size===0}function vA(n){n.H_=void 0}async function vO(n){n.j_.set("Online")}async function _O(n){n.U_.forEach((t,e)=>{Jg(n,t)})}async function TO(n,t){vA(n),ey(n)?(n.j_.q_(t),ty(n)):n.j_.set("Unknown")}async function EO(n,t,e){if(n.j_.set("Online"),t instanceof nA&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(n,t)}catch(r){mt(_a,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await gf(n,r)}else if(t instanceof Kh?n.H_.We(t):t instanceof eA?n.H_.Ze(t):n.H_.je(t),!e.isEqual(Rt.min()))try{const r=await dA(n.localStore);e.compareTo(r)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.U_.get(p);v&&l.U_.set(p,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const v=l.U_.get(m);if(!v)return;l.U_.set(m,v.withResumeToken(Ye.EMPTY_BYTE_STRING,v.snapshotVersion)),yA(l,m);const T=new os(v.target,m,p,v.sequenceNumber);Jg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(r){mt(_a,"Failed to raise snapshot:",r),await gf(n,r)}}async function gf(n,t,e){if(!$o(t))throw t;n.W_.add(1),await Yu(n),n.j_.set("Offline"),e||(e=()=>dA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{mt(_a,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await qf(n)})}function _A(n,t){return t().catch(e=>gf(n,e,t))}async function Gf(n){const t=xt(n),e=Es(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Ug;for(;SO(t);)try{const a=await iO(t.localStore,r);if(a===null){t.K_.length===0&&e.P_();break}r=a.batchId,bO(t,a)}catch(a){await gf(t,a)}TA(t)&&EA(t)}function SO(n){return Sa(n)&&n.K_.length<10}function bO(n,t){n.K_.push(t);const e=Es(n);e.c_()&&e.S_&&e.b_(t.mutations)}function TA(n){return Sa(n)&&!Es(n).u_()&&n.K_.length>0}function EA(n){Es(n).start()}async function wO(n){Es(n).C_()}async function AO(n){const t=Es(n);for(const e of n.K_)t.b_(e.mutations)}async function RO(n,t,e){const r=n.K_.shift(),a=Gg.from(r,t,e);await _A(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Gf(n)}async function CO(n,t){t&&Es(n).S_&&await async function(r,a){if(function(c){return lN(c)&&c!==it.ABORTED}(a.code)){const l=r.K_.shift();Es(r).h_(),await _A(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Gf(r)}}(n,t),TA(n)&&EA(n)}async function IE(n,t){const e=xt(n);e.asyncQueue.verifyOperationInProgress(),mt(_a,"RemoteStore received new credentials");const r=Sa(e);e.W_.add(3),await Yu(e),r&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await qf(e)}async function xO(n,t){const e=xt(n);t?(e.W_.delete(2),await qf(e)):t||(e.W_.add(2),await Yu(e),e.j_.set("Unknown"))}function Qo(n){return n.J_||(n.J_=function(e,r,a){const l=xt(e);return l.M_(),new fO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:vO.bind(null,n),No:_O.bind(null,n),Lo:TO.bind(null,n),p_:EO.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),ey(n)?ty(n):n.j_.set("Unknown")):(await n.J_.stop(),vA(n))})),n.J_}function Es(n){return n.Y_||(n.Y_=function(e,r,a){const l=xt(e);return l.M_(),new dO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:wO.bind(null,n),Lo:CO.bind(null,n),D_:AO.bind(null,n),v_:RO.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await Gf(n)):(await n.Y_.stop(),n.K_.length>0&&(mt(_a,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,e,r,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,l){const c=Date.now()+r,d=new ny(t,e,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(n,t){if(fr("AsyncQueue",`${t}: ${n}`),$o(n))return new gt(it.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(t){return new Io(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||_t.comparator(e.key,r.key):(e,r)=>_t.comparator(e.key,r.key),this.keyedMap=cu(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Io)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Io;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.Z_=new le(_t.comparator)}track(t){const e=t.doc.key,r=this.Z_.get(e);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(e):t.type===1&&r.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):St():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,r)=>{t.push(r)}),t}}class Lo{constructor(t,e,r,a,l,c,d,m,p){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,r,a,l){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Lo(t,e,Io.emptySet(e),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class DO{constructor(){this.queries=VE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,r){const a=xt(e),l=a.queries;a.queries=VE(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(r)})})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function VE(){return new Ea(n=>Fw(n),Uf)}async function VO(n,t){const e=xt(n);let r=3;const a=t.query;let l=e.queries.get(a);l?!l.na()&&t.ra()&&(r=2):(l=new IO,r=t.ra()?0:1);try{switch(r){case 0:l.ea=await e.onListen(a,!0);break;case 1:l.ea=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=iy(c,`Initialization of query '${go(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,l),l.ta.push(t),t.sa(e.onlineState),l.ea&&t.oa(l.ea)&&ry(e)}async function PO(n,t){const e=xt(n),r=t.query;let a=3;const l=e.queries.get(r);if(l){const c=l.ta.indexOf(t);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=t.ra()?0:1:!l.na()&&t.ra()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function NO(n,t){const e=xt(n);let r=!1;for(const a of t){const l=a.query,c=e.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(r=!0);c.ea=a}}r&&ry(e)}function OO(n,t,e){const r=xt(n),a=r.queries.get(t);if(a)for(const l of a.ta)l.onError(e);r.queries.delete(t)}function ry(n){n.ia.forEach(t=>{t.next()})}var tg,PE;(PE=tg||(tg={}))._a="default",PE.Cache="cache";class MO{constructor(t,e,r){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Lo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const r=e!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.key=t}}class bA{constructor(t){this.key=t}}class LO{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=Hw(t),this.wa=new Io(this.ya)}get Sa(){return this.fa}ba(t,e){const r=e?e.Da:new DE,a=e?e.wa:this.wa;let l=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,T)=>{const S=a.get(v),b=jf(this.query,T)?T:null,x=!!S&&this.mutatedKeys.has(S.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;S&&b?S.data.isEqual(b.data)?x!==N&&(r.track({type:3,doc:b}),P=!0):this.va(S,b)||(r.track({type:2,doc:b}),P=!0,(m&&this.ya(b,m)>0||p&&this.ya(b,p)<0)&&(d=!0)):!S&&b?(r.track({type:0,doc:b}),P=!0):S&&!b&&(r.track({type:1,doc:S}),P=!0,(m||p)&&(d=!0)),P&&(b?(c=c.add(b),l=N?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{wa:c,Da:r,ls:d,mutatedKeys:l}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((v,T)=>function(b,x){const N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return N(b)-N(x)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(r),a=a!=null&&a;const d=e&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,p=m!==this.ga;return this.ga=m,c.length!==0||p?{snapshot:new Lo(this.query,t.wa,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new DE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const e=[];return t.forEach(r=>{this.pa.has(r)||e.push(new bA(r))}),this.pa.forEach(r=>{t.has(r)||e.push(new SA(r))}),e}Oa(t){this.fa=t.gs,this.pa=Mt();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return Lo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sy="SyncEngine";class kO{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class UO{constructor(t){this.key=t,this.Ba=!1}}class jO{constructor(t,e,r,a,l,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ea(d=>Fw(d),Uf),this.qa=new Map,this.Qa=new Set,this.$a=new le(_t.comparator),this.Ka=new Map,this.Ua=new Qg,this.Wa={},this.Ga=new Map,this.za=Mo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function BO(n,t,e=!0){const r=IA(n);let a;const l=r.ka.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await wA(r,t,e,!0),a}async function zO(n,t){const e=IA(n);await wA(e,t,!0,!1)}async function wA(n,t,e,r){const a=await rO(n.localStore,wi(t)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,e);let d;return r&&(d=await FO(n,t,l,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&gA(n.remoteStore,a),d}async function FO(n,t,e,r,a){n.Ha=(T,S,b)=>async function(N,P,U,$){let q=P.view.ba(U);q.ls&&(q=await wE(N.localStore,P.query,!1).then(({documents:O})=>P.view.ba(O,q)));const nt=$&&$.targetChanges.get(P.targetId),Z=$&&$.targetMismatches.get(P.targetId)!=null,ut=P.view.applyChanges(q,N.isPrimaryClient,nt,Z);return OE(N,P.targetId,ut.Ma),ut.snapshot}(n,T,S,b);const l=await wE(n.localStore,t,!0),c=new LO(t,l.gs),d=c.ba(l.documents),m=Qu.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);OE(n,e,p.Ma);const v=new kO(t,e,c);return n.ka.set(t,v),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),p.snapshot}async function HO(n,t,e){const r=xt(n),a=r.ka.get(t),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!Uf(c,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Zp(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),e&&Zg(r.remoteStore,a.targetId),eg(r,a.targetId)}).catch(Ko)):(eg(r,a.targetId),await Zp(r.localStore,a.targetId,!0))}async function qO(n,t){const e=xt(n),r=e.ka.get(t),a=e.qa.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(e.remoteStore,r.targetId))}async function GO(n,t,e){const r=ZO(n);try{const a=await function(c,d){const m=xt(c),p=Ae.now(),v=d.reduce((b,x)=>b.add(x.key),Mt());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=dr(),N=Mt();return m.ds.getEntries(b,v).next(P=>{x=P,x.forEach((U,$)=>{$.isValidDocument()||(N=N.add(U))})}).next(()=>m.localDocuments.getOverlayedDocuments(b,x)).next(P=>{T=P;const U=[];for(const $ of d){const q=iN($,T.get($.key).overlayedDocument);q!=null&&U.push(new Cs($.key,q,Nw(q.value.mapValue),ni.exists(!0)))}return m.mutationQueue.addMutationBatch(b,p,U,d)}).next(P=>{S=P;const U=P.applyToLocalDocumentSet(T,N);return m.documentOverlayCache.saveOverlays(b,P.batchId,U)})}).then(()=>({batchId:S.batchId,changes:Gw(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Wa[c.currentUser.toKey()];p||(p=new le(kt)),p=p.insert(d,m),c.Wa[c.currentUser.toKey()]=p}(r,a.batchId,e),await Xu(r,a.changes),await Gf(r.remoteStore)}catch(a){const l=iy(a,"Failed to persist write");e.reject(l)}}async function AA(n,t){const e=xt(n);try{const r=await eO(e.localStore,t);t.targetChanges.forEach((a,l)=>{const c=e.Ka.get(l);c&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?$t(c.Ba):a.removedDocuments.size>0&&($t(c.Ba),c.Ba=!1))}),await Xu(e,r,t)}catch(r){await Ko(r)}}function NE(n,t,e){const r=xt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.ka.forEach((l,c)=>{const d=c.view.sa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=xt(c);m.onlineState=d;let p=!1;m.queries.forEach((v,T)=>{for(const S of T.ta)S.sa(d)&&(p=!0)}),p&&ry(m)}(r.eventManager,t),a.length&&r.La.p_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function KO(n,t,e){const r=xt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Ka.get(t),l=a&&a.key;if(l){let c=new le(_t.comparator);c=c.insert(l,nn.newNoDocument(l,Rt.min()));const d=Mt().add(l),m=new Ff(Rt.min(),new Map,new le(kt),c,d);await AA(r,m),r.$a=r.$a.remove(l),r.Ka.delete(t),ay(r)}else await Zp(r.localStore,t,!1).then(()=>eg(r,t,e)).catch(Ko)}async function $O(n,t){const e=xt(n),r=t.batch.batchId;try{const a=await tO(e.localStore,t);CA(e,r,null),RA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(e,a)}catch(a){await Ko(a)}}async function QO(n,t,e){const r=xt(n);try{const a=await function(c,d){const m=xt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(T=>($t(T!==null),v=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(r.localStore,t);CA(r,t,e),RA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Xu(r,a)}catch(a){await Ko(a)}}function RA(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function CA(n,t,e){const r=xt(n);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),r.Wa[r.currentUser.toKey()]=a}}function eg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.qa.get(t))n.ka.delete(r),e&&n.La.Ja(r,e);n.qa.delete(t),n.isPrimaryClient&&n.Ua.br(t).forEach(r=>{n.Ua.containsKey(r)||xA(n,r)})}function xA(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(Zg(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ka.delete(e),ay(n))}function OE(n,t,e){for(const r of e)r instanceof SA?(n.Ua.addReference(r.key,t),YO(n,r)):r instanceof bA?(mt(sy,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,t),n.Ua.containsKey(r.key)||xA(n,r.key)):St()}function YO(n,t){const e=t.key,r=e.path.canonicalString();n.$a.get(e)||n.Qa.has(r)||(mt(sy,"New document in limbo: "+e),n.Qa.add(r),ay(n))}function ay(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new _t(ne.fromString(t)),r=n.za.next();n.Ka.set(r,new UO(e)),n.$a=n.$a.insert(e,r),gA(n.remoteStore,new os(wi(Bw(e.path)),r,"TargetPurposeLimboResolution",Mf.ae))}}async function Xu(n,t,e){const r=xt(n),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((d,m)=>{c.push(r.Ha(m,t,e).then(p=>{var v;if((p||e)&&r.isPrimaryClient){const T=p?!p.fromCache:(v=e==null?void 0:e.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){a.push(p);const T=Xg.Yi(m.targetId,p);l.push(T)}}))}),await Promise.all(c),r.La.p_(a),await async function(m,p){const v=xt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>et.forEach(p,S=>et.forEach(S.Hi,b=>v.persistence.referenceDelegate.addReference(T,S.targetId,b)).next(()=>et.forEach(S.Ji,b=>v.persistence.referenceDelegate.removeReference(T,S.targetId,b)))))}catch(T){if(!$o(T))throw T;mt(Wg,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const b=v.Ts.get(S),x=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(x);v.Ts=v.Ts.insert(S,N)}}}(r.localStore,l))}async function XO(n,t){const e=xt(n);if(!e.currentUser.isEqual(t)){mt(sy,"User change. New user:",t.toKey());const r=await fA(e.localStore,t);e.currentUser=t,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new gt(it.CANCELLED,c))})}),l.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xu(e,r.Rs)}}function WO(n,t){const e=xt(n),r=e.Ka.get(t);if(r&&r.Ba)return Mt().add(r.key);{let a=Mt();const l=e.qa.get(t);if(!l)return a;for(const c of l){const d=e.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function IA(n){const t=xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=AA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KO.bind(null,t),t.La.p_=NO.bind(null,t.eventManager),t.La.Ja=OO.bind(null,t.eventManager),t}function ZO(n){const t=xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$O.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QO.bind(null,t),t}class yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return JN(this.persistence,new XN,t.initialUser,this.serializer)}Xa(t){return new hA(Yg.ri,this.serializer)}Za(t){return new aO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yf.provider={build:()=>new yf};class JO extends yf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){$t(this.persistence.referenceDelegate instanceof pf);const r=this.persistence.referenceDelegate.garbageCollector;return new MN(r,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new hA(r=>pf.ri(r,e),this.serializer)}}class ng{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XO.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new DO}()}createDatastore(t){const e=Hf(t.databaseInfo.databaseId),r=function(l){return new hO(l)}(t.databaseInfo);return function(l,c,d,m){return new pO(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,a,l,c,d){return new yO(r,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>NE(this.syncEngine,e,0),function(){return CE.D()?new CE:new oO}())}createSyncEngine(t,e){return function(a,l,c,d,m,p,v){const T=new jO(a,l,c,d,m,p);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const l=xt(a);mt(_a,"RemoteStore shutting down."),l.W_.add(5),await Yu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class eM{constructor(t,e,r,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=bw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{mt(Ss,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(mt(Ss,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=iy(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function yp(n,t){n.asyncQueue.verifyOperationInProgress(),mt(Ss,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await fA(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function ME(n,t){n.asyncQueue.verifyOperationInProgress();const e=await nM(n);mt(Ss,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>IE(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>IE(t.remoteStore,a)),n._onlineComponents=t}async function nM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(Ss,"Using user provided OfflineComponentProvider");try{await yp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),await yp(n,new yf)}}else mt(Ss,"Using default OfflineComponentProvider"),await yp(n,new JO(void 0));return n._offlineComponents}async function DA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(Ss,"Using user provided OnlineComponentProvider"),await ME(n,n._uninitializedComponentsProvider._online)):(mt(Ss,"Using default OnlineComponentProvider"),await ME(n,new ng))),n._onlineComponents}function iM(n){return DA(n).then(t=>t.syncEngine)}async function rM(n){const t=await DA(n),e=t.eventManager;return e.onListen=BO.bind(null,t.syncEngine),e.onUnlisten=HO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=zO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=qO.bind(null,t.syncEngine),e}function sM(n,t,e={}){const r=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const v=new tM({next:S=>{v.su(),c.enqueueAndForget(()=>PO(l,T)),S.fromCache&&m.source==="server"?p.reject(new gt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new MO(d,v,{includeMetadataChanges:!0,Ta:!0});return VO(l,T)}(await rM(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n,t,e){if(!e)throw new gt(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function aM(n,t,e,r){if(t===!0&&r===!0)throw new gt(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function kE(n){if(!_t.isDocumentKey(n))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UE(n){if(_t.isDocumentKey(n))throw new gt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St()}function Ta(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Kf(n);throw new gt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firestore.googleapis.com",jE=!0;class BE{constructor(t){var e,r;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NA,this.ssl=jE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:jE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NN)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $f{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cP;switch(r.type){case"firstParty":return new mP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=LE.get(e);r&&(mt("ComponentProvider","Removing Datastore"),LE.delete(e),r.terminate())}(this),Promise.resolve()}}function oM(n,t,e,r={}){var a;const l=(n=Ta(n,$f))._getSettings(),c=`${t}:${e}`;if(l.host!==NA&&l.host!==c&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=en.MOCK_USER;else{d=kI(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new gt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new en(p)}n._authCredentials=new hP(new Sw(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Yo(this.firestore,t,this._query)}}class Cn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cn(this.firestore,t,this._key)}}class ps extends Yo{constructor(t,e,r){super(t,e,Bw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cn(this.firestore,null,new _t(t))}withConverter(t){return new ps(this.firestore,t,this._path)}}function Xo(n,t,...e){if(n=Qe(n),PA("collection","path",t),n instanceof $f){const r=ne.fromString(t,...e);return UE(r),new ps(n,null,r)}{if(!(n instanceof Cn||n instanceof ps))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ne.fromString(t,...e));return UE(r),new ps(n.firestore,null,r)}}function oy(n,t,...e){if(n=Qe(n),arguments.length===1&&(t=bw.newId()),PA("doc","path",t),n instanceof $f){const r=ne.fromString(t,...e);return kE(r),new Cn(n,null,new _t(r))}{if(!(n instanceof Cn||n instanceof ps))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ne.fromString(t,...e));return kE(r),new Cn(n.firestore,n instanceof ps?n.converter:null,new _t(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class FE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mA(this,"async_queue_retry"),this.Su=()=>{const r=gp();r&&mt(zE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const e=gp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=gp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new ms;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!$o(t))throw t;mt(zE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw fr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=e,e}enqueueAfterDelay(t,e,r){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const a=ny.createAndSchedule(this,t,e,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&St()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class Wu extends $f{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new FE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new FE(t),this._firestoreClient=void 0,await t}}}function lM(n,t){const e=typeof n=="object"?n:Ob(),r=typeof n=="string"?n:lf,a=xg(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=MI("firestore");l&&oM(a,...l)}return a}function OA(n){if(n._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uM(n),n._firestoreClient}function uM(n){var t,e,r;const a=n._freezeSettings(),l=function(d,m,p,v){return new xP(d,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,VA(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new eM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ko(Ye.fromBase64String(t))}catch(e){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ko(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=/^__.*__$/;class hM{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Cs(t,this.data,this.fieldMask,e,this.fieldTransforms):new $u(t,this.data,e,this.fieldTransforms)}}class MA{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Cs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function LA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class hy{constructor(t,e,r,a,l,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new hy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:r,Qu:!1});return a.$u(t),a}Ku(t){var e;const r=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return vf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(LA(this.Lu)&&cM.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class fM{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Hf(t)}ju(t,e,r,a=!1){return new hy({Lu:t,methodName:e,zu:r,path:$e.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fy(n){const t=n._freezeSettings(),e=Hf(n._databaseId);return new fM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function dM(n,t,e,r,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,t,e,a);dy("Data must be an object, but it was:",c,r);const d=kA(r,c);let m,p;if(l.merge)m=new Rn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=ig(t,T,e);if(!c.contains(S))throw new gt(it.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);jA(v,S)||v.push(S)}m=new Rn(v),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new hM(new yn(d),m,p)}class Yf extends ly{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yf}}function mM(n,t,e,r){const a=n.ju(1,t,e);dy("Data must be an object, but it was:",a,r);const l=[],c=yn.empty();Rs(r,(m,p)=>{const v=my(t,m,e);p=Qe(p);const T=a.Ku(v);if(p instanceof Yf)l.push(v);else{const S=Zu(p,T);S!=null&&(l.push(v),c.set(v,S))}});const d=new Rn(l);return new MA(c,d,a.fieldTransforms)}function pM(n,t,e,r,a,l){const c=n.ju(1,t,e),d=[ig(t,r,e)],m=[a];if(l.length%2!=0)throw new gt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(ig(t,l[S])),m.push(l[S+1]);const p=[],v=yn.empty();for(let S=d.length-1;S>=0;--S)if(!jA(p,d[S])){const b=d[S];let x=m[S];x=Qe(x);const N=c.Ku(b);if(x instanceof Yf)p.push(b);else{const P=Zu(x,N);P!=null&&(p.push(b),v.set(b,P))}}const T=new Rn(p);return new MA(v,T,c.fieldTransforms)}function gM(n,t,e,r=!1){return Zu(e,n.ju(r?4:3,t))}function Zu(n,t){if(UA(n=Qe(n)))return dy("Unsupported field value:",t,n),kA(n,t);if(n instanceof ly)return function(r,a){if(!LA(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=Zu(d,a.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,t)}return function(r,a){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ae.fromDate(r);return{timestampValue:mf(a.serializer,l)}}if(r instanceof Ae){const l=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mf(a.serializer,l)}}if(r instanceof uy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:iA(a.serializer,r._byteString)};if(r instanceof Cn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$g(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof cy)return function(c,d){return{mapValue:{fields:{[Vw]:{stringValue:Pw},[uf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return Hg(d.serializer,p)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${Kf(r)}`)}(n,t)}function kA(n,t){const e={};return Aw(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rs(n,(r,a)=>{const l=Zu(a,t.qu(r));l!=null&&(e[r]=l)}),{mapValue:{fields:e}}}function UA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ae||n instanceof uy||n instanceof ko||n instanceof Cn||n instanceof ly||n instanceof cy)}function dy(n,t,e){if(!UA(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const r=Kf(e);throw r==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+r)}}function ig(n,t,e){if((t=Qe(t))instanceof Qf)return t._internalPath;if(typeof t=="string")return my(n,t);throw vf("Field path arguments must be of type string or ",n,!1,void 0,e)}const yM=new RegExp("[~\\*/\\[\\]]");function my(n,t,e){if(t.search(yM)>=0)throw vf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Qf(...t.split("."))._internalPath}catch{throw vf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function vf(n,t,e,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new gt(it.INVALID_ARGUMENT,d+n+m)}function jA(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t,e,r,a,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(py("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class vM extends BA{data(){return super.data()}}function py(n,t){return typeof t=="string"?my(n,t):t instanceof Qf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class TM extends gy{}function zA(n,t,...e){let r=[];t instanceof gy&&r.push(t),r=r.concat(e),function(l){const c=l.filter(m=>m instanceof yy).length,d=l.filter(m=>m instanceof Xf).length;if(c>1||c>0&&d>0)throw new gt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class Xf extends TM{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Xf(t,e,r)}_apply(t){const e=this._parse(t);return HA(t._query,e),new Yo(t.firestore,t.converter,Kp(t._query,e))}_parse(t){const e=fy(t.firestore);return function(l,c,d,m,p,v,T){let S;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new gt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){qE(T,v);const x=[];for(const N of T)x.push(HE(m,l,N));S={arrayValue:{values:x}}}else S=HE(m,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||qE(T,v),S=gM(d,c,T,v==="in"||v==="not-in");return we.create(p,v,S)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function FA(n,t,e){const r=t,a=py("where",n);return Xf._create(a,r,e)}class yy extends gy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new yy(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return e.length===1?e[0]:ri.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)HA(c,m),c=Kp(c,m)}(t._query,e),new Yo(t.firestore,t.converter,Kp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function HE(n,t,e){if(typeof(e=Qe(e))=="string"){if(e==="")throw new gt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(t)&&e.indexOf("/")!==-1)throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ne.fromString(e));if(!_t.isDocumentKey(r))throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sE(n,new _t(r))}if(e instanceof Cn)return sE(n,e._key);throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(e)}.`)}function qE(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HA(n,t){const e=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new gt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class EM{convertValue(t,e="none"){switch(Ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Rs(t,(a,l)=>{r[a]=this.convertValue(l,e)}),r}convertVectorValue(t){var e,r,a;const l=(a=(r=(e=t.fields)===null||e===void 0?void 0:e[uf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>ve(c.doubleValue));return new cy(l)}convertGeoPoint(t){return new uy(ve(t.latitude),ve(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=kf(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Ru(t));default:return null}}convertTimestamp(t){const e=vs(t);return new Ae(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ne.fromString(t);$t(uA(r));const a=new Cu(r.get(1),r.get(3)),l=new _t(r.popFirst(5));return a.isEqual(e)||fr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n,t,e){let r;return r=n?n.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bM extends BA{constructor(t,e,r,a,l,c){super(t,e,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(py("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class $h extends bM{data(t={}){return super.data(t)}}class wM{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Ph(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new $h(this._firestore,this._userDataWriter,r.key,r,new Ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new $h(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ph(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new $h(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ph(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:AM(d.type),doc:m,oldIndex:p,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function AM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}class RM extends EM{constructor(t){super(),this.firestore=t}convertBytes(t){return new ko(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Cn(this.firestore,null,e)}}function Ju(n){n=Ta(n,Yo);const t=Ta(n.firestore,Wu),e=OA(t),r=new RM(t);return _M(n._query),sM(e,n._query).then(a=>new wM(t,r,n,a))}function CM(n,t,e,...r){n=Ta(n,Cn);const a=Ta(n.firestore,Wu),l=fy(a);let c;return c=typeof(t=Qe(t))=="string"||t instanceof Qf?pM(l,"updateDoc",n._key,t,e,r):mM(l,"updateDoc",n._key,t),vy(a,[c.toMutation(n._key,ni.exists(!0))])}function xM(n){return vy(Ta(n.firestore,Wu),[new qg(n._key,ni.none())])}function IM(n,t){const e=Ta(n.firestore,Wu),r=oy(n),a=SM(n.converter,t);return vy(e,[dM(fy(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function vy(n,t){return function(r,a){const l=new ms;return r.asyncQueue.enqueueAndForget(async()=>GO(await iM(r),a,l)),l.promise}(OA(n),t)}(function(t,e=!0){(function(a){Go=a})(Ho),Do(new pa("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Wu(new fP(r.getProvider("auth-internal")),new pP(c,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:e},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),hs(QT,YT,t),hs(QT,YT,"esm2017")})();const DM={apiKey:"AIzaSyBbgkfiwFqTN1tN7Yn_V1MvPup_ft0ffpQ",authDomain:"rosermp-1ac4d.firebaseapp.com",projectId:"rosermp-1ac4d",storageBucket:"rosermp-1ac4d.appspot.com",messagingSenderId:"159006582074",appId:"1:159006582074:web:b0bc8bcb6332da96d95c03",measurementId:"G-X5J7GBBSHR"},qA=Nb(DM),_y=lP(qA),xs=lM(qA),GA=L.createContext({});function VM(n){const t=L.useRef(null);return t.current===null&&(t.current=n()),t.current}const Ty=L.createContext(null),KA=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function PM(n=!0){const t=L.useContext(Ty);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:a}=t,l=L.useId();L.useEffect(()=>{if(n)return a(l)},[n]);const c=L.useCallback(()=>n&&r&&r(l),[l,r,n]);return!e&&r?[!1,c]:[!0]}const Ey=typeof window<"u",NM=Ey?L.useLayoutEffect:L.useEffect,xn=n=>n;let $A=xn;function Sy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Uo=(n,t,e)=>{const r=t-n;return r===0?1:(e-n)/r},or=n=>n*1e3,lr=n=>n/1e3,OM={useManualTiming:!1},Nh=["read","resolveKeyframes","update","preRender","render","postRender"],GE={value:null};function MM(n,t){let e=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},m=0;function p(T){c.has(T)&&(v.schedule(T),n()),m++,T(d)}const v={schedule:(T,S=!1,b=!1)=>{const N=b&&a?e:r;return S&&c.add(T),N.has(T)||N.add(T),T},cancel:T=>{r.delete(T),c.delete(T)},process:T=>{if(d=T,a){l=!0;return}a=!0,[e,r]=[r,e],e.forEach(p),t&&GE.value&&GE.value.frameloop[t].push(m),m=0,e.clear(),a=!1,l&&(l=!1,v.process(T))}};return v}const LM=40;function QA(n,t){let e=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=Nh.reduce((U,$)=>(U[$]=MM(l,t?$:void 0),U),{}),{read:d,resolveKeyframes:m,update:p,preRender:v,render:T,postRender:S}=c,b=()=>{const U=performance.now();e=!1,a.delta=r?1e3/60:Math.max(Math.min(U-a.timestamp,LM),1),a.timestamp=U,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),T.process(a),S.process(a),a.isProcessing=!1,e&&t&&(r=!1,n(b))},x=()=>{e=!0,r=!0,a.isProcessing||n(b)};return{schedule:Nh.reduce((U,$)=>{const q=c[$];return U[$]=(nt,Z=!1,ut=!1)=>(e||x(),q.schedule(nt,Z,ut)),U},{}),cancel:U=>{for(let $=0;$<Nh.length;$++)c[Nh[$]].cancel(U)},state:a,steps:c}}const{schedule:ee,cancel:bs,state:Ge,steps:vp}=QA(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0),YA=L.createContext({strict:!1}),KE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const n in KE)jo[n]={isEnabled:t=>KE[n].some(e=>!!t[e])};function kM(n){for(const t in n)jo[t]={...jo[t],...n[t]}}const UM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _f(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||UM.has(n)}let XA=n=>!_f(n);function jM(n){n&&(XA=t=>t.startsWith("on")?!_f(t):n(t))}try{jM(require("@emotion/is-prop-valid").default)}catch{}function BM(n,t,e){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(XA(a)||e===!0&&_f(a)||!t&&!_f(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function zM(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...r)=>n(...r);return new Proxy(e,{get:(r,a)=>a==="create"?n:(t.has(a)||t.set(a,n(a)),t.get(a))})}const Wf=L.createContext({});function Zf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Vu(n){return typeof n=="string"||Array.isArray(n)}const by=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wy=["initial",...by];function Jf(n){return Zf(n.animate)||wy.some(t=>Vu(n[t]))}function WA(n){return!!(Jf(n)||n.variants)}function FM(n,t){if(Jf(n)){const{initial:e,animate:r}=n;return{initial:e===!1||Vu(e)?e:void 0,animate:Vu(r)?r:void 0}}return n.inherit!==!1?t:{}}function HM(n){const{initial:t,animate:e}=FM(n,L.useContext(Wf));return L.useMemo(()=>({initial:t,animate:e}),[$E(t),$E(e)])}function $E(n){return Array.isArray(n)?n.join(" "):n}const qM=Symbol.for("motionComponentSymbol");function To(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function GM(n,t,e){return L.useCallback(r=>{r&&n.onMount&&n.onMount(r),t&&(r?t.mount(r):t.unmount()),e&&(typeof e=="function"?e(r):To(e)&&(e.current=r))},[t])}const Ay=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KM="framerAppearId",ZA="data-"+Ay(KM),{schedule:Ry}=QA(queueMicrotask,!1),JA=L.createContext({});function $M(n,t,e,r,a){var l,c;const{visualElement:d}=L.useContext(Wf),m=L.useContext(YA),p=L.useContext(Ty),v=L.useContext(KA).reducedMotion,T=L.useRef(null);r=r||m.renderer,!T.current&&r&&(T.current=r(n,{visualState:t,parent:d,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v}));const S=T.current,b=L.useContext(JA);S&&!S.projection&&a&&(S.type==="html"||S.type==="svg")&&QM(T.current,e,a,b);const x=L.useRef(!1);L.useInsertionEffect(()=>{S&&x.current&&S.update(e,p)});const N=e[ZA],P=L.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return NM(()=>{S&&(x.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),Ry.render(S.render),P.current&&S.animationState&&S.animationState.animateChanges())}),L.useEffect(()=>{S&&(!P.current&&S.animationState&&S.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)===null||U===void 0||U.call(window,N)}),P.current=!1))}),S}function QM(n,t,e,r){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:tR(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&To(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:m,layoutRoot:p})}function tR(n){if(n)return n.options.allowProjection!==!1?n.projection:tR(n.parent)}function YM({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:r,Component:a}){var l,c;n&&kM(n);function d(p,v){let T;const S={...L.useContext(KA),...p,layoutId:XM(p)},{isStatic:b}=S,x=HM(p),N=r(p,b);if(!b&&Ey){WM();const P=ZM(S);T=P.MeasureLayout,x.visualElement=$M(a,N,S,t,P.ProjectionNode)}return z.jsxs(Wf.Provider,{value:x,children:[T&&x.visualElement?z.jsx(T,{visualElement:x.visualElement,...S}):null,e(a,p,GM(N,x.visualElement,v),N,b,x.visualElement)]})}d.displayName=`motion.${typeof a=="string"?a:`create(${(c=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&c!==void 0?c:""})`}`;const m=L.forwardRef(d);return m[qM]=a,m}function XM({layoutId:n}){const t=L.useContext(GA).id;return t&&n!==void 0?t+"-"+n:n}function WM(n,t){L.useContext(YA).strict}function ZM(n){const{drag:t,layout:e}=jo;if(!t&&!e)return{};const r={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const eR=n=>t=>typeof t=="string"&&t.startsWith(n),Cy=eR("--"),JM=eR("var(--"),xy=n=>JM(n)?tL.test(n.split("/*")[0].trim()):!1,tL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pu={};function eL(n){for(const t in n)Pu[t]=n[t],Cy(t)&&(Pu[t].isCSSVariable=!0)}const Wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(Wo);function nR(n,{layout:t,layoutId:e}){return ba.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Pu[n]||n==="opacity")}const rn=n=>!!(n&&n.getVelocity),iR=(n,t)=>t&&typeof n=="number"?t.transform(n):n,mr=(n,t,e)=>e>t?t:e<n?n:e,Zo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Nu={...Zo,transform:n=>mr(0,1,n)},Oh={...Zo,default:1},tc=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),es=tc("deg"),Ri=tc("%"),Et=tc("px"),nL=tc("vh"),iL=tc("vw"),QE={...Ri,parse:n=>Ri.parse(n)/100,transform:n=>Ri.transform(n*100)},rL={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et},sL={rotate:es,rotateX:es,rotateY:es,rotateZ:es,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:es,skewX:es,skewY:es,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:Nu,originX:QE,originY:QE,originZ:Et},YE={...Zo,transform:Math.round},Iy={...rL,...sL,zIndex:YE,size:Et,fillOpacity:Nu,strokeOpacity:Nu,numOctaves:YE},aL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oL=Wo.length;function lL(n,t,e){let r="",a=!0;for(let l=0;l<oL;l++){const c=Wo[l],d=n[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||e){const p=iR(d,Iy[c]);if(!m){a=!1;const v=aL[c]||c;r+=`${v}(${p}) `}e&&(t[c]=p)}}return r=r.trim(),e?r=e(t,a?"":r):a&&(r="none"),r}function Dy(n,t,e){const{style:r,vars:a,transformOrigin:l}=n;let c=!1,d=!1;for(const m in t){const p=t[m];if(ba.has(m)){c=!0;continue}else if(Cy(m)){a[m]=p;continue}else{const v=iR(p,Iy[m]);m.startsWith("origin")?(d=!0,l[m]=v):r[m]=v}}if(t.transform||(c||e?r.transform=lL(t,n.transform,e):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;r.transformOrigin=`${m} ${p} ${v}`}}const Vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rR(n,t,e){for(const r in t)!rn(t[r])&&!nR(r,e)&&(n[r]=t[r])}function uL({transformTemplate:n},t){return L.useMemo(()=>{const e=Vy();return Dy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function cL(n,t){const e=n.style||{},r={};return rR(r,e,n),Object.assign(r,uL(n,t)),r}function hL(n,t){const e={},r=cL(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=r,e}const fL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Py(n){return typeof n!="string"||n.includes("-")?!1:!!(fL.indexOf(n)>-1||/[A-Z]/u.test(n))}const dL={offset:"stroke-dashoffset",array:"stroke-dasharray"},mL={offset:"strokeDashoffset",array:"strokeDasharray"};function pL(n,t,e=1,r=0,a=!0){n.pathLength=1;const l=a?dL:mL;n[l.offset]=Et.transform(-r);const c=Et.transform(t),d=Et.transform(e);n[l.array]=`${c} ${d}`}function XE(n,t,e){return typeof n=="string"?n:Et.transform(t+e*n)}function gL(n,t,e){const r=XE(t,n.x,n.width),a=XE(e,n.y,n.height);return`${r} ${a}`}function Ny(n,{attrX:t,attrY:e,attrScale:r,originX:a,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:m=0,...p},v,T){if(Dy(n,p,T),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:b,dimensions:x}=n;S.transform&&(x&&(b.transform=S.transform),delete S.transform),x&&(a!==void 0||l!==void 0||b.transform)&&(b.transformOrigin=gL(x,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(S.x=t),e!==void 0&&(S.y=e),r!==void 0&&(S.scale=r),c!==void 0&&pL(S,c,d,m,!1)}const sR=()=>({...Vy(),attrs:{}}),Oy=n=>typeof n=="string"&&n.toLowerCase()==="svg";function yL(n,t,e,r){const a=L.useMemo(()=>{const l=sR();return Ny(l,t,Oy(r),n.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};rR(l,n.style,n),a.style={...l,...a.style}}return a}function vL(n=!1){return(e,r,a,{latestValues:l},c)=>{const m=(Py(e)?yL:hL)(r,l,c,e),p=BM(r,typeof e=="string",n),v=e!==L.Fragment?{...p,...m,ref:a}:{},{children:T}=r,S=L.useMemo(()=>rn(T)?T.get():T,[T]);return L.createElement(e,{...v,children:S})}}function WE(n){const t=[{},{}];return n==null||n.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function My(n,t,e,r){if(typeof t=="function"){const[a,l]=WE(r);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=WE(r);t=t(e!==void 0?e:n.custom,a,l)}return t}const rg=n=>Array.isArray(n),_L=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),TL=n=>rg(n)?n[n.length-1]||0:n;function Qh(n){const t=rn(n)?n.get():n;return _L(t)?t.toValue():t}function EL({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},r,a,l){const c={latestValues:SL(r,a,l,n),renderState:t()};return e&&(c.onMount=d=>e({props:r,current:d,...c}),c.onUpdate=d=>e(d)),c}const aR=n=>(t,e)=>{const r=L.useContext(Wf),a=L.useContext(Ty),l=()=>EL(n,t,r,a);return e?l():VM(l)};function SL(n,t,e,r){const a={},l=r(n,{});for(const S in l)a[S]=Qh(l[S]);let{initial:c,animate:d}=n;const m=Jf(n),p=WA(n);t&&p&&!m&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const T=v?d:c;if(T&&typeof T!="boolean"&&!Zf(T)){const S=Array.isArray(T)?T:[T];for(let b=0;b<S.length;b++){const x=My(n,S[b]);if(x){const{transitionEnd:N,transition:P,...U}=x;for(const $ in U){let q=U[$];if(Array.isArray(q)){const nt=v?q.length-1:0;q=q[nt]}q!==null&&(a[$]=q)}for(const $ in N)a[$]=N[$]}}}return a}function Ly(n,t,e){var r;const{style:a}=n,l={};for(const c in a)(rn(a[c])||t.style&&rn(t.style[c])||nR(c,n)||((r=e==null?void 0:e.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=a[c]);return l}const bL={useVisualState:aR({scrapeMotionValuesFromProps:Ly,createRenderState:Vy})};function oR(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function lR(n,{style:t,vars:e},r,a){Object.assign(n.style,t,a&&a.getProjectionStyles(r));for(const l in e)n.style.setProperty(l,e[l])}const uR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cR(n,t,e,r){lR(n,t,void 0,r);for(const a in t.attrs)n.setAttribute(uR.has(a)?a:Ay(a),t.attrs[a])}function hR(n,t,e){const r=Ly(n,t,e);for(const a in n)if(rn(n[a])||rn(t[a])){const l=Wo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=n[a]}return r}const ZE=["x","y","width","height","cx","cy","r"],wL={useVisualState:aR({scrapeMotionValuesFromProps:hR,createRenderState:sR,onUpdate:({props:n,prevProps:t,current:e,renderState:r,latestValues:a})=>{if(!e)return;let l=!!n.drag;if(!l){for(const d in a)if(ba.has(d)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let d=0;d<ZE.length;d++){const m=ZE[d];n[m]!==t[m]&&(c=!0)}c&&ee.read(()=>{oR(e,r),ee.render(()=>{Ny(r,a,Oy(e.tagName),n.transformTemplate),cR(e,r)})})}})};function AL(n,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Py(r)?wL:bL,preloadedFeatures:n,useRender:vL(a),createVisualElement:t,Component:r};return YM(c)}}function Ou(n,t,e){const r=n.getProps();return My(r,t,e!==void 0?e:r.custom,n)}const RL=Sy(()=>window.ScrollTimeline!==void 0);class CL{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=e}attachTimeline(t,e){const r=this.animations.map(a=>{if(RL()&&a.attachTimeline)return a.attachTimeline(t);if(typeof e=="function")return e(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xL extends CL{then(t,e){return Promise.all(this.animations).then(t).catch(e)}}function ky(n,t){return n?n[t]||n.default||n:void 0}const sg=2e4;function fR(n){let t=0;const e=50;let r=n.next(t);for(;!r.done&&t<sg;)t+=e,r=n.next(t);return t>=sg?1/0:t}function Uy(n){return typeof n=="function"}function JE(n,t){n.timeline=t,n.onfinish=null}const jy=n=>Array.isArray(n)&&typeof n[0]=="number",IL={linearEasing:void 0};function DL(n,t){const e=Sy(n);return()=>{var r;return(r=IL[t])!==null&&r!==void 0?r:e()}}const Tf=DL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dR=(n,t,e=10)=>{let r="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)r+=n(Uo(0,a-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function mR(n){return!!(typeof n=="function"&&Tf()||!n||typeof n=="string"&&(n in ag||Tf())||jy(n)||Array.isArray(n)&&n.every(mR))}const fu=([n,t,e,r])=>`cubic-bezier(${n}, ${t}, ${e}, ${r})`,ag={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function pR(n,t){if(n)return typeof n=="function"&&Tf()?dR(n,t):jy(n)?fu(n):Array.isArray(n)?n.map(e=>pR(e,t)||ag.easeOut):ag[n]}const ti={x:!1,y:!1};function gR(){return ti.x||ti.y}function VL(n,t,e){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const l=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function yR(n,t){const e=VL(n),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[e,a,()=>r.abort()]}function tS(n){return!(n.pointerType==="touch"||gR())}function PL(n,t,e={}){const[r,a,l]=yR(n,e),c=d=>{if(!tS(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const v=T=>{tS(T)&&(p(T),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return r.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}function Ef(n,t){const e=`${t}PointerCapture`;if(n.target instanceof Element&&e in n.target&&n.pointerId!==void 0)try{n.target[e](n.pointerId)}catch{}}const vR=(n,t)=>t?n===t?!0:vR(n,t.parentElement):!1,By=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,NL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OL(n){return NL.has(n.tagName)||n.tabIndex!==-1}const du=new WeakSet;function eS(n){return t=>{t.key==="Enter"&&n(t)}}function _p(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ML=(n,t)=>{const e=n.currentTarget;if(!e)return;const r=eS(()=>{if(du.has(e))return;_p(e,"down");const a=eS(()=>{_p(e,"up")}),l=()=>_p(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",r,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",r),t)};function nS(n){return By(n)&&!gR()}function LL(n,t,e={}){const[r,a,l]=yR(n,e),c=d=>{const m=d.currentTarget;if(!m||!nS(d)||du.has(m))return;du.add(m),Ef(d,"set");const p=t(m,d),v=(b,x)=>{m.removeEventListener("pointerup",T),m.removeEventListener("pointercancel",S),Ef(b,"release"),!(!nS(b)||!du.has(m))&&(du.delete(m),typeof p=="function"&&p(b,{success:x}))},T=b=>{(b.isTrusted?kL(b,m instanceof Element?m.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(b,!1):v(b,!(m instanceof Element)||vR(m,b.target))},S=b=>{v(b,!1)};m.addEventListener("pointerup",T,a),m.addEventListener("pointercancel",S,a),m.addEventListener("lostpointercapture",S,a)};return r.forEach(d=>{d=e.useGlobalTarget?window:d;let m=!1;d instanceof HTMLElement&&(m=!0,!OL(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",c,a),m&&d.addEventListener("focus",p=>ML(p,a),a)}),l}function kL(n,t){return n.clientX<t.left||n.clientX>t.right||n.clientY<t.top||n.clientY>t.bottom}function UL(n){return n==="x"||n==="y"?ti[n]?null:(ti[n]=!0,()=>{ti[n]=!1}):ti.x||ti.y?null:(ti.x=ti.y=!0,()=>{ti.x=ti.y=!1})}const _R=new Set(["width","height","top","left","right","bottom",...Wo]);let Yh;function jL(){Yh=void 0}const Ci={now:()=>(Yh===void 0&&Ci.set(Ge.isProcessing||OM.useManualTiming?Ge.timestamp:performance.now()),Yh),set:n=>{Yh=n,queueMicrotask(jL)}};function zy(n,t){n.indexOf(t)===-1&&n.push(t)}function Fy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}class Hy{constructor(){this.subscriptions=[]}add(t){return zy(this.subscriptions,t),()=>Fy(this.subscriptions,t)}notify(t,e,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,e,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function TR(n,t){return t?n*(1e3/t):0}const iS=30,BL=n=>!isNaN(parseFloat(n));class zL{constructor(t,e={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=Ci.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ci.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Hy);const r=this.events[t].add(e);return t==="change"?()=>{r(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,r){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,iS);return TR(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mu(n,t){return new zL(n,t)}function FL(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Mu(e))}function HL(n,t){const e=Ou(n,t);let{transitionEnd:r={},transition:a={},...l}=e||{};l={...l,...r};for(const c in l){const d=TL(l[c]);FL(n,c,d)}}function qL(n){return!!(rn(n)&&n.add)}function og(n,t){const e=n.getValue("willChange");if(qL(e))return e.add(t)}function ER(n){return n.props[ZA]}const SR=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,GL=1e-7,KL=12;function $L(n,t,e,r,a){let l,c,d=0;do c=t+(e-t)/2,l=SR(c,r,a)-n,l>0?e=c:t=c;while(Math.abs(l)>GL&&++d<KL);return c}function ec(n,t,e,r){if(n===t&&e===r)return xn;const a=l=>$L(l,0,1,n,e);return l=>l===0||l===1?l:SR(a(l),t,r)}const bR=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,wR=n=>t=>1-n(1-t),AR=ec(.33,1.53,.69,.99),qy=wR(AR),RR=bR(qy),CR=n=>(n*=2)<1?.5*qy(n):.5*(2-Math.pow(2,-10*(n-1))),Gy=n=>1-Math.sin(Math.acos(n)),xR=wR(Gy),IR=bR(Gy),DR=n=>/^0[^.\s]+$/u.test(n);function QL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||DR(n):!0}const _u=n=>Math.round(n*1e5)/1e5,Ky=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YL(n){return n==null}const XL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$y=(n,t)=>e=>!!(typeof e=="string"&&XL.test(e)&&e.startsWith(n)||t&&!YL(e)&&Object.prototype.hasOwnProperty.call(e,t)),VR=(n,t,e)=>r=>{if(typeof r!="string")return r;const[a,l,c,d]=r.match(Ky);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},WL=n=>mr(0,255,n),Tp={...Zo,transform:n=>Math.round(WL(n))},da={test:$y("rgb","red"),parse:VR("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:r=1})=>"rgba("+Tp.transform(n)+", "+Tp.transform(t)+", "+Tp.transform(e)+", "+_u(Nu.transform(r))+")"};function ZL(n){let t="",e="",r="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const lg={test:$y("#"),parse:ZL,transform:da.transform},Eo={test:$y("hsl","hue"),parse:VR("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:r=1})=>"hsla("+Math.round(n)+", "+Ri.transform(_u(t))+", "+Ri.transform(_u(e))+", "+_u(Nu.transform(r))+")"},tn={test:n=>da.test(n)||lg.test(n)||Eo.test(n),parse:n=>da.test(n)?da.parse(n):Eo.test(n)?Eo.parse(n):lg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?da.transform(n):Eo.transform(n)},JL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tk(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(Ky))===null||t===void 0?void 0:t.length)||0)+(((e=n.match(JL))===null||e===void 0?void 0:e.length)||0)>0}const PR="number",NR="color",ek="var",nk="var(",rS="${}",ik=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(n){const t=n.toString(),e=[],r={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(ik,m=>(tn.test(m)?(r.color.push(l),a.push(NR),e.push(tn.parse(m))):m.startsWith(nk)?(r.var.push(l),a.push(ek),e.push(m)):(r.number.push(l),a.push(PR),e.push(parseFloat(m))),++l,rS)).split(rS);return{values:e,split:d,indexes:r,types:a}}function OR(n){return Lu(n).values}function MR(n){const{split:t,types:e}=Lu(n),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const d=e[c];d===PR?l+=_u(a[c]):d===NR?l+=tn.transform(a[c]):l+=a[c]}return l}}const rk=n=>typeof n=="number"?0:n;function sk(n){const t=OR(n);return MR(n)(t.map(rk))}const ws={test:tk,parse:OR,createTransformer:MR,getAnimatableNone:sk},ak=new Set(["brightness","contrast","saturate","opacity"]);function ok(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=e.match(Ky)||[];if(!r)return n;const a=e.replace(r,"");let l=ak.has(t)?1:0;return r!==e&&(l*=100),t+"("+l+a+")"}const lk=/\b([a-z-]*)\(.*?\)/gu,ug={...ws,getAnimatableNone:n=>{const t=n.match(lk);return t?t.map(ok).join(" "):n}},uk={...Iy,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:ug,WebkitFilter:ug},Qy=n=>uk[n];function LR(n,t){let e=Qy(n);return e!==ug&&(e=ws),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const ck=new Set(["auto","none","0"]);function hk(n,t,e){let r=0,a;for(;r<n.length&&!a;){const l=n[r];typeof l=="string"&&!ck.has(l)&&Lu(l).values.length&&(a=n[r]),r++}if(a&&e)for(const l of t)n[l]=LR(e,a)}const sS=n=>n===Zo||n===Et,aS=(n,t)=>parseFloat(n.split(", ")[t]),oS=(n,t)=>(e,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return aS(a[1],t);{const l=r.match(/^matrix\((.+)\)$/u);return l?aS(l[1],n):0}},fk=new Set(["x","y","z"]),dk=Wo.filter(n=>!fk.has(n));function mk(n){const t=[];return dk.forEach(e=>{const r=n.getValue(e);r!==void 0&&(t.push([e,r.get()]),r.set(e.startsWith("scale")?1:0))}),t}const Bo={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:oS(4,13),y:oS(5,14)};Bo.translateX=Bo.x;Bo.translateY=Bo.y;const ma=new Set;let cg=!1,hg=!1;function kR(){if(hg){const n=Array.from(ma).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),e=new Map;t.forEach(r=>{const a=mk(r);a.length&&(e.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=e.get(r);a&&a.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hg=!1,cg=!1,ma.forEach(n=>n.complete()),ma.clear()}function UR(){ma.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(hg=!0)})}function pk(){UR(),kR()}class Yy{constructor(t,e,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ma.add(this),cg||(cg=!0,ee.read(UR),ee.resolveKeyframes(kR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:r,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=a==null?void 0:a.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&e){const m=r.readValue(e,d);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=d),a&&c===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),gk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yk(n){const t=gk.exec(n);if(!t)return[,];const[,e,r,a]=t;return[`--${e??r}`,a]}function BR(n,t,e=1){const[r,a]=yk(n);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return jR(c)?parseFloat(c):c}return xy(a)?BR(a,t,e+1):a}const zR=n=>t=>t.test(n),vk={test:n=>n==="auto",parse:n=>n},FR=[Zo,Et,Ri,es,iL,nL,vk],lS=n=>FR.find(zR(n));class HR extends Yy{constructor(t,e,r,a,l){super(t,e,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:r}=this;if(!e||!e.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),xy(p))){const v=BR(p,e.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!_R.has(r)||t.length!==2)return;const[a,l]=t,c=lS(a),d=lS(l);if(c!==d)if(sS(c)&&sS(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,r=[];for(let a=0;a<t.length;a++)QL(t[a])&&r.push(a);r.length&&hk(t,r,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:e,name:r,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const l=e.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Bo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const uS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ws.test(n)||n==="0")&&!n.startsWith("url("));function _k(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function Tk(n,t,e,r){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],c=uS(a,t),d=uS(l,t);return!c||!d?!1:_k(n)||(e==="spring"||Uy(e))&&r}const Ek=n=>n!==null;function td(n,{repeat:t,repeatType:e="loop"},r){const a=n.filter(Ek),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const Sk=40;class qR{constructor({autoplay:t=!0,delay:e=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ci.now(),this.options={autoplay:t,delay:e,type:r,repeat:a,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Sk?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pk(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Ci.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:c,onComplete:d,onUpdate:m,isGenerator:p}=this.options;if(!p&&!Tk(t,r,a,l))if(c)this.options.duration=0;else{m&&m(td(t,this.options,e)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,e);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...v},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ae=(n,t,e)=>n+(t-n)*e;function Ep(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function bk({hue:n,saturation:t,lightness:e,alpha:r}){n/=360,t/=100,e/=100;let a=0,l=0,c=0;if(!t)a=l=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,m=2*e-d;a=Ep(m,d,n+1/3),l=Ep(m,d,n),c=Ep(m,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Sf(n,t){return e=>e>0?t:n}const Sp=(n,t,e)=>{const r=n*n,a=e*(t*t-r)+r;return a<0?0:Math.sqrt(a)},wk=[lg,da,Eo],Ak=n=>wk.find(t=>t.test(n));function cS(n){const t=Ak(n);if(!t)return!1;let e=t.parse(n);return t===Eo&&(e=bk(e)),e}const hS=(n,t)=>{const e=cS(n),r=cS(t);if(!e||!r)return Sf(n,t);const a={...e};return l=>(a.red=Sp(e.red,r.red,l),a.green=Sp(e.green,r.green,l),a.blue=Sp(e.blue,r.blue,l),a.alpha=ae(e.alpha,r.alpha,l),da.transform(a))},Rk=(n,t)=>e=>t(n(e)),nc=(...n)=>n.reduce(Rk),fg=new Set(["none","hidden"]);function Ck(n,t){return fg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function xk(n,t){return e=>ae(n,t,e)}function Xy(n){return typeof n=="number"?xk:typeof n=="string"?xy(n)?Sf:tn.test(n)?hS:Vk:Array.isArray(n)?GR:typeof n=="object"?tn.test(n)?hS:Ik:Sf}function GR(n,t){const e=[...n],r=e.length,a=n.map((l,c)=>Xy(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)e[c]=a[c](l);return e}}function Ik(n,t){const e={...n,...t},r={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(r[a]=Xy(n[a])(n[a],t[a]));return a=>{for(const l in r)e[l]=r[l](a);return e}}function Dk(n,t){var e;const r=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],d=n.indexes[c][a[c]],m=(e=n.values[d])!==null&&e!==void 0?e:0;r[l]=m,a[c]++}return r}const Vk=(n,t)=>{const e=ws.createTransformer(t),r=Lu(n),a=Lu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?fg.has(n)&&!a.values.length||fg.has(t)&&!r.values.length?Ck(n,t):nc(GR(Dk(r,a),a.values),e):Sf(n,t)};function KR(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ae(n,t,e):Xy(n)(n,t)}const Pk=5;function $R(n,t,e){const r=Math.max(t-Pk,0);return TR(e-n(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fS=.001;function Nk({duration:n=me.duration,bounce:t=me.bounce,velocity:e=me.velocity,mass:r=me.mass}){let a,l,c=1-t;c=mr(me.minDamping,me.maxDamping,c),n=mr(me.minDuration,me.maxDuration,lr(n)),c<1?(a=p=>{const v=p*c,T=v*n,S=v-e,b=dg(p,c),x=Math.exp(-T);return fS-S/b*x},l=p=>{const T=p*c*n,S=T*e+e,b=Math.pow(c,2)*Math.pow(p,2)*n,x=Math.exp(-T),N=dg(Math.pow(p,2),c);return(-a(p)+fS>0?-1:1)*((S-b)*x)/N}):(a=p=>{const v=Math.exp(-p*n),T=(p-e)*n+1;return-.001+v*T},l=p=>{const v=Math.exp(-p*n),T=(e-p)*(n*n);return v*T});const d=5/n,m=Mk(a,l,d);if(n=or(n),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:n};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:n}}}const Ok=12;function Mk(n,t,e){let r=e;for(let a=1;a<Ok;a++)r=r-n(r)/t(r);return r}function dg(n,t){return n*Math.sqrt(1-t*t)}const Lk=["duration","bounce"],kk=["stiffness","damping","mass"];function dS(n,t){return t.some(e=>n[e]!==void 0)}function Uk(n){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...n};if(!dS(n,kk)&&dS(n,Lk))if(n.visualDuration){const e=n.visualDuration,r=2*Math.PI/(e*1.2),a=r*r,l=2*mr(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const e=Nk(n);t={...t,...e,mass:me.mass},t.isResolvedFromDuration=!0}return t}function QR(n=me.visualDuration,t=me.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:a}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:T,velocity:S,isResolvedFromDuration:b}=Uk({...e,velocity:-lr(e.velocity||0)}),x=S||0,N=p/(2*Math.sqrt(m*v)),P=c-l,U=lr(Math.sqrt(m/v)),$=Math.abs(P)<5;r||(r=$?me.restSpeed.granular:me.restSpeed.default),a||(a=$?me.restDelta.granular:me.restDelta.default);let q;if(N<1){const Z=dg(U,N);q=ut=>{const O=Math.exp(-N*U*ut);return c-O*((x+N*U*P)/Z*Math.sin(Z*ut)+P*Math.cos(Z*ut))}}else if(N===1)q=Z=>c-Math.exp(-U*Z)*(P+(x+U*P)*Z);else{const Z=U*Math.sqrt(N*N-1);q=ut=>{const O=Math.exp(-N*U*ut),C=Math.min(Z*ut,300);return c-O*((x+N*U*P)*Math.sinh(C)+Z*P*Math.cosh(C))/Z}}const nt={calculatedDuration:b&&T||null,next:Z=>{const ut=q(Z);if(b)d.done=Z>=T;else{let O=0;N<1&&(O=Z===0?or(x):$R(q,Z,ut));const C=Math.abs(O)<=r,R=Math.abs(c-ut)<=a;d.done=C&&R}return d.value=d.done?c:ut,d},toString:()=>{const Z=Math.min(fR(nt),sg),ut=dR(O=>nt.next(Z*O).value,Z,30);return Z+"ms "+ut}};return nt}function mS({keyframes:n,velocity:t=0,power:e=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:v}){const T=n[0],S={done:!1,value:T},b=C=>d!==void 0&&C<d||m!==void 0&&C>m,x=C=>d===void 0?m:m===void 0||Math.abs(d-C)<Math.abs(m-C)?d:m;let N=e*t;const P=T+N,U=c===void 0?P:c(P);U!==P&&(N=U-T);const $=C=>-N*Math.exp(-C/r),q=C=>U+$(C),nt=C=>{const R=$(C),I=q(C);S.done=Math.abs(R)<=p,S.value=S.done?U:I};let Z,ut;const O=C=>{b(S.value)&&(Z=C,ut=QR({keyframes:[S.value,x(S.value)],velocity:$R(q,C,S.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return O(0),{calculatedDuration:null,next:C=>{let R=!1;return!ut&&Z===void 0&&(R=!0,nt(C),O(C)),Z!==void 0&&C>=Z?ut.next(C-Z):(!R&&nt(C),S)}}}const jk=ec(.42,0,1,1),Bk=ec(0,0,.58,1),YR=ec(.42,0,.58,1),zk=n=>Array.isArray(n)&&typeof n[0]!="number",Fk={linear:xn,easeIn:jk,easeInOut:YR,easeOut:Bk,circIn:Gy,circInOut:IR,circOut:xR,backIn:qy,backInOut:RR,backOut:AR,anticipate:CR},pS=n=>{if(jy(n)){$A(n.length===4);const[t,e,r,a]=n;return ec(t,e,r,a)}else if(typeof n=="string")return Fk[n];return n};function Hk(n,t,e){const r=[],a=e||KR,l=n.length-1;for(let c=0;c<l;c++){let d=a(n[c],n[c+1]);if(t){const m=Array.isArray(t)?t[c]||xn:t;d=nc(m,d)}r.push(d)}return r}function qk(n,t,{clamp:e=!0,ease:r,mixer:a}={}){const l=n.length;if($A(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=Hk(t,r,a),m=d.length,p=v=>{if(c&&v<n[0])return t[0];let T=0;if(m>1)for(;T<n.length-2&&!(v<n[T+1]);T++);const S=Uo(n[T],n[T+1],v);return d[T](S)};return e?v=>p(mr(n[0],n[l-1],v)):p}function Gk(n,t){const e=n[n.length-1];for(let r=1;r<=t;r++){const a=Uo(0,t,r);n.push(ae(e,1,a))}}function Kk(n){const t=[0];return Gk(t,n.length-1),t}function $k(n,t){return n.map(e=>e*t)}function Qk(n,t){return n.map(()=>t||YR).splice(0,n.length-1)}function bf({duration:n=300,keyframes:t,times:e,ease:r="easeInOut"}){const a=zk(r)?r.map(pS):pS(r),l={done:!1,value:t[0]},c=$k(e&&e.length===t.length?e:Kk(t),n),d=qk(c,t,{ease:Array.isArray(a)?a:Qk(t,a)});return{calculatedDuration:n,next:m=>(l.value=d(m),l.done=m>=n,l)}}const Yk=n=>{const t=({timestamp:e})=>n(e);return{start:()=>ee.update(t,!0),stop:()=>bs(t),now:()=>Ge.isProcessing?Ge.timestamp:Ci.now()}},Xk={decay:mS,inertia:mS,tween:bf,keyframes:bf,spring:QR},Wk=n=>n/100;class Wy extends qR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:e,motionValue:r,element:a,keyframes:l}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Yy,d=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,d,e,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,d=Uy(e)?e:Xk[e]||bf;let m,p;d!==bf&&typeof t[0]!="number"&&(m=nc(Wk,KR(t[0],t[1])),t=[0,100]);const v=d({...this.options,keyframes:t});l==="mirror"&&(p=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=fR(v));const{calculatedDuration:T}=v,S=T+a,b=S*(r+1)-a;return{generator:v,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:T,resolvedDuration:S,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:p,totalDuration:v,resolvedDuration:T}=r;if(this.startTime===null)return l.next(0);const{delay:S,repeat:b,repeatType:x,repeatDelay:N,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const U=this.currentTime-S*(this.speed>=0?1:-1),$=this.speed>=0?U<0:U>v;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let q=this.currentTime,nt=l;if(b){const C=Math.min(this.currentTime,v)/T;let R=Math.floor(C),I=C%1;!I&&C>=1&&(I=1),I===1&&R--,R=Math.min(R,b+1),!!(R%2)&&(x==="reverse"?(I=1-I,N&&(I-=N/T)):x==="mirror"&&(nt=c)),q=mr(0,1,I)*T}const Z=$?{done:!1,value:m[0]}:nt.next(q);d&&(Z.value=d(Z.value));let{done:ut}=Z;!$&&p!==null&&(ut=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return O&&a!==void 0&&(Z.value=td(m,this.options,a)),P&&P(Z.value),O&&this.finish(),Z}get duration(){const{resolved:t}=this;return t?lr(t.calculatedDuration):0}get time(){return lr(this.currentTime)}set time(t){t=or(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=lr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Yk,onPlay:e,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),e&&e();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Zk=new Set(["opacity","clipPath","filter","transform"]);function Jk(n,t,e,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:m}={}){const p={[t]:e};m&&(p.offset=m);const v=pR(d,a);return Array.isArray(v)&&(p.easing=v),n.animate(p,{delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const tU=Sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wf=10,eU=2e4;function nU(n){return Uy(n.type)||n.type==="spring"||!mR(n.ease)}function iU(n,t){const e=new Wy({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let l=0;for(;!r.done&&l<eU;)r=e.sample(l),a.push(r.value),l+=wf;return{times:void 0,keyframes:a,duration:l-wf,ease:"linear"}}const XR={anticipate:CR,backInOut:RR,circInOut:IR};function rU(n){return n in XR}class gS extends qR{constructor(t){super(t);const{name:e,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new HR(l,(c,d)=>this.onKeyframesResolved(c,d),e,r,a),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:r=300,times:a,ease:l,type:c,motionValue:d,name:m,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Tf()&&rU(l)&&(l=XR[l]),nU(this.options)){const{onComplete:T,onUpdate:S,motionValue:b,element:x,...N}=this.options,P=iU(t,N);t=P.keyframes,t.length===1&&(t[1]=t[0]),r=P.duration,a=P.times,l=P.ease,c="keyframes"}const v=Jk(d.owner.current,m,t,{...this.options,duration:r,times:a,ease:l});return v.startTime=p??this.calcStartTime(),this.pendingTimeline?(JE(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:T}=this.options;d.set(td(t,this.options,e)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:a,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return lr(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return lr(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.currentTime=or(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return xn;const{animation:r}=e;JE(r,t)}return xn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:r,duration:a,type:l,ease:c,times:d}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:v,onComplete:T,element:S,...b}=this.options,x=new Wy({...b,keyframes:r,duration:a,type:l,ease:c,times:d,isGenerator:!0}),N=or(this.time);p.setWithVelocity(x.sample(N-wf).value,x.sample(N).value,wf)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:r,repeatDelay:a,repeatType:l,damping:c,type:d}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return tU()&&r&&Zk.has(r)&&!m&&!p&&!a&&l!=="mirror"&&c!==0&&d!=="inertia"}}const sU={type:"spring",stiffness:500,damping:25,restSpeed:10},aU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),oU={type:"keyframes",duration:.8},lU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uU=(n,{keyframes:t})=>t.length>2?oU:ba.has(n)?n.startsWith("scale")?aU(t[1]):sU:lU;function cU({when:n,delay:t,delayChildren:e,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const Zy=(n,t,e,r={},a,l)=>c=>{const d=ky(r,n)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-or(m);let v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:l?void 0:a};cU(d)||(v={...v,...uU(n,v)}),v.duration&&(v.duration=or(v.duration)),v.repeatDelay&&(v.repeatDelay=or(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(T=!0)),T&&!l&&t.get()!==void 0){const S=td(v.keyframes,d);if(S!==void 0)return ee.update(()=>{v.onUpdate(S),v.onComplete()}),new xL([])}return!l&&gS.supports(v)?new gS(v):new Wy(v)};function hU({protectedKeys:n,needsAnimating:t},e){const r=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,r}function WR(n,t,{delay:e=0,transitionOverride:r,type:a}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:d,...m}=t;r&&(c=r);const p=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const T in m){const S=n.getValue(T,(l=n.latestValues[T])!==null&&l!==void 0?l:null),b=m[T];if(b===void 0||v&&hU(v,T))continue;const x={delay:e,...ky(c||{},T)};let N=!1;if(window.MotionHandoffAnimation){const U=ER(n);if(U){const $=window.MotionHandoffAnimation(U,T,ee);$!==null&&(x.startTime=$,N=!0)}}og(n,T),S.start(Zy(T,S,b,n.shouldReduceMotion&&_R.has(T)?{type:!1}:x,n,N));const P=S.animation;P&&p.push(P)}return d&&Promise.all(p).then(()=>{ee.update(()=>{d&&HL(n,d)})}),p}function mg(n,t,e={}){var r;const a=Ou(n,t,e.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=a||{};e.transitionOverride&&(l=e.transitionOverride);const c=a?()=>Promise.all(WR(n,a,e)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:S}=l;return fU(n,t,v+p,T,S,e)}:()=>Promise.resolve(),{when:m}=l;if(m){const[p,v]=m==="beforeChildren"?[c,d]:[d,c];return p().then(()=>v())}else return Promise.all([c(),d(e.delay)])}function fU(n,t,e=0,r=0,a=1,l){const c=[],d=(n.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(n.variantChildren).sort(dU).forEach((p,v)=>{p.notify("AnimationStart",t),c.push(mg(p,t,{...l,delay:e+m(v)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function dU(n,t){return n.sortNodePosition(t)}function mU(n,t,e={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>mg(n,l,e));r=Promise.all(a)}else if(typeof t=="string")r=mg(n,t,e);else{const a=typeof t=="function"?Ou(n,t,e.custom):t;r=Promise.all(WR(n,a,e))}return r.then(()=>{n.notify("AnimationComplete",t)})}function ZR(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0}const pU=wy.length;function JR(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?JR(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<pU;e++){const r=wy[e],a=n.props[r];(Vu(a)||a===!1)&&(t[r]=a)}return t}const gU=[...by].reverse(),yU=by.length;function vU(n){return t=>Promise.all(t.map(({animation:e,options:r})=>mU(n,e,r)))}function _U(n){let t=vU(n),e=yS(),r=!0;const a=m=>(p,v)=>{var T;const S=Ou(n,v,m==="exit"?(T=n.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(S){const{transition:b,transitionEnd:x,...N}=S;p={...p,...N,...x}}return p};function l(m){t=m(n)}function c(m){const{props:p}=n,v=JR(n.parent)||{},T=[],S=new Set;let b={},x=1/0;for(let P=0;P<yU;P++){const U=gU[P],$=e[U],q=p[U]!==void 0?p[U]:v[U],nt=Vu(q),Z=U===m?$.isActive:null;Z===!1&&(x=P);let ut=q===v[U]&&q!==p[U]&&nt;if(ut&&r&&n.manuallyAnimateOnMount&&(ut=!1),$.protectedKeys={...b},!$.isActive&&Z===null||!q&&!$.prevProp||Zf(q)||typeof q=="boolean")continue;const O=TU($.prevProp,q);let C=O||U===m&&$.isActive&&!ut&&nt||P>x&&nt,R=!1;const I=Array.isArray(q)?q:[q];let k=I.reduce(a(U),{});Z===!1&&(k={});const{prevResolvedValues:F={}}=$,V={...F,...k},Wt=ft=>{C=!0,S.has(ft)&&(R=!0,S.delete(ft)),$.needsAnimating[ft]=!0;const dt=n.getValue(ft);dt&&(dt.liveStyle=!1)};for(const ft in V){const dt=k[ft],Vt=F[ft];if(b.hasOwnProperty(ft))continue;let M=!1;rg(dt)&&rg(Vt)?M=!ZR(dt,Vt):M=dt!==Vt,M?dt!=null?Wt(ft):S.add(ft):dt!==void 0&&S.has(ft)?Wt(ft):$.protectedKeys[ft]=!0}$.prevProp=q,$.prevResolvedValues=k,$.isActive&&(b={...b,...k}),r&&n.blockInitialAnimation&&(C=!1),C&&(!(ut&&O)||R)&&T.push(...I.map(ft=>({animation:ft,options:{type:U}})))}if(S.size){const P={};if(typeof p.initial!="boolean"){const U=Ou(n,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(P.transition=U.transition)}S.forEach(U=>{const $=n.getBaseTarget(U),q=n.getValue(U);q&&(q.liveStyle=!0),P[U]=$??null}),T.push({animation:P})}let N=!!T.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(N=!1),r=!1,N?t(T):Promise.resolve()}function d(m,p){var v;if(e[m].isActive===p)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(S=>{var b;return(b=S.animationState)===null||b===void 0?void 0:b.setActive(m,p)}),e[m].isActive=p;const T=c(m);for(const S in e)e[S].protectedKeys={};return T}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>e,reset:()=>{e=yS(),r=!0}}}function TU(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!ZR(t,n):!1}function la(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yS(){return{animate:la(!0),whileInView:la(),whileHover:la(),whileTap:la(),whileDrag:la(),whileFocus:la(),exit:la()}}class Is{constructor(t){this.isMounted=!1,this.node=t}update(){}}class EU extends Is{constructor(t){super(t),t.animationState||(t.animationState=_U(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let SU=0;class bU extends Is{constructor(){super(...arguments),this.id=SU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wU={animation:{Feature:EU},exit:{Feature:bU}};function ku(n,t,e,r={passive:!0}){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e)}function ic(n){return{point:{x:n.pageX,y:n.pageY}}}const AU=n=>t=>By(t)&&n(t,ic(t));function So(n,t,e,r){return ku(n,t,AU(e),r)}function t1({top:n,left:t,right:e,bottom:r}){return{x:{min:t,max:e},y:{min:n,max:r}}}function RU({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function CU(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:r.y,right:r.x}}const e1=1e-4,xU=1-e1,IU=1+e1,n1=.01,DU=0-n1,VU=0+n1;function fn(n){return n.max-n.min}function PU(n,t,e){return Math.abs(n-t)<=e}function vS(n,t,e,r=.5){n.origin=r,n.originPoint=ae(t.min,t.max,n.origin),n.scale=fn(e)/fn(t),n.translate=ae(e.min,e.max,n.origin)-n.originPoint,(n.scale>=xU&&n.scale<=IU||isNaN(n.scale))&&(n.scale=1),(n.translate>=DU&&n.translate<=VU||isNaN(n.translate))&&(n.translate=0)}function Tu(n,t,e,r){vS(n.x,t.x,e.x,r?r.originX:void 0),vS(n.y,t.y,e.y,r?r.originY:void 0)}function _S(n,t,e){n.min=e.min+t.min,n.max=n.min+fn(t)}function NU(n,t,e){_S(n.x,t.x,e.x),_S(n.y,t.y,e.y)}function TS(n,t,e){n.min=t.min-e.min,n.max=n.min+fn(t)}function Eu(n,t,e){TS(n.x,t.x,e.x),TS(n.y,t.y,e.y)}const ES=()=>({translate:0,scale:1,origin:0,originPoint:0}),bo=()=>({x:ES(),y:ES()}),SS=()=>({min:0,max:0}),ye=()=>({x:SS(),y:SS()});function $n(n){return[n("x"),n("y")]}function bp(n){return n===void 0||n===1}function pg({scale:n,scaleX:t,scaleY:e}){return!bp(n)||!bp(t)||!bp(e)}function ha(n){return pg(n)||i1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function i1(n){return bS(n.x)||bS(n.y)}function bS(n){return n&&n!=="0%"}function Af(n,t,e){const r=n-e,a=t*r;return e+a}function wS(n,t,e,r,a){return a!==void 0&&(n=Af(n,a,r)),Af(n,e,r)+t}function gg(n,t=0,e=1,r,a){n.min=wS(n.min,t,e,r,a),n.max=wS(n.max,t,e,r,a)}function r1(n,{x:t,y:e}){gg(n.x,t.translate,t.scale,t.originPoint),gg(n.y,e.translate,e.scale,e.originPoint)}const AS=.999999999999,RS=1.0000000000001;function OU(n,t,e,r=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=e[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ao(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,r1(n,c)),r&&ha(l.latestValues)&&Ao(n,l.latestValues))}t.x<RS&&t.x>AS&&(t.x=1),t.y<RS&&t.y>AS&&(t.y=1)}function wo(n,t){n.min=n.min+t,n.max=n.max+t}function CS(n,t,e,r,a=.5){const l=ae(n.min,n.max,a);gg(n,t,e,l,r)}function Ao(n,t){CS(n.x,t.x,t.scaleX,t.scale,t.originX),CS(n.y,t.y,t.scaleY,t.scale,t.originY)}function s1(n,t){return t1(CU(n.getBoundingClientRect(),t))}function MU(n,t,e){const r=s1(n,e),{scroll:a}=t;return a&&(wo(r.x,a.offset.x),wo(r.y,a.offset.y)),r}const xS=(n,t)=>Math.abs(n-t);function LU(n,t){const e=xS(n.x,t.x),r=xS(n.y,t.y);return Math.sqrt(e**2+r**2)}class a1{constructor(t,e,{transformPagePoint:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ap(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=LU(v.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:b}=v,{timestamp:x}=Ge;this.history.push({...b,timestamp:x});const{onStart:N,onMove:P}=this.handlers;T||(N&&N(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,T)=>{if(v.target instanceof Element&&v.target.hasPointerCapture&&v.pointerId!==void 0)try{if(!v.target.hasPointerCapture(v.pointerId))return}catch{}this.lastMoveEvent=v,this.lastMoveEventInfo=wp(T,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(v,T)=>{Ef(v,"release"),this.end();const{onEnd:S,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Ap(v.type==="pointercancel"||v.type==="lostpointercapture"?this.lastMoveEventInfo:wp(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,N),b&&b(v,N)},!By(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=r;const l=ic(t),c=wp(l,this.transformPagePoint),{point:d}=c,{timestamp:m}=Ge;this.history=[{...d,timestamp:m}];const{onSessionStart:p}=e;p&&p(t,Ap(c,this.history)),Ef(t,"set"),this.removeListeners=nc(So(t.currentTarget,"pointermove",this.handlePointerMove),So(t.currentTarget,"pointerup",this.handlePointerUp),So(t.currentTarget,"pointercancel",this.handlePointerUp),So(t.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bs(this.updatePoint)}}function wp(n,t){return t?{point:t(n.point)}:n}function IS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Ap({point:n},t){return{point:n,delta:IS(n,o1(t)),offset:IS(n,kU(t)),velocity:UU(t,.1)}}function kU(n){return n[0]}function o1(n){return n[n.length-1]}function UU(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,r=null;const a=o1(n);for(;e>=0&&(r=n[e],!(a.timestamp-r.timestamp>or(t)));)e--;if(!r)return{x:0,y:0};const l=lr(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function jU(n,{min:t,max:e},r){return t!==void 0&&n<t?n=r?ae(t,n,r.min):Math.max(n,t):e!==void 0&&n>e&&(n=r?ae(e,n,r.max):Math.min(n,e)),n}function DS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function BU(n,{top:t,left:e,bottom:r,right:a}){return{x:DS(n.x,e,a),y:DS(n.y,t,r)}}function VS(n,t){let e=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,r]=[r,e]),{min:e,max:r}}function zU(n,t){return{x:VS(n.x,t.x),y:VS(n.y,t.y)}}function FU(n,t){let e=.5;const r=fn(n),a=fn(t);return a>r?e=Uo(t.min,t.max-r,n.min):r>a&&(e=Uo(n.min,n.max-a,t.min)),mr(0,1,e)}function HU(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const yg=.35;function qU(n=yg){return n===!1?n=0:n===!0&&(n=yg),{x:PS(n,"left","right"),y:PS(n,"top","bottom")}}function PS(n,t,e){return{min:NS(n,t),max:NS(n,e)}}function NS(n,t){return typeof n=="number"?n:n[t]||0}const GU=new WeakMap;class KU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(ic(v).point)},l=(v,T)=>{const{drag:S,dragPropagation:b,onDragStart:x}=this.getProps();if(S&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UL(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(P=>{let U=this.getAxisMotionValue(P).get()||0;if(Ri.test(U)){const{projection:$}=this.visualElement;if($&&$.layout){const q=$.layout.layoutBox[P];q&&(U=fn(q)*(parseFloat(U)/100))}}this.originPoint[P]=U}),x&&ee.postRender(()=>x(v,T)),og(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(v,T)=>{const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:x,onDrag:N}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:P}=T;if(b&&this.currentDirection===null){this.currentDirection=$U(P),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",T.point,P),this.updateAxis("y",T.point,P),this.visualElement.render(),N&&N(v,T)},d=(v,T)=>this.stop(v,T),m=()=>$n(v=>{var T;return this.getAnimationState(v)==="paused"&&((T=this.getAxisMotionValue(v).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new a1(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p})}stop(t,e){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=e;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ee.postRender(()=>l(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){const{drag:a}=this.getProps();if(!r||!Mh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=jU(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;e&&To(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=BU(a.layoutBox,e):this.constraints=!1,this.elastic=qU(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&$n(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=HU(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!To(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=MU(r,a.root,this.visualElement.getTransformPagePoint());let c=zU(a.layout.layoutBox,l);if(e){const d=e(RU(c));this.hasMutatedConstraints=!!d,d&&(c=t1(d))}return c}startAnimation(t){const{drag:e,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=$n(v=>{if(!Mh(v,e,this.currentDirection))return;let T=m&&m[v]||{};c&&(T={min:0,max:0});const S=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:r?t[v]:0,bounceStiffness:S,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(v,x)});return Promise.all(p).then(d)}startAxisValueAnimation(t,e){const r=this.getAxisMotionValue(t);return og(this.visualElement,t),r.start(Zy(t,r,0,e,this.visualElement,!1))}stopAnimation(){$n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$n(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[e];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$n(e=>{const{drag:r}=this.getProps();if(!Mh(e,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[e];l.set(t[e]-ae(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!To(e)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$n(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=FU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$n(c=>{if(!Mh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(ae(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;GU.set(this.visualElement,this);const t=this.visualElement.current,e=So(t,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();To(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ee.read(r);const c=ku(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&($n(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=m[v].translate,T.set(T.get()+m[v].translate))}),this.visualElement.render())});return()=>{c(),e(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=yg,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Mh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function $U(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class QU extends Is{constructor(t){super(t),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new KU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const OS=n=>(t,e)=>{n&&ee.postRender(()=>n(t,e))};class YU extends Is{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(t){this.session=new a1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:OS(t),onStart:OS(e),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ee.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=So(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MS(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const lu={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(Et.test(n))n=parseFloat(n);else return n;const e=MS(n,t.target.x),r=MS(n,t.target.y);return`${e}% ${r}%`}},XU={correct:(n,{treeScale:t,projectionDelta:e})=>{const r=n,a=ws.parse(n);if(a.length>5)return r;const l=ws.createTransformer(n),c=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,m=e.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=ae(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class WU extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;eL(ZU),l&&(e.group&&e.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Xh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==e||e===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ee.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ry.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function l1(n){const[t,e]=PM(),r=L.useContext(GA);return z.jsx(WU,{...n,layoutGroup:r,switchLayoutGroup:L.useContext(JA),isPresent:t,safeToRemove:e})}const ZU={borderRadius:{...lu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lu,borderTopRightRadius:lu,borderBottomLeftRadius:lu,borderBottomRightRadius:lu,boxShadow:XU};function JU(n,t,e){const r=rn(n)?n:Mu(n);return r.start(Zy("",r,t,e)),r.animation}function t4(n){return n instanceof SVGElement&&n.tagName!=="svg"}const e4=(n,t)=>n.depth-t.depth;class n4{constructor(){this.children=[],this.isDirty=!1}add(t){zy(this.children,t),this.isDirty=!0}remove(t){Fy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(e4),this.isDirty=!1,this.children.forEach(t)}}function i4(n,t){const e=Ci.now(),r=({timestamp:a})=>{const l=a-e;l>=t&&(bs(r),n(l-t))};return ee.read(r,!0),()=>bs(r)}const u1=["TopLeft","TopRight","BottomLeft","BottomRight"],r4=u1.length,LS=n=>typeof n=="string"?parseFloat(n):n,kS=n=>typeof n=="number"||Et.test(n);function s4(n,t,e,r,a,l){a?(n.opacity=ae(0,e.opacity!==void 0?e.opacity:1,a4(r)),n.opacityExit=ae(t.opacity!==void 0?t.opacity:1,0,o4(r))):l&&(n.opacity=ae(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,r));for(let c=0;c<r4;c++){const d=`border${u1[c]}Radius`;let m=US(t,d),p=US(e,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||kS(m)===kS(p)?(n[d]=Math.max(ae(LS(m),LS(p),r),0),(Ri.test(p)||Ri.test(m))&&(n[d]+="%")):n[d]=p}(t.rotate||e.rotate)&&(n.rotate=ae(t.rotate||0,e.rotate||0,r))}function US(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const a4=c1(0,.5,xR),o4=c1(.5,.95,xn);function c1(n,t,e){return r=>r<n?0:r>t?1:e(Uo(n,t,r))}function jS(n,t){n.min=t.min,n.max=t.max}function Kn(n,t){jS(n.x,t.x),jS(n.y,t.y)}function BS(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function zS(n,t,e,r,a){return n-=t,n=Af(n,1/e,r),a!==void 0&&(n=Af(n,1/a,r)),n}function l4(n,t=0,e=1,r=.5,a,l=n,c=n){if(Ri.test(t)&&(t=parseFloat(t),t=ae(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ae(l.min,l.max,r);n===l&&(d-=t),n.min=zS(n.min,t,e,d,a),n.max=zS(n.max,t,e,d,a)}function FS(n,t,[e,r,a],l,c){l4(n,t[e],t[r],t[a],t.scale,l,c)}const u4=["x","scaleX","originX"],c4=["y","scaleY","originY"];function HS(n,t,e,r){FS(n.x,t,u4,e?e.x:void 0,r?r.x:void 0),FS(n.y,t,c4,e?e.y:void 0,r?r.y:void 0)}function qS(n){return n.translate===0&&n.scale===1}function h1(n){return qS(n.x)&&qS(n.y)}function GS(n,t){return n.min===t.min&&n.max===t.max}function h4(n,t){return GS(n.x,t.x)&&GS(n.y,t.y)}function KS(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function f1(n,t){return KS(n.x,t.x)&&KS(n.y,t.y)}function $S(n){return fn(n.x)/fn(n.y)}function QS(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class f4{constructor(){this.members=[]}add(t){zy(this.members,t),t.scheduleRender()}remove(t){if(Fy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let r;for(let a=e;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,e){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d4(n,t,e){let r="";const a=n.x.translate/t.x,l=n.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:v,rotateX:T,rotateY:S,skewX:b,skewY:x}=e;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),S&&(r+=`rotateY(${S}deg) `),b&&(r+=`skewX(${b}deg) `),x&&(r+=`skewY(${x}deg) `)}const d=n.x.scale*t.x,m=n.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Rp=["","X","Y","Z"],m4={visibility:"hidden"},YS=1e3;let p4=0;function Cp(n,t,e,r){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),r&&(r[n]=0))}function d1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=ER(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ee,!(a||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&d1(r)}function m1({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=p4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(v4),this.nodes.forEach(b4),this.nodes.forEach(w4),this.nodes.forEach(_4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new n4)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Hy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t4(c),this.instance=c;const{layoutId:m,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||m)&&(this.isLayoutDirty=!0),n){let T;const S=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=i4(S,250),Xh.hasAnimatedSinceResize&&(Xh.hasAnimatedSinceResize=!1,this.nodes.forEach(WS))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||p)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:S,hasRelativeLayoutChanged:b,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||v.getDefaultTransition()||I4,{onLayoutAnimationStart:P,onLayoutAnimationComplete:U}=v.getProps(),$=!this.targetLayout||!f1(this.targetLayout,x),q=!S&&b;if(this.options.layoutRoot||this.resumeFrom||q||S&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,q);const nt={...ky(N,"layout"),onPlay:P,onComplete:U};(v.shouldReduceMotion||this.options.layoutRoot)&&(nt.delay=0,nt.type=!1),this.startAnimation(nt)}else S||WS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XS);return}this.isUpdating||this.nodes.forEach(E4),this.isUpdating=!1,this.nodes.forEach(S4),this.nodes.forEach(g4),this.nodes.forEach(y4),this.clearAllSnapshots();const d=Ci.now();Ge.delta=mr(0,1e3/60,d-Ge.timestamp),Ge.timestamp=d,Ge.isProcessing=!0,vp.update.process(Ge),vp.preRender.process(Ge),vp.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T4),this.sharedNodes.forEach(R4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fn(this.snapshot.measuredBox.x)&&!fn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!h1(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&(d||ha(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),D4(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return ye();const m=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(V4))){const{scroll:v}=this.root;v&&(wo(m.x,v.offset.x),wo(m.y,v.offset.y))}return m}removeElementScroll(c){var d;const m=ye();if(Kn(m,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return m;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:T,options:S}=v;v!==this.root&&T&&S.layoutScroll&&(T.wasRoot&&Kn(m,c),wo(m.x,T.offset.x),wo(m.y,T.offset.y))}return m}applyTransform(c,d=!1){const m=ye();Kn(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ao(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ha(v.latestValues)&&Ao(m,v.latestValues)}return ha(this.latestValues)&&Ao(m,this.latestValues),m}removeTransform(c){const d=ye();Kn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ha(p.latestValues))continue;pg(p.latestValues)&&p.updateSnapshot();const v=ye(),T=p.measurePageBox();Kn(v,T),HS(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ha(this.latestValues)&&HS(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:S}=this.options;if(!(!this.layout||!(T||S))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),r1(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Eu(this.relativeTargetOrigin,this.target,b.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pg(this.parent.latestValues)||i1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(p=!1),p)return;const{layout:v,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||T))return;Kn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,b=this.treeScale.y;OU(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ye());const{target:x}=d;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BS(this.prevProjectionDelta.x,this.projectionDelta.x),BS(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==S||this.treeScale.y!==b||!QS(this.projectionDelta.x,this.prevProjectionDelta.x)||!QS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bo(),this.projectionDelta=bo(),this.projectionDeltaWithTransform=bo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},T=bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ye(),b=m?m.source:void 0,x=this.layout?this.layout.source:void 0,N=b!==x,P=this.getStack(),U=!P||P.members.length<=1,$=!!(N&&!U&&this.options.crossfade===!0&&!this.path.some(x4));this.animationProgress=0;let q;this.mixTargetDelta=nt=>{const Z=nt/1e3;ZS(T.x,c.x,Z),ZS(T.y,c.y,Z),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C4(this.relativeTarget,this.relativeTargetOrigin,S,Z),q&&h4(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=ye()),Kn(q,this.relativeTarget)),N&&(this.animationValues=v,s4(v,p,this.latestValues,Z,$,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{Xh.hasAnimatedSinceResize=!0,this.currentAnimation=JU(0,YS,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&p1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ye();const T=fn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const S=fn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+S}Kn(d,m),Ao(d,v),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new f4),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Cp("z",c,p,this.animationValues);for(let v=0;v<Rp.length;v++)Cp(`rotate${Rp[v]}`,c,p,this.animationValues),Cp(`skew${Rp[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}getProjectionStyles(c){var d,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return m4;const p={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Qh(c==null?void 0:c.pointerEvents)||"",p.transform=v?v(this.latestValues,""):"none",p;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Qh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(N.transform=v?v({},""):"none",this.hasProjected=!1),N}const S=T.animationValues||T.latestValues;this.applyTransformsToTarget(),p.transform=d4(this.projectionDeltaWithTransform,this.treeScale,S),v&&(p.transform=v(S,p.transform));const{x:b,y:x}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,T.animationValues?p.opacity=T===this?(m=(d=S.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:p.opacity=T===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const N in Pu){if(S[N]===void 0)continue;const{correct:P,applyTo:U,isCSSVariable:$}=Pu[N],q=p.transform==="none"?S[N]:P(S[N],T);if(U){const nt=U.length;for(let Z=0;Z<nt;Z++)p[U[Z]]=q}else $?this.options.visualElement.renderState.vars[N]=q:p[N]=q}return this.options.layoutId&&(p.pointerEvents=T===this?Qh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(XS),this.root.sharedNodes.clear()}}}function g4(n){n.updateLayout()}function y4(n){var t;const e=((t=n.resumeFrom)===null||t===void 0?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:l}=n.options,c=e.source!==n.layout.source;l==="size"?$n(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],b=fn(S);S.min=r[T].min,S.max=S.min+b}):p1(l,e.layoutBox,r)&&$n(T=>{const S=c?e.measuredBox[T]:e.layoutBox[T],b=fn(r[T]);S.max=S.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[T].max=n.relativeTarget[T].min+b)});const d=bo();Tu(d,r,e.layoutBox);const m=bo();c?Tu(m,n.applyTransform(a,!0),e.measuredBox):Tu(m,r,e.layoutBox);const p=!h1(d);let v=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:S,layout:b}=T;if(S&&b){const x=ye();Eu(x,e.layoutBox,S.layoutBox);const N=ye();Eu(N,r,b.layoutBox),f1(x,N)||(v=!0),T.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=x,n.relativeParent=T)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function v4(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function _4(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function T4(n){n.clearSnapshot()}function XS(n){n.clearMeasurements()}function E4(n){n.isLayoutDirty=!1}function S4(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function WS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function b4(n){n.resolveTargetDelta()}function w4(n){n.calcProjection()}function A4(n){n.resetSkewAndRotation()}function R4(n){n.removeLeadSnapshot()}function ZS(n,t,e){n.translate=ae(t.translate,0,e),n.scale=ae(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function JS(n,t,e,r){n.min=ae(t.min,e.min,r),n.max=ae(t.max,e.max,r)}function C4(n,t,e,r){JS(n.x,t.x,e.x,r),JS(n.y,t.y,e.y,r)}function x4(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const I4={duration:.45,ease:[.4,0,.1,1]},tb=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),eb=tb("applewebkit/")&&!tb("chrome/")?Math.round:xn;function nb(n){n.min=eb(n.min),n.max=eb(n.max)}function D4(n){nb(n.x),nb(n.y)}function p1(n,t,e){return n==="position"||n==="preserve-aspect"&&!PU($S(t),$S(e),.2)}function V4(n){var t;return n!==n.root&&((t=n.scroll)===null||t===void 0?void 0:t.wasRoot)}const P4=m1({attachResizeListener:(n,t)=>ku(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xp={current:void 0},g1=m1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!xp.current){const n=new P4({});n.mount(window),n.setOptions({layoutScroll:!0}),xp.current=n}return xp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),N4={pan:{Feature:YU},drag:{Feature:QU,ProjectionNode:g1,MeasureLayout:l1}};function ib(n,t,e){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=r[a];l&&ee.postRender(()=>l(t,ic(t)))}class O4 extends Is{mount(){const{current:t}=this.node;t&&(this.unmount=PL(t,(e,r)=>(ib(this.node,r,"Start"),a=>ib(this.node,a,"End"))))}unmount(){}}class M4 extends Is{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rb(n,t,e){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=r[a];l&&ee.postRender(()=>l(t,ic(t)))}class L4 extends Is{mount(){const{current:t}=this.node;t&&(this.unmount=LL(t,(e,r)=>(rb(this.node,r,"Start"),(a,{success:l})=>rb(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vg=new WeakMap,Ip=new WeakMap,k4=n=>{const t=vg.get(n.target);t&&t(n)},U4=n=>{n.forEach(k4)};function j4({root:n,...t}){const e=n||document;Ip.has(e)||Ip.set(e,{});const r=Ip.get(e),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(U4,{root:n,...t})),r[a]}function B4(n,t,e){const r=j4(t);return vg.set(n,e),r.observe(n),()=>{vg.delete(n),r.unobserve(n)}}const z4={some:0,all:1};class F4 extends Is{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:a="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:z4[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),S=p?v:T;S&&S(m)};return B4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(H4(t,e))&&this.startObserver()}unmount(){}}function H4({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const q4={inView:{Feature:F4},tap:{Feature:L4},focus:{Feature:M4},hover:{Feature:O4}},G4={layout:{ProjectionNode:g1,MeasureLayout:l1}},_g={current:null},y1={current:!1};function K4(){if(y1.current=!0,!!Ey)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>_g.current=n.matches;n.addListener(t),t()}else _g.current=!1}const $4=[...FR,tn,ws],Q4=n=>$4.find(zR(n)),Y4=new WeakMap;function X4(n,t,e){for(const r in t){const a=t[r],l=e[r];if(rn(a))n.addValue(r,a);else if(rn(l))n.addValue(r,Mu(a,{owner:n}));else if(l!==a)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(r);n.addValue(r,Mu(c!==void 0?c:a,{owner:n}))}}for(const r in e)t[r]===void 0&&n.removeValue(r);return t}const sb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class W4{scrapeMotionValuesFromProps(t,e,r){return{}}constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ci.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ee.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:v}=c;this.onUpdate=v,this.latestValues=m,this.baseTarget={...m},this.initialValues=e.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Jf(e),this.isVariantNode=WA(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...S}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in S){const x=S[b];m[b]!==void 0&&rn(x)&&x.set(m[b],!1)}}mount(t){this.current=t,Y4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,r)=>this.bindToMotionValue(r,e)),y1.current||K4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_g.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bs(this.notifyUpdate),bs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ba.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jo){const e=jo[t];if(!e)continue;const{isEnabled:r,Feature:a}=e;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let r=0;r<sb.length;r++){const a=sb[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=X4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const r=this.values.get(t);e!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&e!==void 0&&(r=Mu(e===null?void 0:e,{owner:this}),this.addValue(t,r)),r}readValue(t,e){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(jR(a)||DR(a))?a=parseFloat(a):!Q4(a)&&ws.test(e)&&(a=LR(t,e)),this.setBaseTarget(t,rn(a)?a.get():a)),rn(a)?a.get():a}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const c=My(this.props,r,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);c&&(a=c[t])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!rn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Hy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class v1 extends W4{constructor(){super(...arguments),this.KeyframeResolver=HR}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Z4(n){return window.getComputedStyle(n)}class J4 extends v1{constructor(){super(...arguments),this.type="html",this.renderInstance=lR}readValueFromInstance(t,e){if(ba.has(e)){const r=Qy(e);return r&&r.default||0}else{const r=Z4(t),a=(Cy(e)?r.getPropertyValue(e):r[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return s1(t,e)}build(t,e,r){Dy(t,e,r.transformTemplate)}scrapeMotionValuesFromProps(t,e,r){return Ly(t,e,r)}}class t9 extends v1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&oR(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ba.has(e)){const r=Qy(e);return r&&r.default||0}return e=uR.has(e)?e:Ay(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,r){return hR(t,e,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&ee.postRender(this.updateDimensions)}build(t,e,r){Ny(t,e,this.isSVGTag,r.transformTemplate)}renderInstance(t,e,r,a){cR(t,e,r,a)}mount(t){this.isSVGTag=Oy(t.tagName),super.mount(t)}}const e9=(n,t)=>Py(n)?new t9(t):new J4(t,{allowProjection:n!==L.Fragment}),n9=AL({...wU,...q4,...N4,...G4},e9),ns=zM(n9);function i9(){return z.jsxs("div",{className:"relative flex items-center justify-center min-h-screen bg-white text-gray-900 overflow-hidden",children:[z.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[z.jsx("div",{className:"absolute w-96 h-96 bg-red-300 opacity-20 rounded-full blur-[120px] top-20 left-10 animate-pulse"}),z.jsx("div",{className:"absolute w-80 h-80 bg-red-400 opacity-10 rounded-full blur-[100px] bottom-16 right-16 animate-pulse"})]}),z.jsxs(ns.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"relative z-10 bg-white/60 backdrop-blur-lg rounded-3xl shadow-2xl p-12 text-center max-w-3xl border border-white/40",children:[z.jsxs(ns.h1,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"text-5xl sm:text-7xl font-extrabold tracking-tight text-gray-900 drop-shadow-lg",children:["Find The Best ",z.jsx("br",{}),z.jsx("span",{className:"text-red-500",children:"Professors"})," & ",z.jsx("span",{className:"text-red-400",children:"Courses"})]}),z.jsx(ns.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut",delay:.3},className:"mt-6 text-lg font-medium text-gray-700 sm:text-xl",children:"Get real student insights, rate courses & professors, and explore the best classes at RHIT."}),z.jsxs(ns.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.5},className:"mt-10 flex flex-wrap items-center justify-center gap-6",children:[z.jsx(An,{to:"/courses",children:z.jsx(ns.button,{whileHover:{scale:1.1,boxShadow:"0px 0px 15px rgba(239, 68, 68, 0.4)"},whileTap:{scale:.95},className:"rounded-lg bg-red-500 px-6 py-3 text-lg font-semibold text-white shadow-md hover:bg-red-400 transition-all",children:"📚 Browse Courses"})}),z.jsx(An,{to:"/profs",children:z.jsx(ns.button,{whileHover:{scale:1.1,boxShadow:"0px 0px 15px rgba(220, 38, 38, 0.4)"},whileTap:{scale:.95},className:"rounded-lg bg-red-600 px-6 py-3 text-lg font-semibold text-white shadow-md hover:bg-red-500 transition-all",children:"👨‍🏫 Browse Professors"})})]})]})]})}const Jy=async()=>(await Ju(Xo(xs,"courses"))).docs.map(t=>({id:t.id,...t.data()})),tv=async()=>(await Ju(Xo(xs,"profs"))).docs.map(t=>({id:t.id,...t.data()})),r9=async n=>{try{console.log(`Fetching reviews for Course ID: ${n}`);const t=zA(Xo(xs,"reviews"),FA("courseId","==",n));return(await Ju(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching reviews:",t),[]}},s9=async n=>{try{console.log(`Fetching reviews for Professor ID: ${n}`);const t=zA(Xo(xs,"reviews"),FA("professorId","==",n));return(await Ju(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching reviews:",t),[]}},a9=async n=>{try{const t=await IM(Xo(xs,"reviews"),n);return console.log("Review submitted with ID: ",t.id),t.id}catch(t){throw console.error("Error submitting review:",t),t}},o9=async()=>{try{return(await Ju(Xo(xs,"reviews"))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){return console.error("Error fetching all reviews:",n),[]}},l9=async(n,t)=>{try{const e=oy(xs,"reviews",n);await CM(e,t),console.log("Review updated successfully")}catch(e){throw console.error("Error updating review:",e),e}},u9=async n=>{try{await xM(oy(xs,"reviews",n)),console.log("Review deleted successfully")}catch(t){throw console.error("Error deleting review:",t),t}};var _1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ab=ls.createContext&&ls.createContext(_1),c9=["attr","size","title"];function h9(n,t){if(n==null)return{};var e=f9(n,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function f9(n,t){if(n==null)return{};var e={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(t.indexOf(r)>=0)continue;e[r]=n[r]}return e}function Rf(){return Rf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Rf.apply(this,arguments)}function ob(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function Cf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ob(Object(e),!0).forEach(function(r){d9(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ob(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function d9(n,t,e){return t=m9(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function m9(n){var t=p9(n,"string");return typeof t=="symbol"?t:t+""}function p9(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function T1(n){return n&&n.map((t,e)=>ls.createElement(t.tag,Cf({key:e},t.attr),T1(t.child)))}function ev(n){return t=>ls.createElement(g9,Rf({attr:Cf({},n.attr)},t),T1(n.child))}function g9(n){var t=e=>{var{attr:r,size:a,title:l}=n,c=h9(n,c9),d=a||e.size||"1em",m;return e.className&&(m=e.className),n.className&&(m=(m?m+" ":"")+n.className),ls.createElement("svg",Rf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,c,{className:m,style:Cf(Cf({color:n.color||e.color},e.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ls.createElement("title",null,l),n.children)};return ab!==void 0?ls.createElement(ab.Consumer,null,e=>t(e)):t(_1)}function y9(n){return ev({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function nv(n){return ev({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function E1(n){return ev({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function v9(){const[n,t]=L.useState([]),[e,r]=L.useState(""),[a,l]=L.useState(null),[c,d]=L.useState({}),[m,p]=L.useState([]),[v,T]=L.useState([]);L.useEffect(()=>{(async()=>{try{const N=(await Jy()).filter(nt=>nt.code&&nt.department);t(N);const P=N.map(async nt=>{const Z=await r9(nt.code);return{courseId:nt.code,reviews:Z}}),U=await Promise.all(P),$={};U.forEach(({courseId:nt,reviews:Z})=>{$[nt]=Z}),d($);const q=[...N].map(nt=>{var Z,ut;return{...nt,reviewCount:((Z=$[nt.code])==null?void 0:Z.length)||0,avgRating:((ut=$[nt.code])==null?void 0:ut.length)>0?($[nt.code].reduce((O,C)=>O+(C.rating||0),0)/$[nt.code].length).toFixed(1):"No Rating"}}).sort((nt,Z)=>Z.reviewCount-nt.reviewCount).slice(0,5);p(q)}catch(x){console.error("Error fetching courses:",x)}})()},[]);const S=[...new Set(n.map(b=>b.department).filter(Boolean))];return L.useEffect(()=>{if(!e){T([]);return}const b=n.filter(x=>{const N=x.name?x.name.toLowerCase():"",P=x.code?x.code.toLowerCase():"";return N.includes(e.toLowerCase())||P.includes(e.toLowerCase())});T(b),b.length>0&&b[0].department&&l(b[0].department)},[e,n]),z.jsxs("div",{className:"pt-20 relative min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex flex-col items-center px-6 py-12",children:[z.jsx("h1",{className:"text-5xl font-extrabold text-gray-900 text-center drop-shadow-lg",children:"Browse Courses"}),z.jsx("p",{className:"text-lg text-gray-600 mt-2 text-center",children:"Explore courses by department or search for a specific course."}),z.jsxs("div",{className:"relative w-full md:w-2/3 lg:w-1/2 mt-6",children:[z.jsx(nv,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 text-lg"}),z.jsx("input",{type:"text",placeholder:"Search for a course...",value:e,onChange:b=>r(b.target.value),className:"w-full p-4 pl-12 border rounded-xl shadow-lg bg-white focus:ring-2 focus:ring-red-500 focus:outline-none transition-all text-lg"})]}),z.jsx("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-6 w-full max-w-7xl",children:S.map(b=>z.jsx("button",{onClick:()=>l(b),className:`glass-card px-6 py-4 text-center font-semibold transition transform hover:scale-105 rounded-lg shadow-md ${a===b?"bg-red-600 text-white":"bg-white/40 text-gray-900 hover:bg-white/50"}`,children:b},b))}),z.jsx("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(v.length>0?v:n.filter(b=>b.department===a)).map(b=>{const x=c[b.code]||[];return z.jsxs("div",{className:"glass-card p-6 rounded-lg shadow-xl hover:shadow-2xl transition transform hover:scale-105 cursor-pointer relative",children:[z.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[b.name," (",b.code,")"]}),z.jsx("p",{className:"text-gray-500",children:b.department}),z.jsxs("p",{className:"text-gray-600 mt-2",children:["⭐ ",x.length>0?(x.reduce((N,P)=>N+(P.rating||0),0)/x.length).toFixed(1):"No Rating"]}),z.jsxs("p",{className:"text-gray-600",children:["📌 ",x.length," Reviews"]}),z.jsx(An,{to:`/review?course=${b.code}&name=${encodeURIComponent(b.name)}`,children:z.jsx("button",{className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Submit a Review"})})]},b.id)})}),z.jsxs("div",{className:"mt-12 w-full max-w-4xl",children:[z.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center",children:"🔥 Trending Courses"}),z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:m.map(b=>z.jsxs("div",{className:"glass-card p-6 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105 cursor-pointer",children:[z.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[b.name," (",b.code,")"]}),z.jsxs("p",{className:"text-gray-600",children:["📌 ",b.reviewCount," Reviews"]}),z.jsxs("p",{className:"text-gray-600",children:["⭐ ",b.avgRating]})]},b.id))})]})]})}function _9(){const[n,t]=L.useState([]),[e,r]=L.useState(""),[a,l]=L.useState(null),[c,d]=L.useState({}),[m,p]=L.useState([]),[v,T]=L.useState([]);L.useEffect(()=>{(async()=>{try{const x=await tv();t(x);const N=x.map(async q=>{const nt=await s9(q.id);return{professorId:q.id,reviews:nt}}),P=await Promise.all(N),U={};P.forEach(({professorId:q,reviews:nt})=>{U[q]=nt}),d(U);const $=[...x].map(q=>{var nt;return{...q,reviewCount:((nt=U[q.id])==null?void 0:nt.length)||0}}).sort((q,nt)=>nt.reviewCount-q.reviewCount).slice(0,5);p($)}catch(x){console.error("Error fetching professors:",x)}})()},[]);const S=[...new Set(n.flatMap(b=>b.departments||[]))];return L.useEffect(()=>{var b;if(e){const x=n.filter(N=>{var $,q;const P=($=N.name)==null?void 0:$.toLowerCase().includes(e.toLowerCase()),U=(q=N.departments)==null?void 0:q.some(nt=>nt.toLowerCase().includes(e.toLowerCase()));return P||U});if(T(x),x.length>0){const N=((b=x[0].departments)==null?void 0:b[0])||null;l(N)}}else T([])},[e,n]),L.useEffect(()=>{T(a?n.filter(b=>{var x;return(x=b.departments)==null?void 0:x.includes(a)}):[])},[a,n]),z.jsxs("div",{className:"pt-20 relative min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex flex-col items-center px-6 py-12",children:[z.jsx("h1",{className:"text-5xl font-extrabold text-gray-900 text-center drop-shadow-lg",children:"Browse Professors"}),z.jsx("p",{className:"text-lg text-gray-600 mt-2 text-center",children:"Search for professors or filter by department."}),z.jsxs("div",{className:"relative w-full md:w-1/2 mt-6",children:[z.jsx(nv,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500"}),z.jsx("input",{type:"text",placeholder:"Search for a professor...",value:e,onChange:b=>r(b.target.value),className:"w-full p-3 pl-12 border rounded-xl shadow-lg bg-white focus:ring-2 focus:ring-red-500 focus:outline-none transition-all"})]}),z.jsx("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:S.map(b=>z.jsx("button",{onClick:()=>l(b===a?null:b),className:`glass-card px-6 py-4 text-center font-semibold transition transform hover:scale-105 rounded-lg shadow-md ${a===b?"bg-red-600 text-white":"bg-white/40 text-gray-900 hover:bg-white/50"}`,children:b},b))}),v.length>0&&z.jsx("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(b=>{var N;const x=c[b.id]||[];return z.jsxs("div",{className:"glass-card p-6 rounded-lg shadow-xl hover:shadow-2xl transition transform hover:scale-105 cursor-pointer relative",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:b.name}),z.jsx("p",{className:"text-gray-500",children:((N=b.departments)==null?void 0:N.join(", "))||"Unknown Department"}),z.jsxs("p",{className:"text-gray-600 mt-2",children:["⭐ ",x.length>0?(x.reduce((P,U)=>P+(U.rating||0),0)/x.length).toFixed(1):"No Rating"]}),z.jsxs("p",{className:"text-gray-600",children:["📌 ",x.length," Reviews"]}),x.length>0?z.jsxs("div",{className:"mt-4 flex gap-2",children:[z.jsx(An,{to:`/review?professor=${b.id}&name=${encodeURIComponent(b.name)}`,children:z.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Submit a Review"})}),z.jsx(An,{to:`/allreviews?professor=${b.id}`,children:z.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"View Reviews"})})]}):z.jsx(An,{to:`/review?professor=${b.id}&name=${encodeURIComponent(b.name)}`,children:z.jsx("button",{className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Submit a Review"})})]},b.id)})}),z.jsxs("div",{className:"mt-12 w-full max-w-4xl",children:[z.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center",children:"Trending Professors"}),z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:m.map(b=>z.jsxs("div",{className:"glass-card p-6 rounded-lg shadow-lg hover:shadow-2xl transition transform hover:scale-105 cursor-pointer",children:[z.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:b.name}),z.jsxs("p",{className:"text-gray-600",children:["📌 ",b.reviewCount," Reviews"]})]},b.id))})]})]})}function T9({initialCourse:n="",initialProfessor:t=""}){const[e,r]=L.useState([]),[a,l]=L.useState([]),[c,d]=L.useState([]),[m,p]=L.useState(""),[v,T]=L.useState(n),[S,b]=L.useState(t),[x,N]=L.useState(""),[P,U]=L.useState([]),[$,q]=L.useState([]),[nt,Z]=L.useState(0),[ut,O]=L.useState(!1),[C]=SI(),R=C.get("course");C.get("name");const I=C.get("professor"),k=["Tough Exams","Many Assignments","Easy A","Interesting Material","Group Projects","Online Lectures","In-Person Lectures","Heavy Workload","Light Workload","Easy Exams","Practical Focus","Challenging but Rewarding","Project-Based","Curve Adjusted","Unorganized"],F=["Helpful","Strict","Engaging","Madatory Attendance","Fast-Paced","Slow-Paced","Encouraging","Hard to Understand","Lots of Extra Credit","Tough Grader","Great Feedback","Late Responses"];L.useEffect(()=>{async function ht(){const st=await Jy();l(st),r([...new Set(st.map(dt=>dt.department))]);const ft=await tv();if(d(ft),R){T(R);const dt=st.find(Vt=>Vt.code===R);dt&&p(dt.department)}I&&b(I),I&&b(I)}ht()},[]);const V=m?a.filter(ht=>ht.department===m):a;L.useEffect(()=>{if(v){const ht=a.find(st=>st.code===v);ht&&p(ht.department)}},[v,a]);const Wt=async ht=>{if(ht.preventDefault(),O(!0),!v||nt===0){alert("Please select a course and provide a rating."),O(!1);return}try{await a9({department:m,courseId:v.trim(),professorId:S||null,comments:x,courseTags:[...P],professorTags:[...$],rating:nt,timestamp:Ae.now()}),alert("Review submitted successfully!"),N(""),U([]),q([]),Z(0),n||T(""),t||b("")}catch(st){console.error("Error submitting review:",st),alert("Failed to submit review. Try again.")}O(!1)};return z.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white/40 backdrop-blur-md rounded-lg shadow-lg",children:[z.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Submit a Review"}),z.jsxs("form",{onSubmit:Wt,className:"space-y-4",children:[z.jsxs("label",{className:"block",children:[z.jsx("span",{className:"text-gray-700 font-semibold",children:"Department"}),z.jsxs("select",{className:"w-full mt-1 p-3 rounded-md border bg-white",value:m,onChange:ht=>{p(ht.target.value),T("")},children:[z.jsx("option",{value:"",children:"Select Department"}),e.map(ht=>z.jsx("option",{value:ht,children:ht},ht))]})]}),z.jsxs("label",{className:"block",children:[z.jsx("span",{className:"text-gray-700 font-semibold",children:"Course"}),z.jsxs("select",{className:"w-full mt-1 p-3 rounded-md border bg-white",value:v||"",onChange:ht=>T(ht.target.value),children:[z.jsx("option",{value:"",children:"Select Course"}),V.map(ht=>z.jsxs("option",{value:ht.code,children:[ht.name," (",ht.code,")"]},ht.code))]})]}),z.jsxs("label",{className:"block",children:[z.jsx("span",{className:"text-gray-700 font-semibold",children:"Professor "}),z.jsxs("select",{className:"w-full mt-1 p-3 rounded-md border bg-white",value:S||"",onChange:ht=>b(ht.target.value),children:[z.jsx("option",{value:"",children:"Select Professor"}),c.map(ht=>z.jsx("option",{value:ht.id,children:ht.name},ht.id))]})]}),z.jsxs("label",{className:"block",children:[z.jsx("span",{className:"text-gray-700 font-semibold",children:"Rating"}),z.jsx("div",{className:"flex space-x-2 mt-2",children:[1,2,3,4,5].map(ht=>z.jsx(E1,{className:`cursor-pointer text-3xl transition ${ht<=nt?"text-yellow-500":"text-gray-300 hover:text-yellow-400"}`,onClick:()=>Z(ht)},ht))}),nt===0&&z.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please select a rating before submitting."})]}),z.jsxs("label",{className:"block",children:[z.jsx("span",{className:"text-gray-700 font-semibold",children:"Course:"}),z.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:k.map(ht=>z.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg text-sm ${P.includes(ht)?"bg-red-600 text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>U(st=>st.includes(ht)?st.filter(ft=>ft!==ht):[...st,ht]),children:ht},ht))})]}),z.jsxs("label",{className:"block",children:[z.jsx("span",{className:"text-gray-700 font-semibold",children:"Professor:"}),z.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:F.map(ht=>z.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg text-sm ${$.includes(ht)?"bg-red-600 text-white":"bg-gray-200 text-gray-700"}`,onClick:()=>q(st=>st.includes(ht)?st.filter(ft=>ft!==ht):[...st,ht]),children:ht},ht))})]}),z.jsxs("label",{className:"block",children:[z.jsx("span",{className:"text-gray-700 font-semibold",children:"Comments"}),z.jsx("textarea",{className:"w-full mt-1 p-3 rounded-md border bg-white",rows:"4",value:x,onChange:ht=>N(ht.target.value),placeholder:"Write your review..."})]}),z.jsx("button",{type:"submit",className:"w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition",disabled:ut,children:ut?"Submitting...":"Submit Review"})]})]})}function E9(){const[n,t]=L.useState([]),[e,r]=L.useState([]),[a,l]=L.useState([]),[c,d]=L.useState(""),[m,p]=L.useState(""),[v,T]=L.useState("newest"),[S,b]=L.useState(null),[x,N]=L.useState(""),[P,U]=L.useState(""),[$,q]=L.useState(""),[nt,Z]=L.useState([]),[ut,O]=L.useState(0),[C,R]=L.useState(!1),[I,k]=L.useState([]),[F,V]=L.useState([]);L.useEffect(()=>{(async()=>{try{const[at,lt,ct]=await Promise.all([o9(),Jy(),tv()]);t(at),r(lt),l(ct)}catch(at){console.error("Error fetching data:",at)}})()},[]);const Wt=K=>{const at=e.find(lt=>lt.code===K);return at?`${at.code} - ${at.name}`:"Unknown Course"},ht=K=>{const at=a.find(lt=>lt.id===K);return at?at.name:"Unknown Professor"},ft=[...n.filter(K=>{const at=K.courseId?Wt(K.courseId).toLowerCase():"",lt=K.professorId?ht(K.professorId).toLowerCase():"",ct=K.department?String(K.department).toLowerCase():"",At=at.includes(c.toLowerCase())||lt.includes(c.toLowerCase())||ct.includes(c.toLowerCase()),bt=m?K.tags&&Array.isArray(K.tags)?K.tags.includes(m):!1:!0;return At&&bt})].sort((K,at)=>{var lt,ct,At,bt;return v==="newest"?(((lt=at.timestamp)==null?void 0:lt.seconds)||0)-(((ct=K.timestamp)==null?void 0:ct.seconds)||0):v==="oldest"?(((At=K.timestamp)==null?void 0:At.seconds)||0)-(((bt=at.timestamp)==null?void 0:bt.seconds)||0):0}),dt=async K=>{window.confirm("Are you sure you want to delete this review?")&&(await u9(K),t(n.filter(at=>at.id!==K)))},Vt=K=>{b(K),N(K.courseId||""),U(K.professorId||""),q(K.comments||""),Z(K.tags||[]),k(K.courseTags||[]),V(K.professorTags||[]),O(K.rating||0),R(!0)},M=async()=>{S&&(await l9(S.id,{courseId:x,professorId:P,comments:$,courseTags:[...I],professorTags:[...F],rating:ut}),t(n.map(K=>K.id===S.id?{...K,courseId:x,professorId:P,comments:$,courseTags:I,professorTags:F,rating:ut}:K)),R(!1))};return z.jsxs("div",{className:"min-h-screen bg-gray-100 p-8",children:[z.jsx("h1",{className:"text-4xl font-bold text-gray-900 text-center mb-8",children:"All Reviews"}),z.jsx("div",{className:"flex flex-wrap gap-4 justify-center items-center mb-10",children:z.jsxs("div",{className:"relative w-full md:w-2/3 lg:w-1/2",children:[z.jsx(nv,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 text-lg"}),z.jsx("input",{type:"text",placeholder:"Search by course, professor, or department...",value:c,onChange:K=>d(K.target.value),className:"w-full p-4 pl-12 border rounded-xl shadow-lg bg-white focus:ring-2 focus:ring-red-500 focus:outline-none transition-all text-lg"})]})}),z.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ft.map(K=>z.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg hover:shadow-2xl transition",children:[z.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[Wt(K.courseId)," - ",ht(K.professorId)]}),z.jsx("p",{className:"text-gray-600",children:K.department||"Unknown Department"}),z.jsx("p",{className:"text-gray-800 mt-2",children:K.comments}),z.jsxs("div",{className:"mt-3",children:[K.courseTags&&K.courseTags.length>0&&z.jsxs("p",{className:"text-sm text-gray-700",children:[z.jsx("strong",{children:"Course Tags:"})," ",K.courseTags.join(", ")]}),K.professorTags&&K.professorTags.length>0&&z.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[z.jsx("strong",{children:"Professor Tags:"})," ",K.professorTags.join(", ")]})]}),z.jsx("div",{className:"flex space-x-1 mt-2",children:[1,2,3,4,5].map(at=>z.jsx(E1,{className:`text-xl ${at<=K.rating?"text-yellow-500":"text-gray-300"}`},at))}),z.jsxs("div",{className:"flex gap-2 mt-4",children:[z.jsx("button",{onClick:()=>Vt(K),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Edit"}),z.jsx("button",{onClick:()=>dt(K.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]},K.id))}),C&&z.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40",children:z.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-[600px]",children:[z.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Review"}),z.jsx("textarea",{className:"w-full p-2 border rounded-md",value:$,onChange:K=>q(K.target.value)}),z.jsxs("div",{className:"mt-4",children:[z.jsx("h3",{className:"text-sm font-semibold",children:"Course:"}),z.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Tough Exams","Many Assignments","Easy A","Interesting Material","Group Projects","Online Lectures","In-Person Lectures","Heavy Workload","Light Workload","Easy Exams","Practical Focus","Challenging but Rewarding","Project-Based","Curve Adjusted","Unorganized"].map(K=>z.jsx("button",{type:"button",className:`px-3 py-1 border rounded-md ${I.includes(K)?"bg-red-600 text-white":"bg-gray-200"}`,onClick:()=>k(at=>at.includes(K)?at.filter(lt=>lt!==K):[...at,K]),children:K},K))})]}),z.jsxs("div",{className:"mt-4",children:[z.jsx("h3",{className:"text-sm font-semibold",children:"Professor:"}),z.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["Helpful","Strict","Engaging","Madatory Attendance","Fast-Paced","Slow-Paced","Encouraging","Hard to Understand","Lots of Extra Credit","Tough Grader","Great Feedback","Late Responses"].map(K=>z.jsx("button",{type:"button",className:`px-3 py-1 border rounded-md ${F.includes(K)?"bg-red-600 text-white":"bg-gray-200"}`,onClick:()=>V(at=>at.includes(K)?at.filter(lt=>lt!==K):[...at,K]),children:K},K))})]}),z.jsx("button",{className:"mt-4 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",onClick:M,children:"Save Changes"})]})})]})}function S9({user:n}){const t=async()=>{await W2(_y),console.log("User logged out")};return z.jsxs("nav",{className:"fixed top-0 left-0 w-full h-20 px-8 py-4 bg-white shadow-md flex justify-between items-center z-50",children:[z.jsx("h1",{className:"text-gray-900 text-2xl font-bold",children:"Rose Reviews"}),z.jsxs("div",{className:"space-x-6 text-gray-800 font-medium flex items-center",children:[z.jsx(An,{to:"/",className:"hover:text-red-500 transition",children:"Home"}),z.jsx(An,{to:"/courses",className:"hover:text-red-500 transition",children:"Courses"}),z.jsx(An,{to:"/profs",className:"hover:text-red-500 transition",children:"Professors"}),z.jsx(An,{to:"/allreviews",className:"hover:text-red-500 transition",children:"Reviews"}),z.jsx(An,{to:"/review",children:z.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 transition",children:"Submit Review"})}),n?z.jsxs("div",{className:"flex items-center space-x-4",children:[z.jsx("span",{className:"text-gray-900",children:n.displayName||"User"}),z.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Logout"})]}):null]})]})}function b9(){return z.jsx("footer",{className:"bg-white text-black py-6 text-center mt-10",children:z.jsxs("p",{className:"text-lg",children:["Made with ",z.jsx(y9,{className:"inline text-red-500 animate-pulse mx-1"})," at Rose-Hulman by"," ",z.jsx("a",{href:"https://aaryansi.com",target:"_blank",rel:"noopener noreferrer",className:"text-red-400 hover:text-red-500 font-semibold",children:"Aaryan"})]})})}const w9="62c320b3-a749-4d11-9994-4ce75959e8c5",A9=async()=>new Promise((n,t)=>{if(!window.Rosefire){t(new Error("Rosefire script not loaded!"));return}window.Rosefire.signIn(w9,async(e,r)=>{if(e){console.error("Rosefire error:",e),t(e);return}try{const a=await $2(_y,r.token);n(a.user)}catch(a){console.error("Firebase authentication failed:",a.message),t(a)}})});function R9({setUser:n}){const[t,e]=L.useState(!0),r=async()=>{try{const a=await A9();a?(n(a),e(!1)):setError("Login failed! Please try again.")}catch{setError("Login failed! Please try again.")}};return t?z.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-lg",children:z.jsxs(ns.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,ease:"easeOut"},className:"relative bg-white bg-opacity-50 backdrop-blur-md p-8 rounded-xl shadow-2xl text-center w-[90%] max-w-md border border-white/30",children:[z.jsxs("h2",{className:"text-4xl font-extrabold text-white mb-4 drop-shadow-lg",children:["Welcome to ",z.jsx("span",{className:"text-white-400",children:"Rose Reviews"})]}),z.jsx("p",{className:"text-black text-opacity-90 mb-6",children:"Sign in using your Rose-Hulman credentials to continue."}),z.jsx(ns.button,{onClick:r,whileHover:{scale:1.1,boxShadow:"0px 0px 15px rgba(255, 50, 50, 0.8)"},whileTap:{scale:.95},transition:{duration:.3,ease:"easeOut"},className:"px-6 py-3 text-white font-semibold text-lg rounded-full shadow-lg bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 transition-all duration-300 glow-effect",children:"🐘 Login with Rose-Hulman SSO"})]})}):null}function C9(){const[n,t]=L.useState(null),[e,r]=L.useState(!0);return L.useEffect(()=>{const a=X2(_y,l=>{t(l),r(!1)});return()=>a()},[]),e?z.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):z.jsxs(yI,{basename:"/",children:[z.jsx(S9,{user:n}),z.jsxs("div",{className:"pt-20",children:[z.jsx(Kx,{children:n?z.jsxs(z.Fragment,{children:[z.jsx(ua,{path:"/",element:z.jsx(i9,{})}),z.jsx(ua,{path:"/courses",element:z.jsx(v9,{})}),z.jsx(ua,{path:"/profs",element:z.jsx(_9,{})}),z.jsx(ua,{path:"/review",element:z.jsx(T9,{})}),z.jsx(ua,{path:"/allreviews",element:z.jsx(E9,{user:n})})]}):z.jsx(ua,{path:"/*",element:z.jsx(R9,{})})}),z.jsx(b9,{})]})]})}nx.createRoot(document.getElementById("root")).render(z.jsx(ls.StrictMode,{children:z.jsx(C9,{})}));
